{"ast":null,"code":"import { Subject } from 'rxjs/index';\nimport { takeUntil } from 'rxjs/operators';\nimport { ReferenceSearch } from 'app/models/project-management/project';\nimport { PaginatorPipe } from 'app/pipes/shared';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/services/shared\";\nimport * as i2 from \"app/services/project-management/project\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/list\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/datepicker\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"ng-multiselect-dropdown\";\nimport * as i10 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i11 from \"../../../../shared/paginator/paginator.component\";\nimport * as i12 from \"@angular/common\";\nimport * as i13 from \"@angular/material/progress-spinner\";\nimport * as i14 from \"./references-table/references-table.component\";\nimport * as i15 from \"../../../../pipes/shared/paginator.pipe\";\n\nfunction ReferencesComponent_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h1\");\n    i0.ɵɵtext(2, \"No Result Found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReferencesComponent_div_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵelementStart(1, \"div\", 34);\n    i0.ɵɵelementStart(2, \"div\", 35);\n    i0.ɵɵelementStart(3, \"div\", 1);\n    i0.ɵɵelementStart(4, \"div\", 36);\n    i0.ɵɵelement(5, \"mat-spinner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReferencesComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelement(1, \"app-references-table\", 38);\n    i0.ɵɵpipe(2, \"paginator\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"blurred\", ctx_r4.isLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"references\", i0.ɵɵpipeBind3(2, 3, ctx_r4.references, ctx_r4.searchFilterService.pageIndex, ctx_r4.searchFilterService.pageSize));\n  }\n}\n\nexport let ReferencesComponent = /*#__PURE__*/(() => {\n  class ReferencesComponent {\n    constructor(notificationService, dateTimeService, sortService, referenceService, router, searchFilterService) {\n      this.notificationService = notificationService;\n      this.dateTimeService = dateTimeService;\n      this.sortService = sortService;\n      this.referenceService = referenceService;\n      this.router = router;\n      this.searchFilterService = searchFilterService;\n      this.paginatorPipe = new PaginatorPipe(this.searchFilterService);\n      this.statusesIdentifiers = [];\n      this.selectedStatusesIdentifiers = [];\n      this.typesIdentifiers = [];\n      this.selectedTypesIdentifiers = [];\n      this.activitiesIdentifiers = [];\n      this.selectedActivitiesIdentifiers = [];\n      this.referenceCode = '';\n      this.title = '';\n      this.dropdownSettings = {};\n      this.dropdownStatusSettings = {};\n      this.references = [];\n      this.listView = false;\n      this.destroyed = new Subject();\n    }\n\n    ngOnInit() {\n      this.getStatuses();\n      this.getTypes();\n      this.searchFilterService.pageIndex = 0;\n      this.searchFilterService.pageSize = 24;\n      this.dropdownSettings = {\n        singleSelection: false,\n        idField: 'id',\n        textField: 'description',\n        selectAllText: 'Select All',\n        unSelectAllText: 'UnSelect All',\n        itemsShowLimit: 1,\n        enableCheckAll: true,\n        allowSearchFilter: true,\n        maxHeight: 150,\n        placeholder: 'criteria',\n        searchPlaceholderText: 'Search...'\n      };\n      this.dropdownStatusSettings = {\n        singleSelection: false,\n        idField: 'id',\n        textField: 'description',\n        selectAllText: 'Select All',\n        unSelectAllText: 'UnSelect All',\n        itemsShowLimit: 1,\n        enableCheckAll: true,\n        allowSearchFilter: false,\n        maxHeight: 150,\n        placeholder: 'criteria',\n        searchPlaceholderText: 'Search...'\n      };\n      this.subscription = this.referenceService.sortReferences.subscribe(event => {\n        this.onSortData(event);\n      });\n      this.periodTo = this.dateTimeService.today();\n      this.periodFrom = this.dateTimeService.getFirstDayFromPreviousMonth();\n      const referenceSearch = JSON.parse(sessionStorage.getItem('referenceSearch'));\n\n      if (referenceSearch !== null) {\n        this.title = referenceSearch.title;\n        this.referenceCode = referenceSearch.referenceCode;\n        this.selectedStatusesIdentifiers = referenceSearch.selectedStatusesIdentifiers;\n        this.selectedStatusesIds = this.selectedStatusesIdentifiers.map(state => state.id).join(',');\n        this.selectedTypesIdentifiers = referenceSearch.selectedTypesIdentifiers;\n        this.selectedTypesIds = this.selectedTypesIdentifiers.map(customer => customer.id).join(',');\n        this.selectedActivitiesIdentifiers = referenceSearch.selectedActivitiesIdentifiers;\n        this.selectedActivitiesIds = this.selectedActivitiesIdentifiers.map(activity => activity.id).join(',');\n\n        if (referenceSearch.periodFrom != null) {\n          this.periodFrom = referenceSearch.periodFrom;\n        }\n\n        if (referenceSearch.periodTo != null) {\n          this.periodTo = referenceSearch.periodTo;\n        }\n      }\n\n      this.refreshSubscription = this.referenceService.savedReference.pipe(takeUntil(this.destroyed)).subscribe(data => {\n        if (data && data.getPrevious === true) {\n          this.searchButton();\n          this.searchFilterService.pageSize = data.pageSize;\n          this.searchFilterService.pageIndex = data.pageIndex;\n          this.destroyed.next();\n          this.referenceService.savedReference.next();\n        }\n      });\n    }\n\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n      this.refreshSubscription.unsubscribe();\n      this.searchFilterService.showingDataLastFilter = [];\n    }\n\n    onResetAllFilters() {\n      this.onResetTitle();\n      this.onResetReference();\n      this.onResetStatus();\n      this.onResetType();\n      this.onResetStartDateRange();\n      this.onResetEndDateRange();\n      this.onResetActivity();\n    }\n\n    getStatuses() {\n      this.referenceService.getDocumentStates().subscribe(data => {\n        if (data != null) {\n          this.statusesIdentifiers = data;\n\n          if (this.selectedStatusesIds !== null && this.selectedStatusesIds !== undefined) {\n            this.selectedStatusesIds = this.statusesIdentifiers.map(status => status.id).join(',');\n          }\n        }\n      });\n    }\n\n    getTypes() {\n      this.referenceService.getTypesDocuments().subscribe(data => {\n        if (data != null) {\n          this.typesIdentifiers = data;\n\n          if (!(this.selectedTypesIds === null || this.selectedTypesIds === undefined)) {\n            this.selectedTypesIds = this.typesIdentifiers.map(status => status.id).join(',');\n          }\n        }\n      });\n    }\n\n    onResetTitle() {\n      this.title = undefined;\n    }\n\n    onResetActivity() {\n      const selectedActivities = [];\n      selectedActivities.push(this.activitiesIdentifiers.find(activity => activity.id === JSON.parse(localStorage.getItem('currentUser')).activityId));\n      this.selectedActivitiesIdentifiers = selectedActivities;\n      sessionStorage.removeItem('referenceSearch');\n    }\n\n    onResetReference() {\n      this.referenceCode = undefined;\n    }\n\n    onResetStatus() {\n      this.selectedStatusesIdentifiers = [];\n    }\n\n    onResetType() {\n      this.selectedTypesIdentifiers = [];\n    }\n\n    onResetStartDateRange() {\n      this.periodFrom = this.dateTimeService.getFirstDayFromPreviousMonth();\n    }\n\n    onResetEndDateRange() {\n      this.periodTo = this.dateTimeService.today();\n    }\n\n    searchButton() {\n      if (this.periodFrom !== null && this.periodTo !== null) {\n        this.searchFilterService.pageIndex = 0;\n        this.selectedStatusesIds = this.selectedStatusesIdentifiers.map(state => state.id).join(',');\n        this.selectedTypesIds = this.selectedTypesIdentifiers.map(type => type.id).join(',');\n        this.selectedActivitiesIds = this.selectedActivitiesIdentifiers.map(activity => activity.id).join(',');\n        const referenceSearch = new ReferenceSearch();\n        referenceSearch.title = this.title;\n        referenceSearch.referenceCode = this.referenceCode;\n        referenceSearch.selectedStatusesIdentifiers = this.selectedStatusesIdentifiers;\n        referenceSearch.selectedTypesIdentifiers = this.selectedTypesIdentifiers;\n        referenceSearch.selectedActivitiesIdentifiers = this.selectedActivitiesIdentifiers;\n        referenceSearch.periodFrom = this.periodFrom;\n        referenceSearch.periodTo = this.periodTo;\n        sessionStorage.setItem('referenceSearch', JSON.stringify(referenceSearch));\n        this.isLoading = true;\n        this.referenceService.getReferencesProjects(this.title, this.referenceCode, this.selectedStatusesIds, this.selectedTypesIds, this.selectedActivitiesIds, this.periodFrom, this.periodTo).subscribe(data => {\n          this.isLoading = false;\n          this.references = data;\n          this.lengthReferences = this.references.length;\n\n          if (data.length !== 0) {\n            this.listView = true;\n          } else {\n            this.listView = false;\n          }\n        });\n      } else {\n        this.notificationService.danger('Please fill dates fields');\n      }\n    }\n\n    onClickingEnter(event) {\n      if (event.key === 'Enter') {\n        this.searchButton();\n      }\n    }\n\n    dateOnly(event) {\n      return this.dateTimeService.dateOnly(event);\n    }\n\n    onSortData(sort) {\n      if (sort.active && sort.direction !== '') {\n        if (this.references !== undefined) {\n          this.references.sort((a, b) => {\n            const isAsc = sort.direction === 'asc';\n\n            switch (sort.active) {\n              case 'referenceCode':\n                return this.sortService.compare(a.referenceCode, b.referenceCode, isAsc, false);\n\n              case 'title':\n                return this.sortService.compare(a.title, b.title, isAsc, false);\n\n              case 'edition':\n                return this.sortService.compare(a.edition, b.edition, isAsc, true);\n\n              case 'creationDate':\n                return this.sortService.compare(a.creationDate, b.creationDate, isAsc, false);\n\n              case 'state':\n                return this.sortService.compare(a.state, b.state, isAsc, false);\n\n              case 'type':\n                return this.sortService.compare(a.type, b.type, isAsc, false);\n\n              default:\n                return 0;\n            }\n          });\n        }\n      }\n\n      this.paginatorPipe.transform(this.references, this.searchFilterService.pageIndex, this.searchFilterService.pageSize);\n    }\n\n    AddReference() {\n      this.router.navigate(['/project-management/project/add-reference']);\n\n      if (this.lengthReferences !== undefined && this.lengthReferences !== 0) {\n        this.referenceService.savedReference.next({\n          'getPrevious': false,\n          'pageIndex': this.searchFilterService.pageIndex,\n          'pageSize': this.searchFilterService.pageSize\n        });\n      }\n    }\n\n  }\n\n  ReferencesComponent.ɵfac = function ReferencesComponent_Factory(t) {\n    return new (t || ReferencesComponent)(i0.ɵɵdirectiveInject(i1.NotificationService), i0.ɵɵdirectiveInject(i1.DateTimeService), i0.ɵɵdirectiveInject(i1.SortService), i0.ɵɵdirectiveInject(i2.ReferenceService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i1.SearchFilterService));\n  };\n\n  ReferencesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReferencesComponent,\n    selectors: [[\"app-references\"]],\n    decls: 68,\n    vars: 28,\n    consts: [[1, \"page-body\"], [1, \"row\"], [1, \"col-xl-12\", \"col-lg-12\", \"filter-bar\"], [1, \"card\", \"m-b-10\"], [1, \"card-body\", \"p-t-10\"], [1, \"col-xl-4\", \"col-lg-12\"], [1, \"mat-subheader\", \"col-sm-2\"], [1, \"date-field\", \"col-sm-5\"], [\"matInput\", \"\", \"placeholder\", \"From\", \"required\", \"\", 3, \"matDatepicker\", \"max\", \"ngModel\", \"keypress\", \"ngModelChange\", \"keydown\"], [\"matSuffix\", \"\", 3, \"for\"], [\"picker11\", \"\"], [\"matInput\", \"\", \"placeholder\", \"To\", \"required\", \"\", 3, \"matDatepicker\", \"min\", \"ngModel\", \"keypress\", \"ngModelChange\", \"keydown\"], [\"picker22\", \"\"], [1, \"search-input\", \"col-sm-10\"], [\"placeholder\", \"Search here...\", \"matInput\", \"\", \"name\", \"searchInput\", 3, \"ngModel\", \"ngModelChange\", \"keydown\"], [1, \"col-sm-10\"], [1, \"multi-search\", 3, \"placeholder\", \"data\", \"ngModel\", \"settings\", \"ngModelChange\"], [1, \"col-xl-3\", \"col-lg-12\"], [1, \"multi-search\", 2, \"width\", \"100%\", 3, \"placeholder\", \"data\", \"ngModel\", \"settings\", \"ngModelChange\"], [1, \"col-xl-1\", \"col-lg-12\"], [1, \"text-center\"], [1, \"btn\", \"btn-md\", \"btn-primary\", \"ripple\", \"m-t-5\", 3, \"click\"], [1, \"btn\", \"btn-md\", \"btn-default\", \"ripple\", \"light\", \"m-t-10\", 3, \"click\"], [1, \"navbar\", \"navbar-light\", \"bg-faded\", \"m-b-10\", \"p-10\"], [1, \"col-sm-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-primary\", \"waves-light\", \"m-r-10\", \"ripple\", 2, \"font-size\", \"inherit\", 3, \"click\"], [1, \"icofont\", \"icofont-plus\"], [1, \"col-sm-8\"], [3, \"pageSize\", \"pageIndex\", \"length\"], [4, \"ngIf\"], [1, \"wrapper\"], [\"class\", \"overlay\", 4, \"ngIf\"], [\"class\", \"loaded-content\", 3, \"blurred\", 4, \"ngIf\"], [1, \"overlay\"], [1, \"spinner-wrapper\"], [1, \"container\"], [\"id\", \"loader\"], [1, \"loaded-content\"], [3, \"references\"]],\n    template: function ReferencesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 1);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"mat-list\");\n        i0.ɵɵelementStart(8, \"mat-list-item\");\n        i0.ɵɵelementStart(9, \"h3\", 6);\n        i0.ɵɵtext(10, \"Period\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"mat-form-field\", 7);\n        i0.ɵɵelementStart(12, \"input\", 8);\n        i0.ɵɵlistener(\"keypress\", function ReferencesComponent_Template_input_keypress_12_listener($event) {\n          return ctx.dateOnly($event);\n        })(\"ngModelChange\", function ReferencesComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.periodFrom = $event;\n        })(\"keydown\", function ReferencesComponent_Template_input_keydown_12_listener($event) {\n          return ctx.onClickingEnter($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"mat-datepicker-toggle\", 9);\n        i0.ɵɵelement(14, \"mat-datepicker\", null, 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"mat-form-field\", 7);\n        i0.ɵɵelementStart(17, \"input\", 11);\n        i0.ɵɵlistener(\"keypress\", function ReferencesComponent_Template_input_keypress_17_listener($event) {\n          return ctx.dateOnly($event);\n        })(\"ngModelChange\", function ReferencesComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.periodTo = $event;\n        })(\"keydown\", function ReferencesComponent_Template_input_keydown_17_listener($event) {\n          return ctx.onClickingEnter($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"mat-datepicker-toggle\", 9);\n        i0.ɵɵelement(19, \"mat-datepicker\", null, 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"mat-list-item\");\n        i0.ɵɵelementStart(22, \"h3\", 6);\n        i0.ɵɵtext(23, \"Ref.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"mat-form-field\", 13);\n        i0.ɵɵelementStart(25, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_input_ngModelChange_25_listener($event) {\n          return ctx.referenceCode = $event;\n        })(\"keydown\", function ReferencesComponent_Template_input_keydown_25_listener($event) {\n          return ctx.onClickingEnter($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 5);\n        i0.ɵɵelementStart(27, \"mat-list\");\n        i0.ɵɵelementStart(28, \"mat-list-item\");\n        i0.ɵɵelementStart(29, \"h3\", 6);\n        i0.ɵɵtext(30, \"Activity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 15);\n        i0.ɵɵelementStart(32, \"ng-multiselect-dropdown\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_ng_multiselect_dropdown_ngModelChange_32_listener($event) {\n          return ctx.selectedActivitiesIdentifiers = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"mat-list-item\");\n        i0.ɵɵelementStart(34, \"h3\", 6);\n        i0.ɵɵtext(35, \"Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"mat-form-field\", 13);\n        i0.ɵɵelementStart(37, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_input_ngModelChange_37_listener($event) {\n          return ctx.title = $event;\n        })(\"keydown\", function ReferencesComponent_Template_input_keydown_37_listener($event) {\n          return ctx.onClickingEnter($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 17);\n        i0.ɵɵelementStart(39, \"mat-list\");\n        i0.ɵɵelementStart(40, \"mat-list-item\");\n        i0.ɵɵelementStart(41, \"h3\", 6);\n        i0.ɵɵtext(42, \"Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"div\", 15);\n        i0.ɵɵelementStart(44, \"ng-multiselect-dropdown\", 18);\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_ng_multiselect_dropdown_ngModelChange_44_listener($event) {\n          return ctx.selectedStatusesIdentifiers = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"mat-list-item\");\n        i0.ɵɵelementStart(46, \"h3\", 6);\n        i0.ɵɵtext(47, \"Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"div\", 15);\n        i0.ɵɵelementStart(49, \"ng-multiselect-dropdown\", 18);\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_ng_multiselect_dropdown_ngModelChange_49_listener($event) {\n          return ctx.selectedTypesIdentifiers = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 19);\n        i0.ɵɵelementStart(51, \"div\", 20);\n        i0.ɵɵelementStart(52, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function ReferencesComponent_Template_button_click_52_listener() {\n          return ctx.searchButton();\n        });\n        i0.ɵɵtext(53, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\", 20);\n        i0.ɵɵelementStart(55, \"button\", 22);\n        i0.ɵɵlistener(\"click\", function ReferencesComponent_Template_button_click_55_listener() {\n          return ctx.onResetAllFilters();\n        });\n        i0.ɵɵtext(56, \"Reset\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"nav\", 23);\n        i0.ɵɵelementStart(58, \"div\", 24);\n        i0.ɵɵelementStart(59, \"button\", 25);\n        i0.ɵɵlistener(\"click\", function ReferencesComponent_Template_button_click_59_listener() {\n          return ctx.AddReference();\n        });\n        i0.ɵɵelement(60, \"em\", 26);\n        i0.ɵɵtext(61, \" Reference \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"div\", 27);\n        i0.ɵɵelement(63, \"app-paginator\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(64, ReferencesComponent_div_64_Template, 3, 0, \"div\", 29);\n        i0.ɵɵelementStart(65, \"div\", 30);\n        i0.ɵɵtemplate(66, ReferencesComponent_div_66_Template, 6, 0, \"div\", 31);\n        i0.ɵɵtemplate(67, ReferencesComponent_div_67_Template, 3, 7, \"div\", 32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(15);\n\n        const _r1 = i0.ɵɵreference(20);\n\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"matDatepicker\", _r0)(\"max\", ctx.periodTo)(\"ngModel\", ctx.periodFrom);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r0);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"matDatepicker\", _r1)(\"min\", ctx.periodFrom)(\"ngModel\", ctx.periodTo);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"for\", _r1);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.referenceCode);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"placeholder\", \"Select...\")(\"data\", ctx.activitiesIdentifiers)(\"ngModel\", ctx.selectedActivitiesIdentifiers)(\"settings\", ctx.dropdownSettings);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.title);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"placeholder\", \"Select...\")(\"data\", ctx.statusesIdentifiers)(\"ngModel\", ctx.selectedStatusesIdentifiers)(\"settings\", ctx.dropdownStatusSettings);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"placeholder\", \"Select...\")(\"data\", ctx.typesIdentifiers)(\"ngModel\", ctx.selectedTypesIdentifiers)(\"settings\", ctx.dropdownSettings);\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"pageSize\", ctx.searchFilterService.pageSize)(\"pageIndex\", ctx.searchFilterService.pageIndex)(\"length\", ctx.lengthReferences);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.lengthReferences === 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.listView);\n      }\n    },\n    directives: [i4.MatList, i4.MatListItem, i5.MatFormField, i6.MatInput, i7.MatDatepickerInput, i8.DefaultValueAccessor, i8.RequiredValidator, i8.NgControlStatus, i8.NgModel, i7.MatDatepickerToggle, i5.MatSuffix, i7.MatDatepicker, i9.MultiSelectComponent, i10.NgbNavbar, i11.PaginatorComponent, i12.NgIf, i13.MatSpinner, i14.ReferencesTableComponent],\n    pipes: [i15.PaginatorPipe],\n    styles: [\".filter-button{text-align:center;width:100%;margin:2%}.search-input{font-size:14px}.date-field{font-size:14px}.pointer{cursor:pointer}.reset-all-btn{cursor:pointer;font-size:20px}.reset-all-btn:hover{color:red}.arrow-icon{font-size:10px}.close-icon{float:right;font-size:22px}.multi-search{width:100%}.ngb-accordion .card .card-header{padding-left:5px}.ngb-accordion .card .card-header .a{font-size:15px}.mat-list .mat-subheader{height:40px;padding:0 5px;font-size:15px;font-weight:bolder}.mat-list-header{height:40px;padding:0 5px;font-size:15px;font-weight:bolder}.wrapper{width:100%;height:100%}.overlay{position:absolute;z-index:1002;background-color:#ffffff80;width:100%;height:100%}.spinner-wrapper{display:flex;justify-content:center;justify-items:center}#loader{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}\\n\"],\n    encapsulation: 2\n  });\n  return ReferencesComponent;\n})();","map":{"version":3,"sources":["C:/Users/pprod/Desktop/satge PFE/satge PFE/TelnetTeamClient/src/app/components/project-management/project/references/references.component.ts"],"names":["Subject","takeUntil","ReferenceSearch","PaginatorPipe","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","i12","i13","i14","i15","ReferencesComponent_div_64_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ReferencesComponent_div_66_Template","ɵɵelement","ReferencesComponent_div_67_Template","ɵɵpipe","ctx_r4","ɵɵnextContext","ɵɵclassProp","isLoading","ɵɵadvance","ɵɵproperty","ɵɵpipeBind3","references","searchFilterService","pageIndex","pageSize","ReferencesComponent","constructor","notificationService","dateTimeService","sortService","referenceService","router","paginatorPipe","statusesIdentifiers","selectedStatusesIdentifiers","typesIdentifiers","selectedTypesIdentifiers","activitiesIdentifiers","selectedActivitiesIdentifiers","referenceCode","title","dropdownSettings","dropdownStatusSettings","listView","destroyed","ngOnInit","getStatuses","getTypes","singleSelection","idField","textField","selectAllText","unSelectAllText","itemsShowLimit","enableCheckAll","allowSearchFilter","maxHeight","placeholder","searchPlaceholderText","subscription","sortReferences","subscribe","event","onSortData","periodTo","today","periodFrom","getFirstDayFromPreviousMonth","referenceSearch","JSON","parse","sessionStorage","getItem","selectedStatusesIds","map","state","id","join","selectedTypesIds","customer","selectedActivitiesIds","activity","refreshSubscription","savedReference","pipe","data","getPrevious","searchButton","next","ngOnDestroy","unsubscribe","showingDataLastFilter","onResetAllFilters","onResetTitle","onResetReference","onResetStatus","onResetType","onResetStartDateRange","onResetEndDateRange","onResetActivity","getDocumentStates","undefined","status","getTypesDocuments","selectedActivities","push","find","localStorage","activityId","removeItem","type","setItem","stringify","getReferencesProjects","lengthReferences","length","danger","onClickingEnter","key","dateOnly","sort","active","direction","a","b","isAsc","compare","edition","creationDate","transform","AddReference","navigate","ɵfac","ReferencesComponent_Factory","t","ɵɵdirectiveInject","NotificationService","DateTimeService","SortService","ReferenceService","Router","SearchFilterService","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","ReferencesComponent_Template","ɵɵlistener","ReferencesComponent_Template_input_keypress_12_listener","$event","ReferencesComponent_Template_input_ngModelChange_12_listener","ReferencesComponent_Template_input_keydown_12_listener","ReferencesComponent_Template_input_keypress_17_listener","ReferencesComponent_Template_input_ngModelChange_17_listener","ReferencesComponent_Template_input_keydown_17_listener","ReferencesComponent_Template_input_ngModelChange_25_listener","ReferencesComponent_Template_input_keydown_25_listener","ReferencesComponent_Template_ng_multiselect_dropdown_ngModelChange_32_listener","ReferencesComponent_Template_input_ngModelChange_37_listener","ReferencesComponent_Template_input_keydown_37_listener","ReferencesComponent_Template_ng_multiselect_dropdown_ngModelChange_44_listener","ReferencesComponent_Template_ng_multiselect_dropdown_ngModelChange_49_listener","ReferencesComponent_Template_button_click_52_listener","ReferencesComponent_Template_button_click_55_listener","ReferencesComponent_Template_button_click_59_listener","ɵɵtemplate","_r0","ɵɵreference","_r1","directives","MatList","MatListItem","MatFormField","MatInput","MatDatepickerInput","DefaultValueAccessor","RequiredValidator","NgControlStatus","NgModel","MatDatepickerToggle","MatSuffix","MatDatepicker","MultiSelectComponent","NgbNavbar","PaginatorComponent","NgIf","MatSpinner","ReferencesTableComponent","pipes","styles","encapsulation"],"mappings":"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","sourcesContent":["import { Subject } from 'rxjs/index';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { ReferenceSearch } from 'app/models/project-management/project';\r\nimport { PaginatorPipe } from 'app/pipes/shared';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"app/services/shared\";\r\nimport * as i2 from \"app/services/project-management/project\";\r\nimport * as i3 from \"@angular/router\";\r\nimport * as i4 from \"@angular/material/list\";\r\nimport * as i5 from \"@angular/material/form-field\";\r\nimport * as i6 from \"@angular/material/input\";\r\nimport * as i7 from \"@angular/material/datepicker\";\r\nimport * as i8 from \"@angular/forms\";\r\nimport * as i9 from \"ng-multiselect-dropdown\";\r\nimport * as i10 from \"@ng-bootstrap/ng-bootstrap\";\r\nimport * as i11 from \"../../../../shared/paginator/paginator.component\";\r\nimport * as i12 from \"@angular/common\";\r\nimport * as i13 from \"@angular/material/progress-spinner\";\r\nimport * as i14 from \"./references-table/references-table.component\";\r\nimport * as i15 from \"../../../../pipes/shared/paginator.pipe\";\r\nfunction ReferencesComponent_div_64_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵelementStart(1, \"h1\");\r\n    i0.ɵɵtext(2, \"No Result Found\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ReferencesComponent_div_66_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 33);\r\n    i0.ɵɵelementStart(1, \"div\", 34);\r\n    i0.ɵɵelementStart(2, \"div\", 35);\r\n    i0.ɵɵelementStart(3, \"div\", 1);\r\n    i0.ɵɵelementStart(4, \"div\", 36);\r\n    i0.ɵɵelement(5, \"mat-spinner\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ReferencesComponent_div_67_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 37);\r\n    i0.ɵɵelement(1, \"app-references-table\", 38);\r\n    i0.ɵɵpipe(2, \"paginator\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r4 = i0.ɵɵnextContext();\r\n    i0.ɵɵclassProp(\"blurred\", ctx_r4.isLoading);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"references\", i0.ɵɵpipeBind3(2, 3, ctx_r4.references, ctx_r4.searchFilterService.pageIndex, ctx_r4.searchFilterService.pageSize));\r\n} }\r\nexport class ReferencesComponent {\r\n    constructor(notificationService, dateTimeService, sortService, referenceService, router, searchFilterService) {\r\n        this.notificationService = notificationService;\r\n        this.dateTimeService = dateTimeService;\r\n        this.sortService = sortService;\r\n        this.referenceService = referenceService;\r\n        this.router = router;\r\n        this.searchFilterService = searchFilterService;\r\n        this.paginatorPipe = new PaginatorPipe(this.searchFilterService);\r\n        this.statusesIdentifiers = [];\r\n        this.selectedStatusesIdentifiers = [];\r\n        this.typesIdentifiers = [];\r\n        this.selectedTypesIdentifiers = [];\r\n        this.activitiesIdentifiers = [];\r\n        this.selectedActivitiesIdentifiers = [];\r\n        this.referenceCode = '';\r\n        this.title = '';\r\n        this.dropdownSettings = {};\r\n        this.dropdownStatusSettings = {};\r\n        this.references = [];\r\n        this.listView = false;\r\n        this.destroyed = new Subject();\r\n    }\r\n    ngOnInit() {\r\n        this.getStatuses();\r\n        this.getTypes();\r\n        this.searchFilterService.pageIndex = 0;\r\n        this.searchFilterService.pageSize = 24;\r\n        this.dropdownSettings = {\r\n            singleSelection: false,\r\n            idField: 'id',\r\n            textField: 'description',\r\n            selectAllText: 'Select All',\r\n            unSelectAllText: 'UnSelect All',\r\n            itemsShowLimit: 1,\r\n            enableCheckAll: true,\r\n            allowSearchFilter: true,\r\n            maxHeight: 150,\r\n            placeholder: 'criteria',\r\n            searchPlaceholderText: 'Search...'\r\n        };\r\n        this.dropdownStatusSettings = {\r\n            singleSelection: false,\r\n            idField: 'id',\r\n            textField: 'description',\r\n            selectAllText: 'Select All',\r\n            unSelectAllText: 'UnSelect All',\r\n            itemsShowLimit: 1,\r\n            enableCheckAll: true,\r\n            allowSearchFilter: false,\r\n            maxHeight: 150,\r\n            placeholder: 'criteria',\r\n            searchPlaceholderText: 'Search...'\r\n        };\r\n        this.subscription = this.referenceService.sortReferences.subscribe((event) => {\r\n            this.onSortData(event);\r\n        });\r\n        this.periodTo = this.dateTimeService.today();\r\n        this.periodFrom = this.dateTimeService.getFirstDayFromPreviousMonth();\r\n        const referenceSearch = JSON.parse(sessionStorage.getItem('referenceSearch'));\r\n        if (referenceSearch !== null) {\r\n            this.title = referenceSearch.title;\r\n            this.referenceCode = referenceSearch.referenceCode;\r\n            this.selectedStatusesIdentifiers = referenceSearch.selectedStatusesIdentifiers;\r\n            this.selectedStatusesIds = this.selectedStatusesIdentifiers.map(state => state.id).join(',');\r\n            this.selectedTypesIdentifiers = referenceSearch.selectedTypesIdentifiers;\r\n            this.selectedTypesIds = this.selectedTypesIdentifiers.map(customer => customer.id).join(',');\r\n            this.selectedActivitiesIdentifiers = referenceSearch.selectedActivitiesIdentifiers;\r\n            this.selectedActivitiesIds = this.selectedActivitiesIdentifiers.map(activity => activity.id).join(',');\r\n            if (referenceSearch.periodFrom != null) {\r\n                this.periodFrom = referenceSearch.periodFrom;\r\n            }\r\n            if (referenceSearch.periodTo != null) {\r\n                this.periodTo = referenceSearch.periodTo;\r\n            }\r\n        }\r\n        this.refreshSubscription = this.referenceService.savedReference.pipe(takeUntil(this.destroyed)).subscribe(data => {\r\n            if (data && data.getPrevious === true) {\r\n                this.searchButton();\r\n                this.searchFilterService.pageSize = data.pageSize;\r\n                this.searchFilterService.pageIndex = data.pageIndex;\r\n                this.destroyed.next();\r\n                this.referenceService.savedReference.next();\r\n            }\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n        this.refreshSubscription.unsubscribe();\r\n        this.searchFilterService.showingDataLastFilter = [];\r\n    }\r\n    onResetAllFilters() {\r\n        this.onResetTitle();\r\n        this.onResetReference();\r\n        this.onResetStatus();\r\n        this.onResetType();\r\n        this.onResetStartDateRange();\r\n        this.onResetEndDateRange();\r\n        this.onResetActivity();\r\n    }\r\n    getStatuses() {\r\n        this.referenceService.getDocumentStates()\r\n            .subscribe(data => {\r\n            if (data != null) {\r\n                this.statusesIdentifiers = data;\r\n                if ((this.selectedStatusesIds !== null && this.selectedStatusesIds !== undefined)) {\r\n                    this.selectedStatusesIds = this.statusesIdentifiers.map(status => status.id).join(',');\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getTypes() {\r\n        this.referenceService.getTypesDocuments()\r\n            .subscribe(data => {\r\n            if (data != null) {\r\n                this.typesIdentifiers = data;\r\n                if (!(this.selectedTypesIds === null || this.selectedTypesIds === undefined)) {\r\n                    this.selectedTypesIds = this.typesIdentifiers.map(status => status.id).join(',');\r\n                }\r\n            }\r\n        });\r\n    }\r\n    onResetTitle() {\r\n        this.title = undefined;\r\n    }\r\n    onResetActivity() {\r\n        const selectedActivities = [];\r\n        selectedActivities.push(this.activitiesIdentifiers.find(activity => activity.id === JSON.parse(localStorage.getItem('currentUser')).activityId));\r\n        this.selectedActivitiesIdentifiers = selectedActivities;\r\n        sessionStorage.removeItem('referenceSearch');\r\n    }\r\n    onResetReference() {\r\n        this.referenceCode = undefined;\r\n    }\r\n    onResetStatus() {\r\n        this.selectedStatusesIdentifiers = [];\r\n    }\r\n    onResetType() {\r\n        this.selectedTypesIdentifiers = [];\r\n    }\r\n    onResetStartDateRange() {\r\n        this.periodFrom = this.dateTimeService.getFirstDayFromPreviousMonth();\r\n    }\r\n    onResetEndDateRange() {\r\n        this.periodTo = this.dateTimeService.today();\r\n    }\r\n    searchButton() {\r\n        if (this.periodFrom !== null && this.periodTo !== null) {\r\n            this.searchFilterService.pageIndex = 0;\r\n            this.selectedStatusesIds = this.selectedStatusesIdentifiers.map(state => state.id).join(',');\r\n            this.selectedTypesIds = this.selectedTypesIdentifiers.map(type => type.id).join(',');\r\n            this.selectedActivitiesIds = this.selectedActivitiesIdentifiers.map(activity => activity.id).join(',');\r\n            const referenceSearch = new ReferenceSearch();\r\n            referenceSearch.title = this.title;\r\n            referenceSearch.referenceCode = this.referenceCode;\r\n            referenceSearch.selectedStatusesIdentifiers = this.selectedStatusesIdentifiers;\r\n            referenceSearch.selectedTypesIdentifiers = this.selectedTypesIdentifiers;\r\n            referenceSearch.selectedActivitiesIdentifiers = this.selectedActivitiesIdentifiers;\r\n            referenceSearch.periodFrom = this.periodFrom;\r\n            referenceSearch.periodTo = this.periodTo;\r\n            sessionStorage.setItem('referenceSearch', JSON.stringify(referenceSearch));\r\n            this.isLoading = true;\r\n            this.referenceService.getReferencesProjects(this.title, this.referenceCode, this.selectedStatusesIds, this.selectedTypesIds, this.selectedActivitiesIds, this.periodFrom, this.periodTo).subscribe(data => {\r\n                this.isLoading = false;\r\n                this.references = data;\r\n                this.lengthReferences = this.references.length;\r\n                if (data.length !== 0) {\r\n                    this.listView = true;\r\n                }\r\n                else {\r\n                    this.listView = false;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.notificationService.danger('Please fill dates fields');\r\n        }\r\n    }\r\n    onClickingEnter(event) {\r\n        if (event.key === 'Enter') {\r\n            this.searchButton();\r\n        }\r\n    }\r\n    dateOnly(event) {\r\n        return this.dateTimeService.dateOnly(event);\r\n    }\r\n    onSortData(sort) {\r\n        if (sort.active && sort.direction !== '') {\r\n            if (this.references !== undefined) {\r\n                this.references.sort((a, b) => {\r\n                    const isAsc = sort.direction === 'asc';\r\n                    switch (sort.active) {\r\n                        case 'referenceCode':\r\n                            return this.sortService.compare(a.referenceCode, b.referenceCode, isAsc, false);\r\n                        case 'title':\r\n                            return this.sortService.compare(a.title, b.title, isAsc, false);\r\n                        case 'edition':\r\n                            return this.sortService.compare(a.edition, b.edition, isAsc, true);\r\n                        case 'creationDate':\r\n                            return this.sortService.compare(a.creationDate, b.creationDate, isAsc, false);\r\n                        case 'state':\r\n                            return this.sortService.compare(a.state, b.state, isAsc, false);\r\n                        case 'type':\r\n                            return this.sortService.compare(a.type, b.type, isAsc, false);\r\n                        default:\r\n                            return 0;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        this.paginatorPipe.transform(this.references, this.searchFilterService.pageIndex, this.searchFilterService.pageSize);\r\n    }\r\n    AddReference() {\r\n        this.router.navigate(['/project-management/project/add-reference']);\r\n        if (this.lengthReferences !== undefined && this.lengthReferences !== 0) {\r\n            this.referenceService.savedReference.next({\r\n                'getPrevious': false, 'pageIndex': this.searchFilterService.pageIndex,\r\n                'pageSize': this.searchFilterService.pageSize\r\n            });\r\n        }\r\n    }\r\n}\r\nReferencesComponent.ɵfac = function ReferencesComponent_Factory(t) { return new (t || ReferencesComponent)(i0.ɵɵdirectiveInject(i1.NotificationService), i0.ɵɵdirectiveInject(i1.DateTimeService), i0.ɵɵdirectiveInject(i1.SortService), i0.ɵɵdirectiveInject(i2.ReferenceService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i1.SearchFilterService)); };\r\nReferencesComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ReferencesComponent, selectors: [[\"app-references\"]], decls: 68, vars: 28, consts: [[1, \"page-body\"], [1, \"row\"], [1, \"col-xl-12\", \"col-lg-12\", \"filter-bar\"], [1, \"card\", \"m-b-10\"], [1, \"card-body\", \"p-t-10\"], [1, \"col-xl-4\", \"col-lg-12\"], [1, \"mat-subheader\", \"col-sm-2\"], [1, \"date-field\", \"col-sm-5\"], [\"matInput\", \"\", \"placeholder\", \"From\", \"required\", \"\", 3, \"matDatepicker\", \"max\", \"ngModel\", \"keypress\", \"ngModelChange\", \"keydown\"], [\"matSuffix\", \"\", 3, \"for\"], [\"picker11\", \"\"], [\"matInput\", \"\", \"placeholder\", \"To\", \"required\", \"\", 3, \"matDatepicker\", \"min\", \"ngModel\", \"keypress\", \"ngModelChange\", \"keydown\"], [\"picker22\", \"\"], [1, \"search-input\", \"col-sm-10\"], [\"placeholder\", \"Search here...\", \"matInput\", \"\", \"name\", \"searchInput\", 3, \"ngModel\", \"ngModelChange\", \"keydown\"], [1, \"col-sm-10\"], [1, \"multi-search\", 3, \"placeholder\", \"data\", \"ngModel\", \"settings\", \"ngModelChange\"], [1, \"col-xl-3\", \"col-lg-12\"], [1, \"multi-search\", 2, \"width\", \"100%\", 3, \"placeholder\", \"data\", \"ngModel\", \"settings\", \"ngModelChange\"], [1, \"col-xl-1\", \"col-lg-12\"], [1, \"text-center\"], [1, \"btn\", \"btn-md\", \"btn-primary\", \"ripple\", \"m-t-5\", 3, \"click\"], [1, \"btn\", \"btn-md\", \"btn-default\", \"ripple\", \"light\", \"m-t-10\", 3, \"click\"], [1, \"navbar\", \"navbar-light\", \"bg-faded\", \"m-b-10\", \"p-10\"], [1, \"col-sm-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-primary\", \"waves-light\", \"m-r-10\", \"ripple\", 2, \"font-size\", \"inherit\", 3, \"click\"], [1, \"icofont\", \"icofont-plus\"], [1, \"col-sm-8\"], [3, \"pageSize\", \"pageIndex\", \"length\"], [4, \"ngIf\"], [1, \"wrapper\"], [\"class\", \"overlay\", 4, \"ngIf\"], [\"class\", \"loaded-content\", 3, \"blurred\", 4, \"ngIf\"], [1, \"overlay\"], [1, \"spinner-wrapper\"], [1, \"container\"], [\"id\", \"loader\"], [1, \"loaded-content\"], [3, \"references\"]], template: function ReferencesComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"div\", 3);\r\n        i0.ɵɵelementStart(4, \"div\", 4);\r\n        i0.ɵɵelementStart(5, \"div\", 1);\r\n        i0.ɵɵelementStart(6, \"div\", 5);\r\n        i0.ɵɵelementStart(7, \"mat-list\");\r\n        i0.ɵɵelementStart(8, \"mat-list-item\");\r\n        i0.ɵɵelementStart(9, \"h3\", 6);\r\n        i0.ɵɵtext(10, \"Period\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"mat-form-field\", 7);\r\n        i0.ɵɵelementStart(12, \"input\", 8);\r\n        i0.ɵɵlistener(\"keypress\", function ReferencesComponent_Template_input_keypress_12_listener($event) { return ctx.dateOnly($event); })(\"ngModelChange\", function ReferencesComponent_Template_input_ngModelChange_12_listener($event) { return ctx.periodFrom = $event; })(\"keydown\", function ReferencesComponent_Template_input_keydown_12_listener($event) { return ctx.onClickingEnter($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(13, \"mat-datepicker-toggle\", 9);\r\n        i0.ɵɵelement(14, \"mat-datepicker\", null, 10);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"mat-form-field\", 7);\r\n        i0.ɵɵelementStart(17, \"input\", 11);\r\n        i0.ɵɵlistener(\"keypress\", function ReferencesComponent_Template_input_keypress_17_listener($event) { return ctx.dateOnly($event); })(\"ngModelChange\", function ReferencesComponent_Template_input_ngModelChange_17_listener($event) { return ctx.periodTo = $event; })(\"keydown\", function ReferencesComponent_Template_input_keydown_17_listener($event) { return ctx.onClickingEnter($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(18, \"mat-datepicker-toggle\", 9);\r\n        i0.ɵɵelement(19, \"mat-datepicker\", null, 12);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(21, \"mat-list-item\");\r\n        i0.ɵɵelementStart(22, \"h3\", 6);\r\n        i0.ɵɵtext(23, \"Ref.\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"mat-form-field\", 13);\r\n        i0.ɵɵelementStart(25, \"input\", 14);\r\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_input_ngModelChange_25_listener($event) { return ctx.referenceCode = $event; })(\"keydown\", function ReferencesComponent_Template_input_keydown_25_listener($event) { return ctx.onClickingEnter($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"div\", 5);\r\n        i0.ɵɵelementStart(27, \"mat-list\");\r\n        i0.ɵɵelementStart(28, \"mat-list-item\");\r\n        i0.ɵɵelementStart(29, \"h3\", 6);\r\n        i0.ɵɵtext(30, \"Activity\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(31, \"div\", 15);\r\n        i0.ɵɵelementStart(32, \"ng-multiselect-dropdown\", 16);\r\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_ng_multiselect_dropdown_ngModelChange_32_listener($event) { return ctx.selectedActivitiesIdentifiers = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(33, \"mat-list-item\");\r\n        i0.ɵɵelementStart(34, \"h3\", 6);\r\n        i0.ɵɵtext(35, \"Title\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(36, \"mat-form-field\", 13);\r\n        i0.ɵɵelementStart(37, \"input\", 14);\r\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_input_ngModelChange_37_listener($event) { return ctx.title = $event; })(\"keydown\", function ReferencesComponent_Template_input_keydown_37_listener($event) { return ctx.onClickingEnter($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(38, \"div\", 17);\r\n        i0.ɵɵelementStart(39, \"mat-list\");\r\n        i0.ɵɵelementStart(40, \"mat-list-item\");\r\n        i0.ɵɵelementStart(41, \"h3\", 6);\r\n        i0.ɵɵtext(42, \"Status\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(43, \"div\", 15);\r\n        i0.ɵɵelementStart(44, \"ng-multiselect-dropdown\", 18);\r\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_ng_multiselect_dropdown_ngModelChange_44_listener($event) { return ctx.selectedStatusesIdentifiers = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(45, \"mat-list-item\");\r\n        i0.ɵɵelementStart(46, \"h3\", 6);\r\n        i0.ɵɵtext(47, \"Type\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(48, \"div\", 15);\r\n        i0.ɵɵelementStart(49, \"ng-multiselect-dropdown\", 18);\r\n        i0.ɵɵlistener(\"ngModelChange\", function ReferencesComponent_Template_ng_multiselect_dropdown_ngModelChange_49_listener($event) { return ctx.selectedTypesIdentifiers = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(50, \"div\", 19);\r\n        i0.ɵɵelementStart(51, \"div\", 20);\r\n        i0.ɵɵelementStart(52, \"button\", 21);\r\n        i0.ɵɵlistener(\"click\", function ReferencesComponent_Template_button_click_52_listener() { return ctx.searchButton(); });\r\n        i0.ɵɵtext(53, \"Search\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(54, \"div\", 20);\r\n        i0.ɵɵelementStart(55, \"button\", 22);\r\n        i0.ɵɵlistener(\"click\", function ReferencesComponent_Template_button_click_55_listener() { return ctx.onResetAllFilters(); });\r\n        i0.ɵɵtext(56, \"Reset\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(57, \"nav\", 23);\r\n        i0.ɵɵelementStart(58, \"div\", 24);\r\n        i0.ɵɵelementStart(59, \"button\", 25);\r\n        i0.ɵɵlistener(\"click\", function ReferencesComponent_Template_button_click_59_listener() { return ctx.AddReference(); });\r\n        i0.ɵɵelement(60, \"em\", 26);\r\n        i0.ɵɵtext(61, \" Reference \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(62, \"div\", 27);\r\n        i0.ɵɵelement(63, \"app-paginator\", 28);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(64, ReferencesComponent_div_64_Template, 3, 0, \"div\", 29);\r\n        i0.ɵɵelementStart(65, \"div\", 30);\r\n        i0.ɵɵtemplate(66, ReferencesComponent_div_66_Template, 6, 0, \"div\", 31);\r\n        i0.ɵɵtemplate(67, ReferencesComponent_div_67_Template, 3, 7, \"div\", 32);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r0 = i0.ɵɵreference(15);\r\n        const _r1 = i0.ɵɵreference(20);\r\n        i0.ɵɵadvance(12);\r\n        i0.ɵɵproperty(\"matDatepicker\", _r0)(\"max\", ctx.periodTo)(\"ngModel\", ctx.periodFrom);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"for\", _r0);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"matDatepicker\", _r1)(\"min\", ctx.periodFrom)(\"ngModel\", ctx.periodTo);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"for\", _r1);\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.referenceCode);\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"placeholder\", \"Select...\")(\"data\", ctx.activitiesIdentifiers)(\"ngModel\", ctx.selectedActivitiesIdentifiers)(\"settings\", ctx.dropdownSettings);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.title);\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"placeholder\", \"Select...\")(\"data\", ctx.statusesIdentifiers)(\"ngModel\", ctx.selectedStatusesIdentifiers)(\"settings\", ctx.dropdownStatusSettings);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"placeholder\", \"Select...\")(\"data\", ctx.typesIdentifiers)(\"ngModel\", ctx.selectedTypesIdentifiers)(\"settings\", ctx.dropdownSettings);\r\n        i0.ɵɵadvance(14);\r\n        i0.ɵɵproperty(\"pageSize\", ctx.searchFilterService.pageSize)(\"pageIndex\", ctx.searchFilterService.pageIndex)(\"length\", ctx.lengthReferences);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.lengthReferences === 0);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.listView);\r\n    } }, directives: [i4.MatList, i4.MatListItem, i5.MatFormField, i6.MatInput, i7.MatDatepickerInput, i8.DefaultValueAccessor, i8.RequiredValidator, i8.NgControlStatus, i8.NgModel, i7.MatDatepickerToggle, i5.MatSuffix, i7.MatDatepicker, i9.MultiSelectComponent, i10.NgbNavbar, i11.PaginatorComponent, i12.NgIf, i13.MatSpinner, i14.ReferencesTableComponent], pipes: [i15.PaginatorPipe], styles: [\".filter-button{text-align:center;width:100%;margin:2%}.search-input{font-size:14px}.date-field{font-size:14px}.pointer{cursor:pointer}.reset-all-btn{cursor:pointer;font-size:20px}.reset-all-btn:hover{color:red}.arrow-icon{font-size:10px}.close-icon{float:right;font-size:22px}.multi-search{width:100%}.ngb-accordion .card .card-header{padding-left:5px}.ngb-accordion .card .card-header .a{font-size:15px}.mat-list .mat-subheader{height:40px;padding:0 5px;font-size:15px;font-weight:bolder}.mat-list-header{height:40px;padding:0 5px;font-size:15px;font-weight:bolder}.wrapper{width:100%;height:100%}.overlay{position:absolute;z-index:1002;background-color:#ffffff80;width:100%;height:100%}.spinner-wrapper{display:flex;justify-content:center;justify-items:center}#loader{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}\\n\"], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}