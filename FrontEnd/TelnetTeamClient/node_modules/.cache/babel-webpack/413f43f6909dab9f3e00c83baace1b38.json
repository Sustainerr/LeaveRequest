{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { environment } from 'environments/environment';\nimport * as i0 from \"@angular/core\";\nexport let PasswordStrengthBarComponent = /*#__PURE__*/(() => {\n  class PasswordStrengthBarComponent {\n    constructor() {\n      this.passwordStrength = new EventEmitter();\n      this.colors = ['#F00', '#F90', '#FF0', '#9F0', '#0F0'];\n    }\n\n    static measureStrength(password) {\n      let score = 0; // award every unique letter until 4 repetitions  \n\n      let letters = {};\n\n      for (let letter of password) {\n        letters[letter] = (letters[letter] || 0) + 1;\n        score += 4.0 / letters[letter];\n      } // bonus points for mixing it up  \n\n\n      let variations = {\n        digits: /\\d/.test(password),\n        lower: /[a-z]/.test(password),\n        upper: /[A-Z]/.test(password),\n        nonWords: /\\W/.test(password)\n      };\n      let variationCount = 0;\n\n      for (let check in variations) {\n        variationCount += variations[check] ? 1 : 0;\n      }\n\n      score += (variationCount - 1) * 10;\n      return Math.trunc(score);\n    }\n\n    getColor(score) {\n      let idx = 0;\n\n      if (score > 90) {\n        idx = 4;\n      } else if (score >= 70) {\n        idx = 3;\n      } else if (score >= 40) {\n        idx = 2;\n      } else if (score >= 20) {\n        idx = 1;\n      }\n\n      if (score >= environment.minStrengthScore) {\n        this.passwordStrength.emit(true);\n      } else {\n        this.passwordStrength.emit(false);\n      }\n\n      return {\n        idx: idx + 1,\n        col: this.colors[idx]\n      };\n    }\n\n    ngOnChanges(changes) {\n      var password = changes['passwordToCheck'].currentValue;\n      this.setBarColors(5, '#DDD');\n\n      if (password) {\n        let c = this.getColor(PasswordStrengthBarComponent.measureStrength(password));\n        this.setBarColors(c.idx, c.col);\n      }\n    }\n\n    setBarColors(count, col) {\n      for (let _n = 0; _n < count; _n++) {\n        this['bar' + _n] = col;\n      }\n    }\n\n  }\n\n  PasswordStrengthBarComponent.ɵfac = function PasswordStrengthBarComponent_Factory(t) {\n    return new (t || PasswordStrengthBarComponent)();\n  };\n\n  PasswordStrengthBarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PasswordStrengthBarComponent,\n    selectors: [[\"app-password-strength-bar\"]],\n    inputs: {\n      passwordToCheck: \"passwordToCheck\",\n      barLabel: \"barLabel\"\n    },\n    outputs: {\n      passwordStrength: \"passwordStrength\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 13,\n    vars: 11,\n    consts: [[\"id\", \"strength\"], [\"strength\", \"\"], [\"id\", \"strengthBar\"], [1, \"point\"]],\n    template: function PasswordStrengthBarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0, 1);\n        i0.ɵɵelementStart(2, \"small\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ul\", 2);\n        i0.ɵɵelement(5, \"li\", 3);\n        i0.ɵɵelement(6, \"li\", 3);\n        i0.ɵɵelement(7, \"li\", 3);\n        i0.ɵɵelement(8, \"li\", 3);\n        i0.ɵɵelement(9, \"li\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"label\");\n        i0.ɵɵelementStart(11, \"small\");\n        i0.ɵɵtext(12, \" Your password should be at least 10 characters long, contain letters and numbers and special characters. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.barLabel);\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar4);\n      }\n    },\n    styles: [\"ul#strengthBar[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0 0 0 15px;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]{background:#ddd;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:35px}.point[_ngcontent-%COMP%]:last-child{margin:0!important}\"]\n  });\n  return PasswordStrengthBarComponent;\n})();","map":{"version":3,"sources":["C:/Users/pprod/Desktop/satge PFE/satge PFE/TelnetTeamClient/src/app/shared/password-strength-bar/password-strength-bar.component.ts"],"names":["EventEmitter","environment","i0","PasswordStrengthBarComponent","constructor","passwordStrength","colors","measureStrength","password","score","letters","letter","variations","digits","test","lower","upper","nonWords","variationCount","check","Math","trunc","getColor","idx","minStrengthScore","emit","col","ngOnChanges","changes","currentValue","setBarColors","c","count","_n","ɵfac","PasswordStrengthBarComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","passwordToCheck","barLabel","outputs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","PasswordStrengthBarComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate","ɵɵstyleProp","bar0","bar1","bar2","bar3","bar4","styles"],"mappings":"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","sourcesContent":["import { EventEmitter } from '@angular/core';\r\nimport { environment } from 'environments/environment';\r\nimport * as i0 from \"@angular/core\";\r\nexport class PasswordStrengthBarComponent {\r\n    constructor() {\r\n        this.passwordStrength = new EventEmitter();\r\n        this.colors = ['#F00', '#F90', '#FF0', '#9F0', '#0F0'];\r\n    }\r\n    static measureStrength(password) {\r\n        let score = 0;\r\n        // award every unique letter until 4 repetitions  \r\n        let letters = {};\r\n        for (let letter of password) {\r\n            letters[letter] = (letters[letter] || 0) + 1;\r\n            score += 4.0 / letters[letter];\r\n        }\r\n        // bonus points for mixing it up  \r\n        let variations = {\r\n            digits: /\\d/.test(password),\r\n            lower: /[a-z]/.test(password),\r\n            upper: /[A-Z]/.test(password),\r\n            nonWords: /\\W/.test(password),\r\n        };\r\n        let variationCount = 0;\r\n        for (let check in variations) {\r\n            variationCount += (variations[check]) ? 1 : 0;\r\n        }\r\n        score += (variationCount - 1) * 10;\r\n        return Math.trunc(score);\r\n    }\r\n    getColor(score) {\r\n        let idx = 0;\r\n        if (score > 90) {\r\n            idx = 4;\r\n        }\r\n        else if (score >= 70) {\r\n            idx = 3;\r\n        }\r\n        else if (score >= 40) {\r\n            idx = 2;\r\n        }\r\n        else if (score >= 20) {\r\n            idx = 1;\r\n        }\r\n        if (score >= environment.minStrengthScore) {\r\n            this.passwordStrength.emit(true);\r\n        }\r\n        else {\r\n            this.passwordStrength.emit(false);\r\n        }\r\n        return {\r\n            idx: idx + 1,\r\n            col: this.colors[idx]\r\n        };\r\n    }\r\n    ngOnChanges(changes) {\r\n        var password = changes['passwordToCheck'].currentValue;\r\n        this.setBarColors(5, '#DDD');\r\n        if (password) {\r\n            let c = this.getColor(PasswordStrengthBarComponent.measureStrength(password));\r\n            this.setBarColors(c.idx, c.col);\r\n        }\r\n    }\r\n    setBarColors(count, col) {\r\n        for (let _n = 0; _n < count; _n++) {\r\n            this['bar' + _n] = col;\r\n        }\r\n    }\r\n}\r\nPasswordStrengthBarComponent.ɵfac = function PasswordStrengthBarComponent_Factory(t) { return new (t || PasswordStrengthBarComponent)(); };\r\nPasswordStrengthBarComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PasswordStrengthBarComponent, selectors: [[\"app-password-strength-bar\"]], inputs: { passwordToCheck: \"passwordToCheck\", barLabel: \"barLabel\" }, outputs: { passwordStrength: \"passwordStrength\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 13, vars: 11, consts: [[\"id\", \"strength\"], [\"strength\", \"\"], [\"id\", \"strengthBar\"], [1, \"point\"]], template: function PasswordStrengthBarComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0, 1);\r\n        i0.ɵɵelementStart(2, \"small\");\r\n        i0.ɵɵtext(3);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"ul\", 2);\r\n        i0.ɵɵelement(5, \"li\", 3);\r\n        i0.ɵɵelement(6, \"li\", 3);\r\n        i0.ɵɵelement(7, \"li\", 3);\r\n        i0.ɵɵelement(8, \"li\", 3);\r\n        i0.ɵɵelement(9, \"li\", 3);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"label\");\r\n        i0.ɵɵelementStart(11, \"small\");\r\n        i0.ɵɵtext(12, \" Your password should be at least 10 characters long, contain letters and numbers and special characters. \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵtextInterpolate(ctx.barLabel);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar1);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar2);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar3);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵstyleProp(\"background-color\", ctx.bar4);\r\n    } }, styles: [\"ul#strengthBar[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0 0 0 15px;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]{background:#ddd;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:35px}.point[_ngcontent-%COMP%]:last-child{margin:0!important}\"] });\r\n"]},"metadata":{},"sourceType":"module"}