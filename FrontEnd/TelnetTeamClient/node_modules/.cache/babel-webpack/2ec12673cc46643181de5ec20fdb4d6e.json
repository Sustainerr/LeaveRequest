{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component } from '@angular/core';\nlet PaginatorChefComponent = class PaginatorChefComponent {\n  constructor(dataService, snackBar) {\n    this.dataService = dataService;\n    this.snackBar = snackBar;\n    this.conges = [];\n  }\n\n  ngOnInit() {\n    this.loadConges();\n  }\n\n  loadConges() {\n    this.dataService.getLeavesByStatus('Pending').subscribe(data => {\n      this.conges = data;\n    }, error => {\n      console.error('Error loading conges:', error);\n    });\n  }\n\n  approveRequest(conge) {\n    this.dataService.getUserByMatricule(conge.matricule).subscribe(user => {\n      if (user.congesDispo > 0) {\n        this.dataService.updateCongeStatut(conge.id, 'Approved').subscribe(() => {\n          this.dataService.updateCongesDispo(conge.matricule, user.congesDispo - 1).subscribe(() => {\n            this.snackBar.open(`The request for user with matricule ${conge.matricule} has been approved`, 'Close', {\n              duration: 3000\n            });\n            this.loadConges();\n          }, error => {\n            console.error('Error updating congesDispo:', error);\n          });\n        }, error => {\n          console.error('Error approving leave request:', error);\n        });\n      } else {\n        this.snackBar.open(`The user with matricule ${conge.matricule} has 0 leave requests available`, 'Close', {\n          duration: 3000\n        });\n      }\n    }, error => {\n      console.error('Error fetching user data:', error);\n    });\n  }\n\n  isApproveDisabled(conge) {\n    return conge.congesDispo === 0;\n  }\n\n};\nPaginatorChefComponent = __decorate([Component({\n  selector: 'app-paginator-chef',\n  templateUrl: './paginator-chef.component.html',\n  styleUrls: ['./paginator-chef.component.scss']\n})], PaginatorChefComponent);\nexport { PaginatorChefComponent };","map":{"version":3,"sources":["C:/Users/pprod/Desktop/satge PFE/satge PFE/TelnetTeamClient/src/app/table-paginator-chef/table-paginator-chef.component.ts"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","Component","PaginatorChefComponent","constructor","dataService","snackBar","conges","ngOnInit","loadConges","getLeavesByStatus","subscribe","data","error","console","approveRequest","conge","getUserByMatricule","matricule","user","congesDispo","updateCongeStatut","id","updateCongesDispo","open","duration","isApproveDisabled","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { Component } from '@angular/core';\r\nlet PaginatorChefComponent = class PaginatorChefComponent {\r\n    constructor(dataService, snackBar) {\r\n        this.dataService = dataService;\r\n        this.snackBar = snackBar;\r\n        this.conges = [];\r\n    }\r\n    ngOnInit() {\r\n        this.loadConges();\r\n    }\r\n    loadConges() {\r\n        this.dataService.getLeavesByStatus('Pending').subscribe((data) => {\r\n            this.conges = data;\r\n        }, (error) => {\r\n            console.error('Error loading conges:', error);\r\n        });\r\n    }\r\n    approveRequest(conge) {\r\n        this.dataService.getUserByMatricule(conge.matricule).subscribe((user) => {\r\n            if (user.congesDispo > 0) {\r\n                this.dataService.updateCongeStatut(conge.id, 'Approved').subscribe(() => {\r\n                    this.dataService.updateCongesDispo(conge.matricule, user.congesDispo - 1).subscribe(() => {\r\n                        this.snackBar.open(`The request for user with matricule ${conge.matricule} has been approved`, 'Close', {\r\n                            duration: 3000,\r\n                        });\r\n                        this.loadConges();\r\n                    }, (error) => {\r\n                        console.error('Error updating congesDispo:', error);\r\n                    });\r\n                }, (error) => {\r\n                    console.error('Error approving leave request:', error);\r\n                });\r\n            }\r\n            else {\r\n                this.snackBar.open(`The user with matricule ${conge.matricule} has 0 leave requests available`, 'Close', {\r\n                    duration: 3000,\r\n                });\r\n            }\r\n        }, (error) => {\r\n            console.error('Error fetching user data:', error);\r\n        });\r\n    }\r\n    isApproveDisabled(conge) {\r\n        return conge.congesDispo === 0;\r\n    }\r\n};\r\nPaginatorChefComponent = __decorate([\r\n    Component({\r\n        selector: 'app-paginator-chef',\r\n        templateUrl: './paginator-chef.component.html',\r\n        styleUrls: ['./paginator-chef.component.scss']\r\n    })\r\n], PaginatorChefComponent);\r\nexport { PaginatorChefComponent };\r\n"]},"metadata":{},"sourceType":"module"}