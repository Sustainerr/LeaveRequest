{"ast":null,"code":"import { PasswordStrengthBarComponent } from 'app/shared/password-strength-bar/password-strength-bar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"app/services/shared\";\nimport * as i4 from \"ngx-cookie-service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@angular/material/progress-spinner\";\nconst _c0 = [\"password\"];\n\nfunction LockScreenComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelementStart(1, \"div\", 24);\n    i0.ɵɵelementStart(2, \"div\", 25);\n    i0.ɵɵelementStart(3, \"div\", 2);\n    i0.ɵɵelementStart(4, \"div\", 26);\n    i0.ɵɵelement(5, \"mat-spinner\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"diameter\", 50);\n  }\n}\n\nfunction LockScreenComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵelementStart(1, \"strong\");\n    i0.ɵɵtext(2, \"Please check your password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c1 = function () {\n  return [\"/auth/login\"];\n};\n\nexport let LockScreenComponent = /*#__PURE__*/(() => {\n  class LockScreenComponent {\n    constructor(router, dialog, authService, cookieService, dialogRef) {\n      this.router = router;\n      this.dialog = dialog;\n      this.authService = authService;\n      this.cookieService = cookieService;\n      this.dialogRef = dialogRef;\n      this.wrongPassword = false;\n      this.isLoading = false;\n    }\n\n    ngOnInit() {\n      document.querySelector('body').setAttribute('themebg-pattern', 'theme1');\n    }\n\n    backToLogin() {\n      this.authService.logout();\n      this.router.navigate(['/auth/login']);\n      this.dialogRef.close();\n    }\n\n    unlock() {\n      this.isLoading = true;\n      const userLogin = JSON.parse(localStorage.getItem('currentUser')).userNumber;\n      const password = this.password.nativeElement.value;\n      const score = PasswordStrengthBarComponent.measureStrength(password);\n      this.authService.login(userLogin, password, score).subscribe(data => {\n        this.isLoading = false;\n\n        if (data && this.authService.isAuthenticated()) {\n          sessionStorage.removeItem('DialogExpirationSessionOpened');\n          this.dialogRef.close();\n        } else {\n          this.wrongPassword = true;\n        }\n      }, () => {\n        this.isLoading = false;\n        this.wrongPassword = true;\n      });\n    }\n\n  }\n\n  LockScreenComponent.ɵfac = function LockScreenComponent_Factory(t) {\n    return new (t || LockScreenComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.AuthenticationService), i0.ɵɵdirectiveInject(i4.CookieService), i0.ɵɵdirectiveInject(i2.MatDialogRef));\n  };\n\n  LockScreenComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LockScreenComponent,\n    selectors: [[\"app-lock-screen\"]],\n    viewQuery: function LockScreenComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.password = _t.first);\n      }\n    },\n    decls: 30,\n    vars: 4,\n    consts: [[1, \"login-block\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-sm-12\"], [1, \"wrapper\"], [\"class\", \"overlay\", 4, \"ngIf\"], [\"action\", \"javascript:\", 1, \"md-float-material\", \"form-material\"], [1, \"text-center\"], [\"src\", \"assets/images/logo.png\", \"alt\", \"logo.png\"], [1, \"auth-box\", \"card\"], [1, \"card-block\"], [1, \"col-md-12\"], [1, \"fa\", \"fa-lock\", \"text-primary\", \"f-80\"], [1, \"form-group\", \"form-primary\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", \"login-input-style\"], [\"password\", \"\"], [1, \"form-bar\"], [1, \"float-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-md\", \"btn-block\", \"waves-light\", \"text-center\", \"m-b-20\", \"ripple\", 3, \"click\"], [1, \"fa\", \"fa-unlock\"], [1, \"text-inverse\", \"text-right\"], [3, \"routerLink\", \"click\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"overlay\"], [1, \"spinner-wrapper\"], [1, \"container\"], [\"id\", \"loader\"], [3, \"diameter\"], [1, \"alert\", \"alert-danger\"]],\n    template: function LockScreenComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵtemplate(5, LockScreenComponent_div_5_Template, 6, 1, \"div\", 5);\n        i0.ɵɵelementStart(6, \"form\", 6);\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵelement(8, \"img\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 9);\n        i0.ɵɵelementStart(10, \"div\", 10);\n        i0.ɵɵelementStart(11, \"div\", 2);\n        i0.ɵɵelementStart(12, \"div\", 11);\n        i0.ɵɵelementStart(13, \"h3\", 7);\n        i0.ɵɵelement(14, \"em\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 13);\n        i0.ɵɵelement(16, \"input\", 14, 15);\n        i0.ɵɵelement(18, \"span\", 16);\n        i0.ɵɵelementStart(19, \"label\", 17);\n        i0.ɵɵtext(20, \"Please enter your password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 2);\n        i0.ɵɵelementStart(22, \"div\", 11);\n        i0.ɵɵelementStart(23, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function LockScreenComponent_Template_button_click_23_listener() {\n          return ctx.unlock();\n        });\n        i0.ɵɵelement(24, \"em\", 19);\n        i0.ɵɵtext(25, \" Unlock Screen \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"p\", 20);\n        i0.ɵɵelementStart(27, \"a\", 21);\n        i0.ɵɵlistener(\"click\", function LockScreenComponent_Template_a_click_27_listener() {\n          return ctx.backToLogin();\n        });\n        i0.ɵɵtext(28, \"Back to Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(29, LockScreenComponent_div_29_Template, 3, 0, \"div\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.wrongPassword);\n      }\n    },\n    directives: [i5.NgIf, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i1.RouterLinkWithHref, i7.MatSpinner],\n    styles: [\".wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.overlay[_ngcontent-%COMP%]{position:absolute;z-index:1002;background-color:#ffffff80;width:90%;height:90%}.spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center}#loader[_ngcontent-%COMP%]{bottom:0;height:20%;left:0;margin:auto;position:absolute;right:0;top:0;width:9%}\"]\n  });\n  return LockScreenComponent;\n})();","map":{"version":3,"sources":["C:/Users/pprod/Desktop/satge PFE/satge PFE/TelnetTeamClient/src/app/components/auth/lock-screen/lock-screen.component.ts"],"names":["PasswordStrengthBarComponent","i0","i1","i2","i3","i4","i5","i6","i7","_c0","LockScreenComponent_div_5_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","LockScreenComponent_div_29_Template","ɵɵtext","_c1","LockScreenComponent","constructor","router","dialog","authService","cookieService","dialogRef","wrongPassword","isLoading","ngOnInit","document","querySelector","setAttribute","backToLogin","logout","navigate","close","unlock","userLogin","JSON","parse","localStorage","getItem","userNumber","password","nativeElement","value","score","measureStrength","login","subscribe","data","isAuthenticated","sessionStorage","removeItem","ɵfac","LockScreenComponent_Factory","t","ɵɵdirectiveInject","Router","MatDialog","AuthenticationService","CookieService","MatDialogRef","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","LockScreenComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","decls","vars","consts","template","LockScreenComponent_Template","ɵɵtemplate","ɵɵlistener","LockScreenComponent_Template_button_click_23_listener","LockScreenComponent_Template_a_click_27_listener","ɵɵpureFunction0","directives","NgIf","ɵNgNoValidate","NgControlStatusGroup","NgForm","RouterLinkWithHref","MatSpinner","styles"],"mappings":"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","sourcesContent":["import { PasswordStrengthBarComponent } from 'app/shared/password-strength-bar/password-strength-bar.component';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"@angular/material/dialog\";\r\nimport * as i3 from \"app/services/shared\";\r\nimport * as i4 from \"ngx-cookie-service\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"@angular/forms\";\r\nimport * as i7 from \"@angular/material/progress-spinner\";\r\nconst _c0 = [\"password\"];\r\nfunction LockScreenComponent_div_5_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 23);\r\n    i0.ɵɵelementStart(1, \"div\", 24);\r\n    i0.ɵɵelementStart(2, \"div\", 25);\r\n    i0.ɵɵelementStart(3, \"div\", 2);\r\n    i0.ɵɵelementStart(4, \"div\", 26);\r\n    i0.ɵɵelement(5, \"mat-spinner\", 27);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"diameter\", 50);\r\n} }\r\nfunction LockScreenComponent_div_29_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 28);\r\n    i0.ɵɵelementStart(1, \"strong\");\r\n    i0.ɵɵtext(2, \"Please check your password\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nconst _c1 = function () { return [\"/auth/login\"]; };\r\nexport class LockScreenComponent {\r\n    constructor(router, dialog, authService, cookieService, dialogRef) {\r\n        this.router = router;\r\n        this.dialog = dialog;\r\n        this.authService = authService;\r\n        this.cookieService = cookieService;\r\n        this.dialogRef = dialogRef;\r\n        this.wrongPassword = false;\r\n        this.isLoading = false;\r\n    }\r\n    ngOnInit() {\r\n        document.querySelector('body').setAttribute('themebg-pattern', 'theme1');\r\n    }\r\n    backToLogin() {\r\n        this.authService.logout();\r\n        this.router.navigate(['/auth/login']);\r\n        this.dialogRef.close();\r\n    }\r\n    unlock() {\r\n        this.isLoading = true;\r\n        const userLogin = JSON.parse(localStorage.getItem('currentUser')).userNumber;\r\n        const password = this.password.nativeElement.value;\r\n        const score = PasswordStrengthBarComponent.measureStrength(password);\r\n        this.authService.login(userLogin, password, score)\r\n            .subscribe(data => {\r\n            this.isLoading = false;\r\n            if (data && this.authService.isAuthenticated()) {\r\n                sessionStorage.removeItem('DialogExpirationSessionOpened');\r\n                this.dialogRef.close();\r\n            }\r\n            else {\r\n                this.wrongPassword = true;\r\n            }\r\n        }, () => {\r\n            this.isLoading = false;\r\n            this.wrongPassword = true;\r\n        });\r\n    }\r\n}\r\nLockScreenComponent.ɵfac = function LockScreenComponent_Factory(t) { return new (t || LockScreenComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.AuthenticationService), i0.ɵɵdirectiveInject(i4.CookieService), i0.ɵɵdirectiveInject(i2.MatDialogRef)); };\r\nLockScreenComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LockScreenComponent, selectors: [[\"app-lock-screen\"]], viewQuery: function LockScreenComponent_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(_c0, 5);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.password = _t.first);\r\n    } }, decls: 30, vars: 4, consts: [[1, \"login-block\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-sm-12\"], [1, \"wrapper\"], [\"class\", \"overlay\", 4, \"ngIf\"], [\"action\", \"javascript:\", 1, \"md-float-material\", \"form-material\"], [1, \"text-center\"], [\"src\", \"assets/images/logo.png\", \"alt\", \"logo.png\"], [1, \"auth-box\", \"card\"], [1, \"card-block\"], [1, \"col-md-12\"], [1, \"fa\", \"fa-lock\", \"text-primary\", \"f-80\"], [1, \"form-group\", \"form-primary\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", \"login-input-style\"], [\"password\", \"\"], [1, \"form-bar\"], [1, \"float-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-md\", \"btn-block\", \"waves-light\", \"text-center\", \"m-b-20\", \"ripple\", 3, \"click\"], [1, \"fa\", \"fa-unlock\"], [1, \"text-inverse\", \"text-right\"], [3, \"routerLink\", \"click\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"overlay\"], [1, \"spinner-wrapper\"], [1, \"container\"], [\"id\", \"loader\"], [3, \"diameter\"], [1, \"alert\", \"alert-danger\"]], template: function LockScreenComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"section\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"div\", 3);\r\n        i0.ɵɵelementStart(4, \"div\", 4);\r\n        i0.ɵɵtemplate(5, LockScreenComponent_div_5_Template, 6, 1, \"div\", 5);\r\n        i0.ɵɵelementStart(6, \"form\", 6);\r\n        i0.ɵɵelementStart(7, \"div\", 7);\r\n        i0.ɵɵelement(8, \"img\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 9);\r\n        i0.ɵɵelementStart(10, \"div\", 10);\r\n        i0.ɵɵelementStart(11, \"div\", 2);\r\n        i0.ɵɵelementStart(12, \"div\", 11);\r\n        i0.ɵɵelementStart(13, \"h3\", 7);\r\n        i0.ɵɵelement(14, \"em\", 12);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"div\", 13);\r\n        i0.ɵɵelement(16, \"input\", 14, 15);\r\n        i0.ɵɵelement(18, \"span\", 16);\r\n        i0.ɵɵelementStart(19, \"label\", 17);\r\n        i0.ɵɵtext(20, \"Please enter your password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(21, \"div\", 2);\r\n        i0.ɵɵelementStart(22, \"div\", 11);\r\n        i0.ɵɵelementStart(23, \"button\", 18);\r\n        i0.ɵɵlistener(\"click\", function LockScreenComponent_Template_button_click_23_listener() { return ctx.unlock(); });\r\n        i0.ɵɵelement(24, \"em\", 19);\r\n        i0.ɵɵtext(25, \" Unlock Screen \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"p\", 20);\r\n        i0.ɵɵelementStart(27, \"a\", 21);\r\n        i0.ɵɵlistener(\"click\", function LockScreenComponent_Template_a_click_27_listener() { return ctx.backToLogin(); });\r\n        i0.ɵɵtext(28, \"Back to Login\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(29, LockScreenComponent_div_29_Template, 3, 0, \"div\", 22);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\r\n        i0.ɵɵadvance(22);\r\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.wrongPassword);\r\n    } }, directives: [i5.NgIf, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i1.RouterLinkWithHref, i7.MatSpinner], styles: [\".wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.overlay[_ngcontent-%COMP%]{position:absolute;z-index:1002;background-color:#ffffff80;width:90%;height:90%}.spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center}#loader[_ngcontent-%COMP%]{bottom:0;height:20%;left:0;margin:auto;position:absolute;right:0;top:0;width:9%}\"] });\r\n"]},"metadata":{},"sourceType":"module"}