{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport let AuthService = /*#__PURE__*/(() => {\n  class AuthService {\n    constructor(http, router) {\n      this.http = http;\n      this.router = router;\n      this.token = null;\n      this.apiUrl = 'https://localhost:7216/api/Utilisateur'; // Replace with your actual API URL\n    }\n\n    login(matricule, motDePasse) {\n      return this.http.post(`${this.apiUrl}/login`, {\n        matricule,\n        motDePasse\n      });\n    }\n\n    setToken(token) {\n      console.log('Setting token:', token);\n      this.token = token;\n      localStorage.setItem('token', token);\n    }\n\n    getToken() {\n      const token = this.token || localStorage.getItem('token');\n      console.log('Retrieved token:', token);\n      return token;\n    }\n\n    isLoggedIn() {\n      return !!this.getToken();\n    }\n\n    getUserById(userId) {\n      const url = `${this.apiUrl}/${userId}`;\n      return this.http.get(url);\n    }\n\n    logout() {\n      localStorage.removeItem('token');\n      this.token = null;\n      this.router.navigate(['/login']);\n    }\n\n  }\n\n  AuthService.ɵfac = function AuthService_Factory(t) {\n    return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n  };\n\n  AuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthService,\n    factory: AuthService.ɵfac,\n    providedIn: 'root'\n  });\n  return AuthService;\n})();","map":{"version":3,"sources":["C:/Users/pprod/Desktop/satge PFE/satge PFE/TelnetTeamClient/src/app/auth.service.ts"],"names":["i0","i1","i2","AuthService","constructor","http","router","token","apiUrl","login","matricule","motDePasse","post","setToken","console","log","localStorage","setItem","getToken","getItem","isLoggedIn","getUserById","userId","url","get","logout","removeItem","navigate","ɵfac","AuthService_Factory","t","ɵɵinject","HttpClient","Router","ɵprov","ɵɵdefineInjectable","factory","providedIn"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,WAAaC,WAAb;AAAO,QAAMA,WAAN,CAAkB;AACrBC,IAAAA,WAAW,CAACC,IAAD,EAAOC,MAAP,EAAe;AACtB,WAAKD,IAAL,GAAYA,IAAZ;AACA,WAAKC,MAAL,GAAcA,MAAd;AACA,WAAKC,KAAL,GAAa,IAAb;AACA,WAAKC,MAAL,GAAc,wCAAd,CAJsB,CAIkC;AAC3D;;AACDC,IAAAA,KAAK,CAACC,SAAD,EAAYC,UAAZ,EAAwB;AACzB,aAAO,KAAKN,IAAL,CAAUO,IAAV,CAAgB,GAAE,KAAKJ,MAAO,QAA9B,EAAuC;AAAEE,QAAAA,SAAF;AAAaC,QAAAA;AAAb,OAAvC,CAAP;AACH;;AACDE,IAAAA,QAAQ,CAACN,KAAD,EAAQ;AACZO,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BR,KAA9B;AACA,WAAKA,KAAL,GAAaA,KAAb;AACAS,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BV,KAA9B;AACH;;AACDW,IAAAA,QAAQ,GAAG;AACP,YAAMX,KAAK,GAAG,KAAKA,KAAL,IAAcS,YAAY,CAACG,OAAb,CAAqB,OAArB,CAA5B;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCR,KAAhC;AACA,aAAOA,KAAP;AACH;;AACDa,IAAAA,UAAU,GAAG;AACT,aAAO,CAAC,CAAC,KAAKF,QAAL,EAAT;AACH;;AACDG,IAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,YAAMC,GAAG,GAAI,GAAE,KAAKf,MAAO,IAAGc,MAAO,EAArC;AACA,aAAO,KAAKjB,IAAL,CAAUmB,GAAV,CAAcD,GAAd,CAAP;AACH;;AACDE,IAAAA,MAAM,GAAG;AACLT,MAAAA,YAAY,CAACU,UAAb,CAAwB,OAAxB;AACA,WAAKnB,KAAL,GAAa,IAAb;AACA,WAAKD,MAAL,CAAYqB,QAAZ,CAAqB,CAAC,QAAD,CAArB;AACH;;AA/BoB;;AAiCzBxB,EAAAA,WAAW,CAACyB,IAAZ,GAAmB,SAASC,mBAAT,CAA6BC,CAA7B,EAAgC;AAAE,WAAO,KAAKA,CAAC,IAAI3B,WAAV,EAAuBH,EAAE,CAAC+B,QAAH,CAAY9B,EAAE,CAAC+B,UAAf,CAAvB,EAAmDhC,EAAE,CAAC+B,QAAH,CAAY7B,EAAE,CAAC+B,MAAf,CAAnD,CAAP;AAAoF,GAAzI;;AACA9B,EAAAA,WAAW,CAAC+B,KAAZ,GAAoB,aAAclC,EAAE,CAACmC,kBAAH,CAAsB;AAAE5B,IAAAA,KAAK,EAAEJ,WAAT;AAAsBiC,IAAAA,OAAO,EAAEjC,WAAW,CAACyB,IAA3C;AAAiDS,IAAAA,UAAU,EAAE;AAA7D,GAAtB,CAAlC;AAlCA,SAAalC,WAAb;AAAA","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"@angular/router\";\r\nexport class AuthService {\r\n    constructor(http, router) {\r\n        this.http = http;\r\n        this.router = router;\r\n        this.token = null;\r\n        this.apiUrl = 'https://localhost:7216/api/Utilisateur'; // Replace with your actual API URL\r\n    }\r\n    login(matricule, motDePasse) {\r\n        return this.http.post(`${this.apiUrl}/login`, { matricule, motDePasse });\r\n    }\r\n    setToken(token) {\r\n        console.log('Setting token:', token);\r\n        this.token = token;\r\n        localStorage.setItem('token', token);\r\n    }\r\n    getToken() {\r\n        const token = this.token || localStorage.getItem('token');\r\n        console.log('Retrieved token:', token);\r\n        return token;\r\n    }\r\n    isLoggedIn() {\r\n        return !!this.getToken();\r\n    }\r\n    getUserById(userId) {\r\n        const url = `${this.apiUrl}/${userId}`;\r\n        return this.http.get(url);\r\n    }\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n        this.token = null;\r\n        this.router.navigate(['/login']);\r\n    }\r\n}\r\nAuthService.ɵfac = function AuthService_Factory(t) { return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router)); };\r\nAuthService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: AuthService, factory: AuthService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}