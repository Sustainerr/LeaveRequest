{"ast":null,"code":"import { AddEmpComponent } from '../add-emp/add-emp.component';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/material/toolbar\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/menu\";\nimport * as i8 from \"@angular/material/sidenav\";\nimport * as i9 from \"@angular/material/list\";\nimport * as i10 from \"../table-paginator/table-paginator.component\";\nexport let MainComponent = /*#__PURE__*/(() => {\n  class MainComponent {\n    constructor(authService, router, _dialog) {\n      this.authService = authService;\n      this.router = router;\n      this._dialog = _dialog;\n      this.userData = {};\n      this.isLoading = false;\n    }\n\n    ngOnInit() {\n      const token = this.authService.getToken();\n      console.log('Retrieved token:', token);\n\n      if (token) {\n        const parsedToken = this.parseToken(token);\n        console.log('Parsed token payload:', parsedToken);\n        const userId = parsedToken === null || parsedToken === void 0 ? void 0 : parsedToken.nameid;\n        console.log('Extracted userId:', userId);\n\n        if (userId) {\n          this.authService.getUserById(userId).subscribe(data => {\n            console.log('HTTP response data:', data);\n            this.userData = data;\n            console.log('User data:', this.userData);\n          }, error => {\n            console.error('Error fetching user data:', error);\n          });\n        } else {\n          console.error('userId is undefined.');\n        }\n      } else {\n        console.error('Token is not available.');\n      }\n    }\n\n    parseToken(token) {\n      try {\n        const payload = atob(token.split('.')[1]);\n        const parsedPayload = JSON.parse(payload);\n        console.log('Parsed token payload:', parsedPayload);\n        return parsedPayload;\n      } catch (error) {\n        console.error('Error parsing token:', error);\n        return null;\n      }\n    }\n\n    logout() {\n      localStorage.removeItem('token');\n      this.router.navigate(['/login']);\n    }\n\n    openaddemp(event) {\n      event.preventDefault();\n      const dialogConfig = new MatDialogConfig();\n      dialogConfig.autoFocus = true;\n\n      this._dialog.open(AddEmpComponent, dialogConfig);\n    }\n\n  }\n\n  MainComponent.ɵfac = function MainComponent_Factory(t) {\n    return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialog));\n  };\n\n  MainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MainComponent,\n    selectors: [[\"app-main\"]],\n    decls: 38,\n    vars: 5,\n    consts: [[\"src\", \"assets/logo.png\", \"alt\", \"Logo\", 1, \"logo\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Example icon-button with menu icon\", 1, \"example-icon\", 3, \"click\"], [1, \"example-spacer\"], [1, \"user-info\"], [\"src\", \"assets/avatar.png\", \"alt\", \"Avatar\", 1, \"avatar\"], [\"mat-button\", \"\", 3, \"matMenuTriggerFor\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\"], [3, \"click\"], [1, \"sidenav-container\"], [\"mode\", \"side\", 1, \"sidenav\"], [\"sidenav\", \"\"], [1, \"user-profile\"], [1, \"user-bg\"], [\"src\", \"assets/avatar.png\", \"alt\", \"Avatar\", 1, \"avatar-large\"], [1, \"user-name\"], [1, \"content-container\"], [1, \"content-bg\"], [1, \"content-inner\"]],\n    template: function MainComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"mat-toolbar\");\n        i0.ɵɵelement(1, \"img\", 0);\n        i0.ɵɵelementStart(2, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function MainComponent_Template_button_click_2_listener() {\n          i0.ɵɵrestoreView(_r2);\n\n          const _r1 = i0.ɵɵreference(19);\n\n          return _r1.toggle();\n        });\n        i0.ɵɵelementStart(3, \"mat-icon\");\n        i0.ɵɵtext(4, \"menu\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"span\", 2);\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵelement(7, \"img\", 4);\n        i0.ɵɵelementStart(8, \"button\", 5);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"mat-menu\", null, 6);\n        i0.ɵɵelementStart(12, \"button\", 7);\n        i0.ɵɵelementStart(13, \"mat-icon\");\n        i0.ɵɵtext(14, \"exit_to_app\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"span\", 8);\n        i0.ɵɵlistener(\"click\", function MainComponent_Template_span_click_15_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵtext(16, \"Disconnect\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-sidenav-container\", 9);\n        i0.ɵɵelementStart(18, \"mat-sidenav\", 10, 11);\n        i0.ɵɵelementStart(20, \"div\", 12);\n        i0.ɵɵelementStart(21, \"div\", 13);\n        i0.ɵɵelement(22, \"img\", 14);\n        i0.ɵɵelementStart(23, \"div\", 15);\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"mat-nav-list\");\n        i0.ɵɵelementStart(26, \"mat-list-item\");\n        i0.ɵɵelementStart(27, \"mat-icon\");\n        i0.ɵɵtext(28, \"date_range\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(29, \" Cong\\u00E9s \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"mat-list-item\");\n        i0.ɵɵelementStart(31, \"mat-icon\");\n        i0.ɵɵtext(32, \"assignment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(33, \" Autorisation \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"mat-sidenav-content\", 16);\n        i0.ɵɵelement(35, \"div\", 17);\n        i0.ɵɵelementStart(36, \"div\", 18);\n        i0.ɵɵelement(37, \"app-table-paginator\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(11);\n\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"matMenuTriggerFor\", _r0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate2(\"\", ctx.userData == null ? null : ctx.userData.prenom, \" \", ctx.userData == null ? null : ctx.userData.nom, \"\");\n        i0.ɵɵadvance(15);\n        i0.ɵɵtextInterpolate2(\"\", ctx.userData == null ? null : ctx.userData.prenom, \" \", ctx.userData == null ? null : ctx.userData.nom, \"\");\n      }\n    },\n    directives: [i4.MatToolbar, i5.MatButton, i6.MatIcon, i7.MatMenuTrigger, i7.MatMenu, i7.MatMenuItem, i8.MatSidenavContainer, i8.MatSidenav, i9.MatNavList, i9.MatListItem, i8.MatSidenavContent, i10.TablePaginatorComponent],\n    styles: [\".mat-toolbar[_ngcontent-%COMP%]{background-color:#3f629d;color:#fff}.logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}.example-icon[_ngcontent-%COMP%]{color:#fff}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff}.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;border-radius:50%;margin-right:8px}.user-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.sidenav-container[_ngcontent-%COMP%]{height:100vh;display:flex}.sidenav[_ngcontent-%COMP%]{width:280px;background:#f4f4f4}.user-profile[_ngcontent-%COMP%]{position:relative;text-align:center;padding:0}.user-bg[_ngcontent-%COMP%]{position:relative;height:155px;width:100%;background:url(/assets/user-bg.jpg) no-repeat center center;background-size:cover;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:20px}.user-bg[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(46,99,190,.716);z-index:1}.user-bg[_ngcontent-%COMP%]   .avatar-large[_ngcontent-%COMP%]{position:relative;z-index:2;height:80px;border-radius:50%;margin-top:8px}.user-bg[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{position:relative;z-index:2;color:#fff;margin-top:8px;font-size:16px}.mat-nav-list[_ngcontent-%COMP%]{padding:0}.mat-list-item[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]{cursor:pointer;padding:0 16px}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 16px;background-color:#fff;color:#30538e;transition:background-color .3s,color .3s}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#fff;color:#30538e}.mat-list-item[_ngcontent-%COMP%]{padding:16px 0}.mat-list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}.mat-list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#30538e}.mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#30538e}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{color:#30538e}.mat-list-item[_ngcontent-%COMP%]:hover, .mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#30538e1a}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-content[_ngcontent-%COMP%]{padding:0 16px}.mat-expansion-panel-content[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{padding-left:32px}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;background-color:#f5f5f5}.content-bg[_ngcontent-%COMP%]{background:url(/assets/breadcrumb-bg.jpg) no-repeat center center;background-size:cover;height:68px;width:100%;position:relative}.content-bg[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#4673c0bc;z-index:1}.content-inner[_ngcontent-%COMP%]{padding:16px;flex-grow:1;margin-top:68px;background-color:#f5f5f5}.mat-sidenav-opened[_ngcontent-%COMP%]   .content-bg[_ngcontent-%COMP%]{margin-left:280px}\"]\n  });\n  return MainComponent;\n})();","map":{"version":3,"sources":["C:/Users/pprod/Desktop/satge PFE/satge PFE/TelnetTeamClient/src/app/main/main.component.ts"],"names":["AddEmpComponent","MatDialogConfig","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","MainComponent","constructor","authService","router","_dialog","userData","isLoading","ngOnInit","token","getToken","console","log","parsedToken","parseToken","userId","nameid","getUserById","subscribe","data","error","payload","atob","split","parsedPayload","JSON","parse","logout","localStorage","removeItem","navigate","openaddemp","event","preventDefault","dialogConfig","autoFocus","open","ɵfac","MainComponent_Factory","t","ɵɵdirectiveInject","AuthService","Router","MatDialog","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","MainComponent_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵelement","ɵɵlistener","MainComponent_Template_button_click_2_listener","ɵɵrestoreView","_r1","ɵɵreference","toggle","ɵɵtext","ɵɵelementEnd","MainComponent_Template_span_click_15_listener","_r0","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate2","prenom","nom","directives","MatToolbar","MatButton","MatIcon","MatMenuTrigger","MatMenu","MatMenuItem","MatSidenavContainer","MatSidenav","MatNavList","MatListItem","MatSidenavContent","TablePaginatorComponent","styles"],"mappings":"AAAA,SAASA,eAAT,QAAgC,8BAAhC;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,0BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,2BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,0BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,wBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,wBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,2BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,wBAApB;AACA,OAAO,KAAKC,GAAZ,MAAqB,8CAArB;AACA,WAAaC,aAAb;AAAO,QAAMA,aAAN,CAAoB;AACvBC,IAAAA,WAAW,CAACC,WAAD,EAAcC,MAAd,EAAsBC,OAAtB,EAA+B;AACtC,WAAKF,WAAL,GAAmBA,WAAnB;AACA,WAAKC,MAAL,GAAcA,MAAd;AACA,WAAKC,OAAL,GAAeA,OAAf;AACA,WAAKC,QAAL,GAAgB,EAAhB;AACA,WAAKC,SAAL,GAAiB,KAAjB;AACH;;AACDC,IAAAA,QAAQ,GAAG;AACP,YAAMC,KAAK,GAAG,KAAKN,WAAL,CAAiBO,QAAjB,EAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCH,KAAhC;;AACA,UAAIA,KAAJ,EAAW;AACP,cAAMI,WAAW,GAAG,KAAKC,UAAL,CAAgBL,KAAhB,CAApB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCC,WAArC;AACA,cAAME,MAAM,GAAGF,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,WAAW,CAACG,MAArF;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCG,MAAjC;;AACA,YAAIA,MAAJ,EAAY;AACR,eAAKZ,WAAL,CAAiBc,WAAjB,CAA6BF,MAA7B,EAAqCG,SAArC,CAAgDC,IAAD,IAAU;AACrDR,YAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCO,IAAnC;AACA,iBAAKb,QAAL,GAAgBa,IAAhB;AACAR,YAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B,KAAKN,QAA/B;AACH,WAJD,EAIIc,KAAD,IAAW;AACVT,YAAAA,OAAO,CAACS,KAAR,CAAc,2BAAd,EAA2CA,KAA3C;AACH,WAND;AAOH,SARD,MASK;AACDT,UAAAA,OAAO,CAACS,KAAR,CAAc,sBAAd;AACH;AACJ,OAjBD,MAkBK;AACDT,QAAAA,OAAO,CAACS,KAAR,CAAc,yBAAd;AACH;AACJ;;AACDN,IAAAA,UAAU,CAACL,KAAD,EAAQ;AACd,UAAI;AACA,cAAMY,OAAO,GAAGC,IAAI,CAACb,KAAK,CAACc,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAApB;AACA,cAAMC,aAAa,GAAGC,IAAI,CAACC,KAAL,CAAWL,OAAX,CAAtB;AACAV,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCY,aAArC;AACA,eAAOA,aAAP;AACH,OALD,CAMA,OAAOJ,KAAP,EAAc;AACVT,QAAAA,OAAO,CAACS,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;AACA,eAAO,IAAP;AACH;AACJ;;AACDO,IAAAA,MAAM,GAAG;AACLC,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACA,WAAKzB,MAAL,CAAY0B,QAAZ,CAAqB,CAAC,QAAD,CAArB;AACH;;AACDC,IAAAA,UAAU,CAACC,KAAD,EAAQ;AACdA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAMC,YAAY,GAAG,IAAI7C,eAAJ,EAArB;AACA6C,MAAAA,YAAY,CAACC,SAAb,GAAyB,IAAzB;;AACA,WAAK9B,OAAL,CAAa+B,IAAb,CAAkBhD,eAAlB,EAAmC8C,YAAnC;AACH;;AAtDsB;;AAwD3BjC,EAAAA,aAAa,CAACoC,IAAd,GAAqB,SAASC,qBAAT,CAA+BC,CAA/B,EAAkC;AAAE,WAAO,KAAKA,CAAC,IAAItC,aAAV,EAAyBX,EAAE,CAACkD,iBAAH,CAAqBjD,EAAE,CAACkD,WAAxB,CAAzB,EAA+DnD,EAAE,CAACkD,iBAAH,CAAqBhD,EAAE,CAACkD,MAAxB,CAA/D,EAAgGpD,EAAE,CAACkD,iBAAH,CAAqB/C,EAAE,CAACkD,SAAxB,CAAhG,CAAP;AAA6I,GAAtM;;AACA1C,EAAAA,aAAa,CAAC2C,IAAd,GAAqB,aAActD,EAAE,CAACuD,iBAAH,CAAqB;AAAEC,IAAAA,IAAI,EAAE7C,aAAR;AAAuB8C,IAAAA,SAAS,EAAE,CAAC,CAAC,UAAD,CAAD,CAAlC;AAAkDC,IAAAA,KAAK,EAAE,EAAzD;AAA6DC,IAAAA,IAAI,EAAE,CAAnE;AAAsEC,IAAAA,MAAM,EAAE,CAAC,CAAC,KAAD,EAAQ,iBAAR,EAA2B,KAA3B,EAAkC,MAAlC,EAA0C,CAA1C,EAA6C,MAA7C,CAAD,EAAuD,CAAC,iBAAD,EAAoB,EAApB,EAAwB,YAAxB,EAAsC,oCAAtC,EAA4E,CAA5E,EAA+E,cAA/E,EAA+F,CAA/F,EAAkG,OAAlG,CAAvD,EAAmK,CAAC,CAAD,EAAI,gBAAJ,CAAnK,EAA0L,CAAC,CAAD,EAAI,WAAJ,CAA1L,EAA4M,CAAC,KAAD,EAAQ,mBAAR,EAA6B,KAA7B,EAAoC,QAApC,EAA8C,CAA9C,EAAiD,QAAjD,CAA5M,EAAwQ,CAAC,YAAD,EAAe,EAAf,EAAmB,CAAnB,EAAsB,mBAAtB,CAAxQ,EAAoT,CAAC,MAAD,EAAS,SAAT,CAApT,EAAyU,CAAC,eAAD,EAAkB,EAAlB,CAAzU,EAAgW,CAAC,CAAD,EAAI,OAAJ,CAAhW,EAA8W,CAAC,CAAD,EAAI,mBAAJ,CAA9W,EAAwY,CAAC,MAAD,EAAS,MAAT,EAAiB,CAAjB,EAAoB,SAApB,CAAxY,EAAwa,CAAC,SAAD,EAAY,EAAZ,CAAxa,EAAyb,CAAC,CAAD,EAAI,cAAJ,CAAzb,EAA8c,CAAC,CAAD,EAAI,SAAJ,CAA9c,EAA8d,CAAC,KAAD,EAAQ,mBAAR,EAA6B,KAA7B,EAAoC,QAApC,EAA8C,CAA9C,EAAiD,cAAjD,CAA9d,EAAgiB,CAAC,CAAD,EAAI,WAAJ,CAAhiB,EAAkjB,CAAC,CAAD,EAAI,mBAAJ,CAAljB,EAA4kB,CAAC,CAAD,EAAI,YAAJ,CAA5kB,EAA+lB,CAAC,CAAD,EAAI,eAAJ,CAA/lB,CAA9E;AAAosBC,IAAAA,QAAQ,EAAE,SAASC,sBAAT,CAAgCC,EAAhC,EAAoCC,GAApC,EAAyC;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AACrzB,cAAME,GAAG,GAAGjE,EAAE,CAACkE,gBAAH,EAAZ;;AACAlE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,aAArB;AACAnE,QAAAA,EAAE,CAACoE,SAAH,CAAa,CAAb,EAAgB,KAAhB,EAAuB,CAAvB;AACApE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,QAArB,EAA+B,CAA/B;AACAnE,QAAAA,EAAE,CAACqE,UAAH,CAAc,OAAd,EAAuB,SAASC,8CAAT,GAA0D;AAAEtE,UAAAA,EAAE,CAACuE,aAAH,CAAiBN,GAAjB;;AAAuB,gBAAMO,GAAG,GAAGxE,EAAE,CAACyE,WAAH,CAAe,EAAf,CAAZ;;AAAgC,iBAAOD,GAAG,CAACE,MAAJ,EAAP;AAAsB,SAAhK;AACA1E,QAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,UAArB;AACAnE,QAAAA,EAAE,CAAC2E,MAAH,CAAU,CAAV,EAAa,MAAb;AACA3E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAACoE,SAAH,CAAa,CAAb,EAAgB,MAAhB,EAAwB,CAAxB;AACApE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAnE,QAAAA,EAAE,CAACoE,SAAH,CAAa,CAAb,EAAgB,KAAhB,EAAuB,CAAvB;AACApE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,QAArB,EAA+B,CAA/B;AACAnE,QAAAA,EAAE,CAAC2E,MAAH,CAAU,CAAV;AACA3E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,UAAtB,EAAkC,IAAlC,EAAwC,CAAxC;AACAnE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,CAAhC;AACAnE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,UAAtB;AACAnE,QAAAA,EAAE,CAAC2E,MAAH,CAAU,EAAV,EAAc,aAAd;AACA3E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,MAAtB,EAA8B,CAA9B;AACAnE,QAAAA,EAAE,CAACqE,UAAH,CAAc,OAAd,EAAuB,SAASQ,6CAAT,GAAyD;AAAE,iBAAOb,GAAG,CAAC3B,MAAJ,EAAP;AAAsB,SAAxG;AACArC,QAAAA,EAAE,CAAC2E,MAAH,CAAU,EAAV,EAAc,YAAd;AACA3E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,uBAAtB,EAA+C,CAA/C;AACAnE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,aAAtB,EAAqC,EAArC,EAAyC,EAAzC;AACAnE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAnE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAnE,QAAAA,EAAE,CAACoE,SAAH,CAAa,EAAb,EAAiB,KAAjB,EAAwB,EAAxB;AACApE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAnE,QAAAA,EAAE,CAAC2E,MAAH,CAAU,EAAV;AACA3E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,cAAtB;AACAnE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,eAAtB;AACAnE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,UAAtB;AACAnE,QAAAA,EAAE,CAAC2E,MAAH,CAAU,EAAV,EAAc,YAAd;AACA3E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC2E,MAAH,CAAU,EAAV,EAAc,eAAd;AACA3E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,eAAtB;AACAnE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,UAAtB;AACAnE,QAAAA,EAAE,CAAC2E,MAAH,CAAU,EAAV,EAAc,YAAd;AACA3E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC2E,MAAH,CAAU,EAAV,EAAc,gBAAd;AACA3E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,qBAAtB,EAA6C,EAA7C;AACAnE,QAAAA,EAAE,CAACoE,SAAH,CAAa,EAAb,EAAiB,KAAjB,EAAwB,EAAxB;AACApE,QAAAA,EAAE,CAACmE,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAnE,QAAAA,EAAE,CAACoE,SAAH,CAAa,EAAb,EAAiB,qBAAjB;AACApE,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACA5E,QAAAA,EAAE,CAAC4E,YAAH;AACH;;AAAC,UAAIb,EAAE,GAAG,CAAT,EAAY;AACV,cAAMe,GAAG,GAAG9E,EAAE,CAACyE,WAAH,CAAe,EAAf,CAAZ;;AACAzE,QAAAA,EAAE,CAAC+E,SAAH,CAAa,CAAb;AACA/E,QAAAA,EAAE,CAACgF,UAAH,CAAc,mBAAd,EAAmCF,GAAnC;AACA9E,QAAAA,EAAE,CAAC+E,SAAH,CAAa,CAAb;AACA/E,QAAAA,EAAE,CAACiF,kBAAH,CAAsB,EAAtB,EAA0BjB,GAAG,CAAChD,QAAJ,IAAgB,IAAhB,GAAuB,IAAvB,GAA8BgD,GAAG,CAAChD,QAAJ,CAAakE,MAArE,EAA6E,GAA7E,EAAkFlB,GAAG,CAAChD,QAAJ,IAAgB,IAAhB,GAAuB,IAAvB,GAA8BgD,GAAG,CAAChD,QAAJ,CAAamE,GAA7H,EAAkI,EAAlI;AACAnF,QAAAA,EAAE,CAAC+E,SAAH,CAAa,EAAb;AACA/E,QAAAA,EAAE,CAACiF,kBAAH,CAAsB,EAAtB,EAA0BjB,GAAG,CAAChD,QAAJ,IAAgB,IAAhB,GAAuB,IAAvB,GAA8BgD,GAAG,CAAChD,QAAJ,CAAakE,MAArE,EAA6E,GAA7E,EAAkFlB,GAAG,CAAChD,QAAJ,IAAgB,IAAhB,GAAuB,IAAvB,GAA8BgD,GAAG,CAAChD,QAAJ,CAAamE,GAA7H,EAAkI,EAAlI;AACH;AAAE,KArEiD;AAqE/CC,IAAAA,UAAU,EAAE,CAAChF,EAAE,CAACiF,UAAJ,EAAgBhF,EAAE,CAACiF,SAAnB,EAA8BhF,EAAE,CAACiF,OAAjC,EAA0ChF,EAAE,CAACiF,cAA7C,EAA6DjF,EAAE,CAACkF,OAAhE,EAAyElF,EAAE,CAACmF,WAA5E,EAAyFlF,EAAE,CAACmF,mBAA5F,EAAiHnF,EAAE,CAACoF,UAApH,EAAgInF,EAAE,CAACoF,UAAnI,EAA+IpF,EAAE,CAACqF,WAAlJ,EAA+JtF,EAAE,CAACuF,iBAAlK,EAAqLrF,GAAG,CAACsF,uBAAzL,CArEmC;AAqEgLC,IAAAA,MAAM,EAAE,CAAC,kiGAAD;AArExL,GAArB,CAAnC;AAzDA,SAAatF,aAAb;AAAA","sourcesContent":["import { AddEmpComponent } from '../add-emp/add-emp.component';\r\nimport { MatDialogConfig } from '@angular/material/dialog';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../auth.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/material/dialog\";\r\nimport * as i4 from \"@angular/material/toolbar\";\r\nimport * as i5 from \"@angular/material/button\";\r\nimport * as i6 from \"@angular/material/icon\";\r\nimport * as i7 from \"@angular/material/menu\";\r\nimport * as i8 from \"@angular/material/sidenav\";\r\nimport * as i9 from \"@angular/material/list\";\r\nimport * as i10 from \"../table-paginator/table-paginator.component\";\r\nexport class MainComponent {\r\n    constructor(authService, router, _dialog) {\r\n        this.authService = authService;\r\n        this.router = router;\r\n        this._dialog = _dialog;\r\n        this.userData = {};\r\n        this.isLoading = false;\r\n    }\r\n    ngOnInit() {\r\n        const token = this.authService.getToken();\r\n        console.log('Retrieved token:', token);\r\n        if (token) {\r\n            const parsedToken = this.parseToken(token);\r\n            console.log('Parsed token payload:', parsedToken);\r\n            const userId = parsedToken === null || parsedToken === void 0 ? void 0 : parsedToken.nameid;\r\n            console.log('Extracted userId:', userId);\r\n            if (userId) {\r\n                this.authService.getUserById(userId).subscribe((data) => {\r\n                    console.log('HTTP response data:', data);\r\n                    this.userData = data;\r\n                    console.log('User data:', this.userData);\r\n                }, (error) => {\r\n                    console.error('Error fetching user data:', error);\r\n                });\r\n            }\r\n            else {\r\n                console.error('userId is undefined.');\r\n            }\r\n        }\r\n        else {\r\n            console.error('Token is not available.');\r\n        }\r\n    }\r\n    parseToken(token) {\r\n        try {\r\n            const payload = atob(token.split('.')[1]);\r\n            const parsedPayload = JSON.parse(payload);\r\n            console.log('Parsed token payload:', parsedPayload);\r\n            return parsedPayload;\r\n        }\r\n        catch (error) {\r\n            console.error('Error parsing token:', error);\r\n            return null;\r\n        }\r\n    }\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n        this.router.navigate(['/login']);\r\n    }\r\n    openaddemp(event) {\r\n        event.preventDefault();\r\n        const dialogConfig = new MatDialogConfig();\r\n        dialogConfig.autoFocus = true;\r\n        this._dialog.open(AddEmpComponent, dialogConfig);\r\n    }\r\n}\r\nMainComponent.ɵfac = function MainComponent_Factory(t) { return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialog)); };\r\nMainComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MainComponent, selectors: [[\"app-main\"]], decls: 38, vars: 5, consts: [[\"src\", \"assets/logo.png\", \"alt\", \"Logo\", 1, \"logo\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Example icon-button with menu icon\", 1, \"example-icon\", 3, \"click\"], [1, \"example-spacer\"], [1, \"user-info\"], [\"src\", \"assets/avatar.png\", \"alt\", \"Avatar\", 1, \"avatar\"], [\"mat-button\", \"\", 3, \"matMenuTriggerFor\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\"], [3, \"click\"], [1, \"sidenav-container\"], [\"mode\", \"side\", 1, \"sidenav\"], [\"sidenav\", \"\"], [1, \"user-profile\"], [1, \"user-bg\"], [\"src\", \"assets/avatar.png\", \"alt\", \"Avatar\", 1, \"avatar-large\"], [1, \"user-name\"], [1, \"content-container\"], [1, \"content-bg\"], [1, \"content-inner\"]], template: function MainComponent_Template(rf, ctx) { if (rf & 1) {\r\n        const _r2 = i0.ɵɵgetCurrentView();\r\n        i0.ɵɵelementStart(0, \"mat-toolbar\");\r\n        i0.ɵɵelement(1, \"img\", 0);\r\n        i0.ɵɵelementStart(2, \"button\", 1);\r\n        i0.ɵɵlistener(\"click\", function MainComponent_Template_button_click_2_listener() { i0.ɵɵrestoreView(_r2); const _r1 = i0.ɵɵreference(19); return _r1.toggle(); });\r\n        i0.ɵɵelementStart(3, \"mat-icon\");\r\n        i0.ɵɵtext(4, \"menu\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(5, \"span\", 2);\r\n        i0.ɵɵelementStart(6, \"div\", 3);\r\n        i0.ɵɵelement(7, \"img\", 4);\r\n        i0.ɵɵelementStart(8, \"button\", 5);\r\n        i0.ɵɵtext(9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"mat-menu\", null, 6);\r\n        i0.ɵɵelementStart(12, \"button\", 7);\r\n        i0.ɵɵelementStart(13, \"mat-icon\");\r\n        i0.ɵɵtext(14, \"exit_to_app\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"span\", 8);\r\n        i0.ɵɵlistener(\"click\", function MainComponent_Template_span_click_15_listener() { return ctx.logout(); });\r\n        i0.ɵɵtext(16, \"Disconnect\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(17, \"mat-sidenav-container\", 9);\r\n        i0.ɵɵelementStart(18, \"mat-sidenav\", 10, 11);\r\n        i0.ɵɵelementStart(20, \"div\", 12);\r\n        i0.ɵɵelementStart(21, \"div\", 13);\r\n        i0.ɵɵelement(22, \"img\", 14);\r\n        i0.ɵɵelementStart(23, \"div\", 15);\r\n        i0.ɵɵtext(24);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(25, \"mat-nav-list\");\r\n        i0.ɵɵelementStart(26, \"mat-list-item\");\r\n        i0.ɵɵelementStart(27, \"mat-icon\");\r\n        i0.ɵɵtext(28, \"date_range\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(29, \" Cong\\u00E9s \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(30, \"mat-list-item\");\r\n        i0.ɵɵelementStart(31, \"mat-icon\");\r\n        i0.ɵɵtext(32, \"assignment\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(33, \" Autorisation \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(34, \"mat-sidenav-content\", 16);\r\n        i0.ɵɵelement(35, \"div\", 17);\r\n        i0.ɵɵelementStart(36, \"div\", 18);\r\n        i0.ɵɵelement(37, \"app-table-paginator\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r0 = i0.ɵɵreference(11);\r\n        i0.ɵɵadvance(8);\r\n        i0.ɵɵproperty(\"matMenuTriggerFor\", _r0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵtextInterpolate2(\"\", ctx.userData == null ? null : ctx.userData.prenom, \" \", ctx.userData == null ? null : ctx.userData.nom, \"\");\r\n        i0.ɵɵadvance(15);\r\n        i0.ɵɵtextInterpolate2(\"\", ctx.userData == null ? null : ctx.userData.prenom, \" \", ctx.userData == null ? null : ctx.userData.nom, \"\");\r\n    } }, directives: [i4.MatToolbar, i5.MatButton, i6.MatIcon, i7.MatMenuTrigger, i7.MatMenu, i7.MatMenuItem, i8.MatSidenavContainer, i8.MatSidenav, i9.MatNavList, i9.MatListItem, i8.MatSidenavContent, i10.TablePaginatorComponent], styles: [\".mat-toolbar[_ngcontent-%COMP%]{background-color:#3f629d;color:#fff}.logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}.example-icon[_ngcontent-%COMP%]{color:#fff}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff}.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;border-radius:50%;margin-right:8px}.user-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.sidenav-container[_ngcontent-%COMP%]{height:100vh;display:flex}.sidenav[_ngcontent-%COMP%]{width:280px;background:#f4f4f4}.user-profile[_ngcontent-%COMP%]{position:relative;text-align:center;padding:0}.user-bg[_ngcontent-%COMP%]{position:relative;height:155px;width:100%;background:url(/assets/user-bg.jpg) no-repeat center center;background-size:cover;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:20px}.user-bg[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(46,99,190,.716);z-index:1}.user-bg[_ngcontent-%COMP%]   .avatar-large[_ngcontent-%COMP%]{position:relative;z-index:2;height:80px;border-radius:50%;margin-top:8px}.user-bg[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{position:relative;z-index:2;color:#fff;margin-top:8px;font-size:16px}.mat-nav-list[_ngcontent-%COMP%]{padding:0}.mat-list-item[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]{cursor:pointer;padding:0 16px}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 16px;background-color:#fff;color:#30538e;transition:background-color .3s,color .3s}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#fff;color:#30538e}.mat-list-item[_ngcontent-%COMP%]{padding:16px 0}.mat-list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}.mat-list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#30538e}.mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#30538e}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{color:#30538e}.mat-list-item[_ngcontent-%COMP%]:hover, .mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#30538e1a}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-content[_ngcontent-%COMP%]{padding:0 16px}.mat-expansion-panel-content[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{padding-left:32px}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;background-color:#f5f5f5}.content-bg[_ngcontent-%COMP%]{background:url(/assets/breadcrumb-bg.jpg) no-repeat center center;background-size:cover;height:68px;width:100%;position:relative}.content-bg[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#4673c0bc;z-index:1}.content-inner[_ngcontent-%COMP%]{padding:16px;flex-grow:1;margin-top:68px;background-color:#f5f5f5}.mat-sidenav-opened[_ngcontent-%COMP%]   .content-bg[_ngcontent-%COMP%]{margin-left:280px}\"] });\r\n"]},"metadata":{},"sourceType":"module"}