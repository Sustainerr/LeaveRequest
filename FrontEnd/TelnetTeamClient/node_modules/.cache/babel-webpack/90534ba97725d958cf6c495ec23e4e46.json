{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component } from '@angular/core';\nimport { AddEmpComponent } from '../add-emp/add-emp.component';\nimport { MatDialogConfig } from '@angular/material/dialog';\nlet MainComponent = class MainComponent {\n  constructor(authService, router, dialog) {\n    this.authService = authService;\n    this.router = router;\n    this.dialog = dialog;\n    this.userData = {};\n    this.isLoading = false;\n  }\n\n  ngOnInit() {\n    const token = this.authService.getToken();\n    console.log('Retrieved token:', token);\n\n    if (token) {\n      const parsedToken = this.parseToken(token);\n      console.log('Parsed token payload:', parsedToken);\n      const userId = parsedToken === null || parsedToken === void 0 ? void 0 : parsedToken.nameid;\n      console.log('Extracted userId:', userId);\n\n      if (userId) {\n        this.authService.getUserById(userId).subscribe(data => {\n          console.log('HTTP response data:', data);\n          this.userData = data;\n          console.log('User data:', this.userData);\n        }, error => {\n          console.error('Error fetching user data:', error);\n        });\n      } else {\n        console.error('userId is undefined.');\n      }\n    } else {\n      console.error('Token is not available.');\n    }\n  }\n\n  parseToken(token) {\n    try {\n      const payload = atob(token.split('.')[1]);\n      const parsedPayload = JSON.parse(payload);\n      console.log('Parsed token payload:', parsedPayload);\n      return parsedPayload;\n    } catch (error) {\n      console.error('Error parsing token:', error);\n      return null;\n    }\n  }\n\n  logout() {\n    localStorage.removeItem('token');\n    this.router.navigate(['/login']);\n  }\n\n  openaddemp(event) {\n    event.preventDefault();\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    this.dialog.open(AddEmpComponent, dialogConfig);\n  }\n\n};\nMainComponent = __decorate([Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})], MainComponent);\nexport { MainComponent };","map":{"version":3,"sources":["C:/Users/pprod/Desktop/satge PFE/satge PFE/TelnetTeamClient/src/app/add-emp/add-emp.component.ts"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","Component","AddEmpComponent","MatDialogConfig","MainComponent","constructor","authService","router","dialog","userData","isLoading","ngOnInit","token","getToken","console","log","parsedToken","parseToken","userId","nameid","getUserById","subscribe","data","error","payload","atob","split","parsedPayload","JSON","parse","logout","localStorage","removeItem","navigate","openaddemp","event","preventDefault","dialogConfig","autoFocus","open","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { AddEmpComponent } from '../add-emp/add-emp.component';\r\nimport { MatDialogConfig } from '@angular/material/dialog';\r\nlet MainComponent = class MainComponent {\r\n    constructor(authService, router, dialog) {\r\n        this.authService = authService;\r\n        this.router = router;\r\n        this.dialog = dialog;\r\n        this.userData = {};\r\n        this.isLoading = false;\r\n    }\r\n    ngOnInit() {\r\n        const token = this.authService.getToken();\r\n        console.log('Retrieved token:', token);\r\n        if (token) {\r\n            const parsedToken = this.parseToken(token);\r\n            console.log('Parsed token payload:', parsedToken);\r\n            const userId = parsedToken === null || parsedToken === void 0 ? void 0 : parsedToken.nameid;\r\n            console.log('Extracted userId:', userId);\r\n            if (userId) {\r\n                this.authService.getUserById(userId).subscribe((data) => {\r\n                    console.log('HTTP response data:', data);\r\n                    this.userData = data;\r\n                    console.log('User data:', this.userData);\r\n                }, (error) => {\r\n                    console.error('Error fetching user data:', error);\r\n                });\r\n            }\r\n            else {\r\n                console.error('userId is undefined.');\r\n            }\r\n        }\r\n        else {\r\n            console.error('Token is not available.');\r\n        }\r\n    }\r\n    parseToken(token) {\r\n        try {\r\n            const payload = atob(token.split('.')[1]);\r\n            const parsedPayload = JSON.parse(payload);\r\n            console.log('Parsed token payload:', parsedPayload);\r\n            return parsedPayload;\r\n        }\r\n        catch (error) {\r\n            console.error('Error parsing token:', error);\r\n            return null;\r\n        }\r\n    }\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n        this.router.navigate(['/login']);\r\n    }\r\n    openaddemp(event) {\r\n        event.preventDefault();\r\n        const dialogConfig = new MatDialogConfig();\r\n        dialogConfig.autoFocus = true;\r\n        this.dialog.open(AddEmpComponent, dialogConfig);\r\n    }\r\n};\r\nMainComponent = __decorate([\r\n    Component({\r\n        selector: 'app-main',\r\n        templateUrl: './main.component.html',\r\n        styleUrls: ['./main.component.scss'],\r\n    })\r\n], MainComponent);\r\nexport { MainComponent };\r\n"]},"metadata":{},"sourceType":"module"}