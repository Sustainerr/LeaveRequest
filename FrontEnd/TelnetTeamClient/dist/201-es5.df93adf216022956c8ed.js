!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(self.webpackChunktelnetteam_app=self.webpackChunktelnetteam_app||[]).push([[201],{90201:function(n,r,a){a.r(r),a.d(r,{LoginModule:function(){return O}});var i=a(38583),o=a(3679),l=a(88452),d=a(92340),s=a(44976),m=a(19552),c=a(37716),u=a(10337),p=a(31584),f=a(4885);function g(e,t){1&e&&(c.\u0275\u0275elementStart(0,"div",35),c.\u0275\u0275elementStart(1,"div",36),c.\u0275\u0275elementStart(2,"div",3),c.\u0275\u0275elementStart(3,"div",4),c.\u0275\u0275elementStart(4,"div",37),c.\u0275\u0275element(5,"mat-spinner"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd())}function h(e,t){if(1&e&&(c.\u0275\u0275elementStart(0,"div",38),c.\u0275\u0275text(1," Version : "),c.\u0275\u0275elementStart(2,"span",39),c.\u0275\u0275text(3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&e){var n=c.\u0275\u0275nextContext();c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(n.commitTime)}}function v(e,t){1&e&&(c.\u0275\u0275elementStart(0,"div",40),c.\u0275\u0275elementStart(1,"strong"),c.\u0275\u0275text(2,"Login failed. Your login is invalid."),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd())}function S(e,t){1&e&&(c.\u0275\u0275elementStart(0,"div",40),c.\u0275\u0275elementStart(1,"strong"),c.\u0275\u0275text(2,"Captcha validation failed!"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd())}var b,C=function(e){return{required:e}},y=function(){return["/auth/send-reset-password"]},E=[{path:"",component:(b=function(){function n(t,r,a,i){e(this,n),this.route=t,this.router=r,this.authenticationService=a,this.cookieService=i,this.idleState="Not started.",this.timedOut=!1,this.lastPing=null,this.idlestart=!1,this.failedLogin=!1,this.failedCaptcha=!1,this.recaptchaSended=!1,this.userLogin="",this.userPassword="",this.isLoading=!1,this.commitTime=d.N.commitTime}var r,a,i;return r=n,(a=[{key:"ngOnInit",value:function(){document.querySelector("body").setAttribute("themebg-pattern","theme1"),this.authenticationService.logout(),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"dashboard",this.captchaComponent.captchaEndpoint=d.N.apiUrl+d.N.captchaEndpointUrl}},{key:"validateCaptcha",value:function(){var e=this;this.authenticationService.validateCaptcha({userEnteredCaptchaCode:this.captchaComponent.userEnteredCaptchaCode,captchaId:this.captchaComponent.captchaId}).subscribe(function(t){"false"===t?(e.failedLogin=!1,e.failedCaptcha=!0,e.captchaComponent.reloadImage()):(e.login(),e.failedCaptcha=!1)},function(t){e.failedLogin=!1,e.failedCaptcha=!0})}},{key:"login",value:function(){var e=this;this.isLoading=!0;var t=m.I.measureStrength(this.userPassword);this.authenticationService.login(this.userLogin,this.userPassword,t).subscribe(function(t){e.isLoading=!1,t&&e.authenticationService.isAuthenticated()?(e.cookieService.set("userLogin",e.userLogin),e.returnUrl.indexOf(";")>-1?e.getOptionalParameters(e.returnUrl):e.router.navigate([e.returnUrl])):(e.failedCaptcha=!1,e.failedLogin=!0)},function(){e.isLoading=!1,e.failedCaptcha=!1,e.failedLogin=!0})}},{key:"getOptionalParameters",value:function(e){for(var t,n,r={},a=e.substr(0,e.indexOf(";")),i=e.substr(e.indexOf(";")+1,e.length-e.indexOf(";")-1);i.indexOf(";")>-1;)t=i.substr(0,i.indexOf("=")),n=i.substr(i.indexOf("=")+1,i.indexOf(";")-i.indexOf("=")-1),r[t]=n,i=i.substr(i.indexOf(";")+1,i.length-i.indexOf(";")-1);t=i.substr(0,i.indexOf("=")),n=i.substr(i.indexOf("=")+1,i.length-i.indexOf("=")-1),r[t]=n,this.router.navigate([a],{queryParams:r})}}])&&t(r.prototype,a),i&&t(r,i),n}(),b.\u0275fac=function(e){return new(e||b)(c.\u0275\u0275directiveInject(l.gz),c.\u0275\u0275directiveInject(l.F0),c.\u0275\u0275directiveInject(u.$h),c.\u0275\u0275directiveInject(p.N))},b.\u0275cmp=c.\u0275\u0275defineComponent({type:b,selectors:[["app-login"]],viewQuery:function(e,t){var n;1&e&&c.\u0275\u0275viewQuery(s.h$,7),2&e&&c.\u0275\u0275queryRefresh(n=c.\u0275\u0275loadQuery())&&(t.captchaComponent=n.first)},decls:53,vars:15,consts:[[1,"wrapper"],["class","overlay",4,"ngIf"],[1,"login-block"],[1,"container"],[1,"row"],[1,"col-sm-12"],["name","form","novalidate","",1,"md-float-material","form-material",3,"ngSubmit"],["loginForm","ngForm"],[1,"text-center"],["src","assets/images/logo.png","alt","logo.png"],[1,"auth-box","card"],[1,"card-block"],[1,"row","m-b-20"],[1,"col-md-12"],[1,"form-group","form-primary"],["type","text","name","usrNumber","required","",1,"form-control","login-input-style",3,"ngClass","ngModel","ngModelChange"],["usrNumber","ngModel"],[1,"form-bar"],[1,"float-label"],["type","password","name","usrPassword","required","",1,"form-control","login-input-style",3,"ngClass","ngModel","ngModelChange"],["usrPassword","ngModel"],["captchaStyleName","angularBasicCaptcha"],["id","tapa",2,"background-color","#ffffff","height","10px","width","250px","position","relative","top","-10px"],["title","hola",1,"form-group","form-primary"],["id","userCaptchaInput","name","userCaptchaInput","ngModel","",1,"form-control"],["userCaptchaInput","ngModel"],[1,"row","m-t-25","text-left"],[1,"col-12"],[1,"forgot-phone","text-right","f-right"],[1,"text-right","f-w-600",3,"routerLink"],[1,"row","m-t-30"],["type","submit",1,"btn","btn-primary","btn-md","btn-block","waves-light","text-center","m-b-5","ripple",3,"disabled"],[1,"col-md-12","text-center",2,"font-weight","bold","font-size","smaller"],["class","col-md-12 text-center","style","font-size:smaller;",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"overlay"],[1,"spinner-wrapper"],["id","loader"],[1,"col-md-12","text-center",2,"font-size","smaller"],[2,"color","#007bff"],[1,"alert","alert-danger"]],template:function(e,t){if(1&e){var n=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275template(1,g,6,0,"div",1),c.\u0275\u0275elementStart(2,"section",2),c.\u0275\u0275elementStart(3,"div",3),c.\u0275\u0275elementStart(4,"div",4),c.\u0275\u0275elementStart(5,"div",5),c.\u0275\u0275elementStart(6,"form",6,7),c.\u0275\u0275listener("ngSubmit",function(){return c.\u0275\u0275restoreView(n),c.\u0275\u0275reference(7).form.valid&&t.validateCaptcha()}),c.\u0275\u0275elementStart(8,"div",8),c.\u0275\u0275element(9,"img",9),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(10,"div",10),c.\u0275\u0275elementStart(11,"div",11),c.\u0275\u0275elementStart(12,"div",12),c.\u0275\u0275elementStart(13,"div",13),c.\u0275\u0275elementStart(14,"h3",8),c.\u0275\u0275text(15,"Sign In"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(16,"div",14),c.\u0275\u0275elementStart(17,"input",15,16),c.\u0275\u0275listener("ngModelChange",function(e){return t.userLogin=e}),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(19,"span",17),c.\u0275\u0275elementStart(20,"label",18),c.\u0275\u0275text(21,"Matricule Or Username "),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(22,"div",14),c.\u0275\u0275elementStart(23,"input",19,20),c.\u0275\u0275listener("ngModelChange",function(e){return t.userPassword=e}),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(25,"span",17),c.\u0275\u0275elementStart(26,"label",18),c.\u0275\u0275text(27,"Password"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(28,"botdetect-captcha",21),c.\u0275\u0275element(29,"div",22),c.\u0275\u0275element(30,"br"),c.\u0275\u0275elementStart(31,"div",23),c.\u0275\u0275element(32,"input",24,25),c.\u0275\u0275element(34,"span",17),c.\u0275\u0275elementStart(35,"label",18),c.\u0275\u0275text(36,"Retype the characters from the picture:"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(37,"div",26),c.\u0275\u0275elementStart(38,"div",27),c.\u0275\u0275elementStart(39,"div",28),c.\u0275\u0275elementStart(40,"a",29),c.\u0275\u0275text(41," Reset Password ?"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(42,"div",30),c.\u0275\u0275elementStart(43,"div",13),c.\u0275\u0275elementStart(44,"button",31),c.\u0275\u0275text(45,"Sign in"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(46,"div",32),c.\u0275\u0275text(47," \xa9 Telnet 2021 (Internal use) "),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(48,h,4,1,"div",33),c.\u0275\u0275elementStart(49,"div",30),c.\u0275\u0275elementStart(50,"div",13),c.\u0275\u0275template(51,v,3,0,"div",34),c.\u0275\u0275template(52,S,3,0,"div",34),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()}if(2&e){var r=c.\u0275\u0275reference(7),a=c.\u0275\u0275reference(18),i=c.\u0275\u0275reference(24);c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",t.isLoading),c.\u0275\u0275advance(16),c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(10,C,!(a.valid||a.pristine)))("ngModel",t.userLogin),c.\u0275\u0275advance(6),c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(12,C,!(i.valid||i.pristine)))("ngModel",t.userPassword),c.\u0275\u0275advance(17),c.\u0275\u0275property("routerLink",c.\u0275\u0275pureFunction0(14,y)),c.\u0275\u0275advance(4),c.\u0275\u0275property("disabled",!r.form.valid),c.\u0275\u0275advance(4),c.\u0275\u0275property("ngIf",""!==t.commitTime),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngIf",t.failedLogin),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",t.failedCaptcha)}},directives:[i.NgIf,o.\u0275NgNoValidate,o.NgControlStatusGroup,o.NgForm,o.DefaultValueAccessor,o.RequiredValidator,i.NgClass,o.NgControlStatus,o.NgModel,s.h$,l.yS,f.$g],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.overlay[_ngcontent-%COMP%]{top:0;position:absolute;z-index:1002;background-color:#ffffff80;width:100%;height:100%}.spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center}#loader[_ngcontent-%COMP%]{bottom:0;height:20%;left:0;margin:auto;position:absolute;right:0;top:0;width:6%}"]}),b),data:{title:"Login"}}],x=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=c.\u0275\u0275defineInjector({imports:[[l.Bz.forChild(E)],l.Bz]}),t}(),w=a(32403),I=a(22238),M=a(77001),O=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=c.\u0275\u0275defineInjector({providers:[u.gq,{provide:I.Bq,useValue:{hasBackdrop:!1}}],imports:[[i.CommonModule,x,w.m,o.FormsModule,I.Is,M.ZX,s.hM,f.Cq]]}),t}()}}])}();