"use strict";(self.webpackChunktelnetteam_app=self.webpackChunktelnetteam_app||[]).push([[411],{97411:function(e,t,i){i.r(t),i.d(t,{OfficeSettingsModule:function(){return ut}});var n=i(38583),r=i(88452),s=i(63753),o=i(62028),a=i(37716),l=i(13416),c=i(80521),d=i(39490),h=i(19238),p=i(79765),m=i(75319),u=i(20945),g=i(61927),f=i(67574),_=i(66682),v=i(46782),b=i(39761),S=i(88002),P=i(15257),D=i(68307),y=i(43190),k=i(70946);function w(e,t,i){for(let n in t)if(t.hasOwnProperty(n)){const r=t[n];r?e.setProperty(n,r,(null==i?void 0:i.has(n))?"important":""):e.removeProperty(n)}return e}function x(e,t){const i=t?"":"none";w(e.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function E(e,t,i){w(e.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},i)}function I(e,t){return t&&"none"!=t?e+" "+t:e}function R(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function C(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}function T(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function O(e,t,i){const{top:n,bottom:r,left:s,right:o}=e;return i>=n&&i<=r&&t>=s&&t<=o}function F(e,t,i){e.top+=t,e.bottom=e.top+e.height,e.left+=i,e.right=e.left+e.width}function A(e,t,i,n){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=e,d=l*t,h=c*t;return n>r-h&&n<o+h&&i>a-d&&i<s+d}class N{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:T(e)})})}handleScroll(e){const t=(0,c.sA)(e),i=this.positions.get(t);if(!i)return null;const n=t===this._document?t.documentElement:t,r=i.scrollPosition;let s,o;if(t===this._document){const e=this._viewportRuler.getViewportScrollPosition();s=e.top,o=e.left}else s=t.scrollTop,o=t.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((e,i)=>{e.clientRect&&t!==i&&n.contains(i)&&F(e.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}}function M(e){const t=e.cloneNode(!0),i=t.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<i.length;r++)i[r].removeAttribute("id");return"canvas"===n?V(e,t):("input"===n||"select"===n||"textarea"===n)&&j(e,t),L("canvas",e,t,V),L("input, textarea, select",e,t,j),t}function L(e,t,i,n){const r=t.querySelectorAll(e);if(r.length){const t=i.querySelectorAll(e);for(let e=0;e<r.length;e++)n(r[e],t[e])}}let B=0;function j(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${B++}`)}function V(e,t){const i=t.getContext("2d");if(i)try{i.drawImage(e,0,0)}catch(n){}}const z=(0,c.i$)({passive:!0}),G=(0,c.i$)({passive:!1}),U=new Set(["position"]);class ${constructor(e,t,i,n,r,s){this._config=t,this._document=i,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new p.xQ,this._pointerMoveSubscription=m.w.EMPTY,this._pointerUpSubscription=m.w.EMPTY,this._scrollSubscription=m.w.EMPTY,this._resizeSubscription=m.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new p.xQ,this.started=new p.xQ,this.released=new p.xQ,this.ended=new p.xQ,this.entered=new p.xQ,this.exited=new p.xQ,this.dropped=new p.xQ,this.moved=this._moveEvents,this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const i=(0,c.sA)(e);return!!i&&(i===t||t.contains(i))});t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const t=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),i=this._dropContainer;if(!t)return void this._endDragSequence(e);(!i||!i.isDragging()&&!i.isReceiving())&&(e.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),e.preventDefault();const i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{const e=this._activeTransform;e.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new N(i,r),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=(0,d.Ig)(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>x(e,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(e=>(0,d.fI)(e)),this._handles.forEach(e=>x(e,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=(0,d.fI)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,G),t.addEventListener("touchstart",this._pointerDown,z)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?(0,d.fI)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Z(this._rootElement),Z(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),x(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),x(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Z(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Z(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){q(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,i=e.parentNode,n=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();i.insertBefore(r,e),this._initialTransform=e.style.transform||"",this._preview=this._createPreviewElement(),E(e,!1,U),this._document.body.appendChild(i.replaceChild(n,e)),this._getPreviewInsertionPoint(i,s).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),n=q(t),r=!n&&0!==t.button,s=this._rootElement,o=(0,c.sA)(t),a=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),l=n?(0,h.yG)(t):(0,h.X6)(t);if(o&&o.draggable&&"mousedown"===t.type&&t.preventDefault(),i||r||a||l)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>this._updateOnScroll(e)),this._boundaryElement&&(this._boundaryRect=T(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){E(this._rootElement,!0,U),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),n=this._getPointerPositionOnPage(e),r=this._getDragDistance(n),s=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:r,dropPoint:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r,dropPoint:n}),t.drop(this,i,this._initialIndex,this._initialContainer,s,r,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:n}){let r=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,e,t,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let n;if(i&&e){const t=e.matchSize?this._rootElement.getBoundingClientRect():null,r=e.viewContainer.createEmbeddedView(i,e.context);r.detectChanges(),n=W(r,this._document),this._previewRef=r,e.matchSize?Y(n,t):n.style.transform=H(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement;n=M(e),Y(n,e.getBoundingClientRect()),this._initialTransform&&(n.style.transform=this._initialTransform)}return w(n.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},U),x(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(e=>n.classList.add(e)):n.classList.add(t)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function(e){const t=getComputedStyle(e),i=C(t,"transition-property"),n=i.find(e=>"transform"===e||"all"===e);if(!n)return 0;const r=i.indexOf(n),s=C(t,"transition-duration"),o=C(t,"transition-delay");return R(s[r])+R(o[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const i=t=>{var r;(!t||(0,c.sA)(t)===this._preview&&"transform"===t.propertyName)&&(null===(r=this._preview)||void 0===r||r.removeEventListener("transitionend",i),e(),clearTimeout(n))},n=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=W(this._placeholderRef,this._document)):i=M(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t){const i=this._rootElement.getBoundingClientRect(),n=e===this._rootElement?null:e,r=n?n.getBoundingClientRect():i,s=q(t)?t.targetTouches[0]:t,o=this._getViewportScrollPosition();return{x:r.left-i.left+(s.pageX-r.left-o.left),y:r.top-i.top+(s.pageY-r.top-o.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=q(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,n=i.pageX-t.left,r=i.pageY-t.top;if(this._ownerSVGElement){const e=this._ownerSVGElement.getScreenCTM();if(e){const t=this._ownerSVGElement.createSVGPoint();return t.x=n,t.y=r,t.matrixTransform(e.inverse())}}return{x:n,y:r}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?n=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,r=this._boundaryRect,s=this._previewRect,o=r.top+t,a=r.bottom-(s.height-t);i=Q(i,r.left+e,r.right-(s.width-e)),n=Q(n,o,a)}return{x:i,y:n}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,n=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-r.x),o=Math.abs(i-r.y);return s>this._config.pointerDirectionChangeThreshold&&(n.x=t>r.x?1:-1,r.x=t),o>this._config.pointerDirectionChangeThreshold&&(n.y=i>r.y?1:-1,r.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,x(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,G),e.removeEventListener("touchstart",this._pointerDown,z)}_applyRootElementTransform(e,t){const i=H(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=I(i,this._initialTransform)}_applyPreviewTransform(e,t){var i;const n=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=H(e,t);this._preview.style.transform=I(r,n)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===n.width&&0===n.height)return;const r=i.left-n.left,s=n.right-i.right,o=i.top-n.top,a=n.bottom-i.bottom;i.width>n.width?(r>0&&(e+=r),s>0&&(e-=s)):e=0,i.height>n.height?(o>0&&(t+=o),a>0&&(t-=a)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:q(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=(0,c.sA)(e);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&F(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,c.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const e=this._document;return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}return(0,d.fI)(i)}}function H(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function Q(e,t,i){return Math.max(t,Math.min(i,e))}function Z(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function q(e){return"t"===e.type[0]}function W(e,t){const i=e.rootNodes;if(1===i.length&&i[0].nodeType===t.ELEMENT_NODE)return i[0];const n=t.createElement("div");return i.forEach(e=>n.appendChild(e)),n}function Y(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=H(t.left,t.top)}function K(e,t,i){const n=J(t,e.length-1),r=J(i,e.length-1);if(n===r)return;const s=e[n],o=r<n?-1:1;for(let a=n;a!==r;a+=o)e[a]=e[a+o];e[r]=s}function X(e,t,i,n){const r=J(i,e.length-1),s=J(n,t.length);e.length&&t.splice(s,0,e.splice(r,1)[0])}function J(e,t){return Math.max(0,Math.min(t,e))}class ee{constructor(e,t,i,n,r){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new p.xQ,this.entered=new p.xQ,this.exited=new p.xQ,this.dropped=new p.xQ,this.sorted=new p.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=m.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new p.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,u.F)(0,g.Z).pipe((0,v.R)(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode,t=this.autoScrollStep;1===this._verticalScrollDirection?ie(e,-t):2===this._verticalScrollDirection&&ie(e,t),1===this._horizontalScrollDirection?ne(e,-t):2===this._horizontalScrollDirection&&ne(e,t)})},this.element=(0,d.fI)(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new N(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,n){let r;this._draggingStarted(),null==n?(r=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(e,t,i))):r=n;const s=this._activeDraggables,o=s.indexOf(e),a=e.getPlaceholderElement();let l=s[r];if(l===e&&(l=s[r+1]),o>-1&&s.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){const t=l.getRootElement();t.parentElement.insertBefore(a,t),s.splice(r,0,e)}else if(this._shouldEnterAsFirstChild(t,i)){const t=s[0].getRootElement();t.parentNode.insertBefore(a,t),s.unshift(e)}else(0,d.fI)(this.element).appendChild(a),s.push(e);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,n,r,s,o){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:r,distance:s,dropPoint:o})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(e=>e.isDragging()).every(t=>-1===e.indexOf(t))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=(0,d.fI)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?te("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,n){if(this.sortingDisabled||!this._clientRect||!A(this._clientRect,.05,t,i))return;const r=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,i,n);if(-1===s&&r.length>0)return;const o="horizontal"===this._orientation,a=te(r,t=>t.drag===e),l=r[s],c=l.clientRect,d=a>s?1:-1,h=this._getItemOffsetPx(r[a].clientRect,c,d),p=this._getSiblingOffsetPx(a,r,d),m=r.slice();K(r,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:e}),r.forEach((t,i)=>{if(m[i]===t)return;const n=t.drag===e,r=n?h:p,s=n?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=r,o?(s.style.transform=I(`translate3d(${Math.round(t.offset)}px, 0, 0)`,t.initialTransform),F(t.clientRect,0,r)):(s.style.transform=I(`translate3d(0, ${Math.round(t.offset)}px, 0)`,t.initialTransform),F(t.clientRect,r,0))}),this._previousSwap.overlaps=O(c,t,i),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?n.x:n.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,n=0,r=0;if(this._parentPositions.positions.forEach((s,o)=>{o===this._document||!s.clientRect||i||A(s.clientRect,.05,e,t)&&([n,r]=function(e,t,i,n){const r=re(t,n),s=se(t,i);let o=0,a=0;if(r){const t=e.scrollTop;1===r?t>0&&(o=1):e.scrollHeight-t>e.clientHeight&&(o=2)}if(s){const t=e.scrollLeft;1===s?t>0&&(a=1):e.scrollWidth-t>e.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,e,t),(n||r)&&(i=o))}),!n&&!r){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};n=re(a,t),r=se(a,e),i=window}i&&(n!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=r,this._scrollNode=i,(n||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=(0,d.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=(0,d.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:T(t)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const e=(0,d.fI)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var t;const i=e.getRootElement();if(i){const n=null===(t=this._itemPositions.find(t=>t.drag===e))||void 0===t?void 0:t.initialTransform;i.style.transform=n||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,i){const n="horizontal"===this._orientation,r=t[e].clientRect,s=t[e+-1*i];let o=r[n?"width":"height"]*i;if(s){const e=n?"left":"top",t=n?"right":"bottom";-1===i?o-=s.clientRect[e]-r[t]:o+=r[e]-s.clientRect[t]}return o}_getItemOffsetPx(e,t,i){const n="horizontal"===this._orientation;let r=n?t.left-e.left:t.top-e.top;return-1===i&&(r+=n?t.width-e.width:t.height-e.height),r}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const r=i[i.length-1].clientRect;return n?e>=r.right:t>=r.bottom}{const r=i[0].clientRect;return n?e<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(e,t,i,n){const r="horizontal"===this._orientation,s=te(this._itemPositions,({drag:s,clientRect:o},a,l)=>{if(s===e)return l.length<2;if(n){const e=r?n.x:n.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&e===this._previousSwap.delta)return!1}return r?t>=Math.floor(o.left)&&t<Math.floor(o.right):i>=Math.floor(o.top)&&i<Math.floor(o.bottom)});return-1!==s&&this.sortPredicate(s,e,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&O(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(n=>n._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!O(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const n=this._getShadowRoot().elementFromPoint(t,i);if(!n)return!1;const r=(0,d.fI)(this.element);return n===r||r.contains(n)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(e=>this.enterPredicate(e,this)||this._draggables.indexOf(e)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:e})=>{F(e,t.top,t.left)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=(0,c.kV)((0,d.fI)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function te(e,t){for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1}function ie(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function ne(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function re(e,t){const{top:i,bottom:n,height:r}=e,s=.05*r;return t>=i-s&&t<=i+s?1:t>=n-s&&t<=n+s?2:0}function se(e,t){const{left:i,right:n,width:r}=e,s=.05*r;return t>=i-s&&t<=i+s?1:t>=n-s&&t<=n+s?2:0}const oe=(0,c.i$)({passive:!1,capture:!0});let ae=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=e=>e.isDragging(),this.pointerMove=new p.xQ,this.pointerUp=new p.xQ,this.scroll=new p.xQ,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=e=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,oe)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,oe)}startDragging(e,t){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const e=t.type.startsWith("touch");this._globalListeners.set(e?"touchend":"mouseup",{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:oe}),e||this._globalListeners.set("mousemove",{handler:e=>this.pointerMove.next(e),options:oe}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){const t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const t=[this.scroll];return e&&e!==this._document&&t.push(new f.y(t=>this._ngZone.runOutsideAngular(()=>{const i=e=>{this._activeDragInstances.length&&t.next(e)};return e.addEventListener("scroll",i,!0),()=>{e.removeEventListener("scroll",i,!0)}}))),(0,_.T)(...t)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(a.NgZone),a.\u0275\u0275inject(n.DOCUMENT))},e.\u0275prov=a.\u0275\u0275defineInjectable({factory:function(){return new e(a.\u0275\u0275inject(a.NgZone),a.\u0275\u0275inject(n.DOCUMENT))},token:e,providedIn:"root"}),e})();const le={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ce=(()=>{class e{constructor(e,t,i,n){this._document=e,this._ngZone=t,this._viewportRuler=i,this._dragDropRegistry=n}createDrag(e,t=le){return new $(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new ee(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(n.DOCUMENT),a.\u0275\u0275inject(a.NgZone),a.\u0275\u0275inject(l.rL),a.\u0275\u0275inject(ae))},e.\u0275prov=a.\u0275\u0275defineInjectable({factory:function(){return new e(a.\u0275\u0275inject(n.DOCUMENT),a.\u0275\u0275inject(a.NgZone),a.\u0275\u0275inject(l.rL),a.\u0275\u0275inject(ae))},token:e,providedIn:"root"}),e})();const de=new a.InjectionToken("CDK_DRAG_PARENT"),he=new a.InjectionToken("CdkDropListGroup"),pe=new a.InjectionToken("CDK_DRAG_CONFIG");let me=0;const ue=new a.InjectionToken("CdkDropList");let ge=(()=>{class e{constructor(t,i,n,r,s,o,l){this.element=t,this._changeDetectorRef=n,this._scrollDispatcher=r,this._dir=s,this._group=o,this._destroyed=new p.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+me++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new a.EventEmitter,this.entered=new a.EventEmitter,this.exited=new a.EventEmitter,this.sorted=new a.EventEmitter,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(e,t)=>this.enterPredicate(e.data,t.data),this._dropListRef.sortPredicate=(e,t,i)=>this.sortPredicate(e,t.data,i.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,d.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,b.O)(this._dir.value),(0,v.R)(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const i=(0,d.Eq)(this.connectedTo).map(t=>"string"==typeof t?e._dropLists.find(e=>e.id===t):t);if(this._group&&this._group._items.forEach(e=>{-1===i.indexOf(e)&&i.push(e)}),!this._scrollableParentsResolved){const e=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(e=>e.getElementRef().nativeElement);this._dropListRef.withScrollableParents(e),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=(0,d.Ig)(this.sortingDisabled),t.autoScrollDisabled=(0,d.Ig)(this.autoScrollDisabled),t.autoScrollStep=(0,d.su)(this.autoScrollStep,2),t.connectedTo(i.filter(e=>e&&e!==this).map(e=>e._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance,dropPoint:e.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:t,draggingDisabled:i,sortingDisabled:n,listAutoScrollDisabled:r,listOrientation:s}=e;this.disabled=null!=i&&i,this.sortingDisabled=null!=n&&n,this.autoScrollDisabled=null!=r&&r,this.orientation=s||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ce),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(l.mF),a.\u0275\u0275directiveInject(k.Is,8),a.\u0275\u0275directiveInject(he,12),a.\u0275\u0275directiveInject(pe,8))},e.\u0275dir=a.\u0275\u0275defineDirective({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(a.\u0275\u0275attribute("id",t.id),a.\u0275\u0275classProp("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[a.\u0275\u0275ProvidersFeature([{provide:he,useValue:void 0},{provide:ue,useExisting:e}])]}),e._dropLists=[],e})();const fe=new a.InjectionToken("CdkDragHandle"),_e=new a.InjectionToken("CdkDragPlaceholder"),ve=new a.InjectionToken("CdkDragPreview");let be=(()=>{class e{constructor(t,i,n,r,s,o,l,c,d,h,m){this.element=t,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=s,this._dir=l,this._changeDetectorRef=d,this._selfHandle=h,this._parentDrag=m,this._destroyed=new p.xQ,this.started=new a.EventEmitter,this.released=new a.EventEmitter,this.ended=new a.EventEmitter,this.entered=new a.EventEmitter,this.exited=new a.EventEmitter,this.dropped=new a.EventEmitter,this.moved=new f.y(e=>{const t=this._dragRef.moved.pipe((0,S.U)(e=>({source:this,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}))).subscribe(e);return()=>{t.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),o&&this._assignDefaults(o),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,d.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,P.q)(1),(0,v.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const t=e.rootElementSelector,i=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,t=this.rootElementSelector?Se(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?Se(this.element.nativeElement,e):(0,d.fI)(e):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,i=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:(0,d.su)(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe((0,P.q)(1)).subscribe(()=>{var i,n;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){t.withParent((null===(n=e._dragInstances.find(e=>e.element.nativeElement===r))||void 0===n?void 0:n._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:i,constrainPosition:n,previewClass:r,boundaryElement:s,draggingDisabled:o,rootElementSelector:a,previewContainer:l}=e;this.disabled=null!=o&&o,this.dragStartDelay=i||0,t&&(this.lockAxis=t),n&&(this.constrainPosition=n),r&&(this.previewClass=r),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a),l&&(this.previewContainer=l)}_setupHandlesListener(){this._handles.changes.pipe((0,b.O)(this._handles),(0,D.b)(e=>{const t=e.filter(e=>e._parentDrag===this).map(e=>e.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),(0,y.w)(e=>(0,_.T)(...e.map(e=>e._stateChanges.pipe((0,b.O)(e))))),(0,v.R)(this._destroyed)).subscribe(e=>{const t=this._dragRef,i=e.element.nativeElement;e.disabled?t.disableHandle(i):t.enableHandle(i)})}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ue,12),a.\u0275\u0275directiveInject(n.DOCUMENT),a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(a.ViewContainerRef),a.\u0275\u0275directiveInject(pe,8),a.\u0275\u0275directiveInject(k.Is,8),a.\u0275\u0275directiveInject(ce),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(fe,10),a.\u0275\u0275directiveInject(de,12))},e.\u0275dir=a.\u0275\u0275defineDirective({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,i){if(1&e&&(a.\u0275\u0275contentQuery(i,ve,5),a.\u0275\u0275contentQuery(i,_e,5),a.\u0275\u0275contentQuery(i,fe,5)),2&e){let e;a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(t._previewTemplate=e.first),a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(t._placeholderTemplate=e.first),a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(t._handles=e)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&a.\u0275\u0275classProp("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[a.\u0275\u0275ProvidersFeature([{provide:de,useExisting:e}]),a.\u0275\u0275NgOnChangesFeature]}),e._dragInstances=[],e})();function Se(e,t){let i=e.parentElement;for(;i;){if(i.matches?i.matches(t):i.msMatchesSelector(t))return i;i=i.parentElement}return null}let Pe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({providers:[ce],imports:[l.ZD]}),e})();var De=i(22238),ye=i(51586),ke=i(82636),we=i(70833),xe=i(10337);let Ee=(()=>{class e{constructor(e,t){this.genericService=e,this.entityParameterService=t,this.refreshBlocks=new we.xQ}getPlatforms(){const e=new Array,t=new ye.u;return t.storedProcedureName="FOTT.GetPlatforms",t.entitiesParameters=new Array(e),t.cursorName="curs",this.genericService.createService("/Data/Get",t)}getPlatformBlocksResponsibles(e){const t=new Array;this.entityParameterService.AddEntityParameter(t,"platformId",e,ke.sP.Decimal,ke.Nm.Input);const i=new ye.u;return i.storedProcedureName="FOTT.GetPlatformBlocksResponsibles",i.entitiesParameters=new Array(t),i.cursorName="curs",this.genericService.createService("/Data/Get",i)}getResponsiblePlatformFreeDesks(e,t){const i=new Array;this.entityParameterService.AddEntityParameter(i,"platformId",e,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"responsibleId",t,ke.sP.Decimal,ke.Nm.Input);const n=new ye.u;return n.storedProcedureName="FOTT.GetRespPlatformFreeDesks",n.entitiesParameters=new Array(i),n.cursorName="curs",this.genericService.createService("/Data/Get",n)}getAssignedBlocks(e,t){const i=new Array;this.entityParameterService.AddEntityParameter(i,"platformId",e,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"responsibleId",t,ke.sP.Decimal,ke.Nm.Input);const n=new ye.u;return n.storedProcedureName="FOTT.GetAssignedBlocks",n.entitiesParameters=new Array(i),n.cursorName="curs",this.genericService.createService("/Data/Get",n)}getBlockDesks(e){const t=new Array;this.entityParameterService.AddEntityParameter(t,"blockId",e,ke.sP.Decimal,ke.Nm.Input);const i=new ye.u;return i.storedProcedureName="FOTT.GetBlockDesks",i.entitiesParameters=new Array(t),i.cursorName="curs",this.genericService.createService("/Data/Get",i)}assignDeskToBlock(e,t){const i=new Array;this.entityParameterService.AddEntityParameter(i,"deskId",e,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"blockId",t,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"countAssignedDesks",0,ke.sP.Decimal,ke.Nm.Output);const n=new ye.u;return n.storedProcedureName="FOTT.AssignDeskToBlock",n.entitiesParameters=new Array(i),n.outputIdParameterName="countAssignedDesks",this.genericService.createService("/Data/Save",n)}freeDeskFromBlock(e,t){const i=new Array;this.entityParameterService.AddEntityParameter(i,"deskId",e,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"blockId",t,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"countFreedDesks",0,ke.sP.Decimal,ke.Nm.Output);const n=new ye.u;return n.storedProcedureName="FOTT.FreeDeskFromBlock",n.entitiesParameters=new Array(i),n.outputIdParameterName="countFreedDesks",this.genericService.createService("/Data/Save",n)}getBlockResources(e){const t=new Array;this.entityParameterService.AddEntityParameter(t,"blockId",e,ke.sP.Decimal,ke.Nm.Input);const i=new ye.u;return i.storedProcedureName="FOTT.GetBlockResources",i.entitiesParameters=new Array(t),i.cursorName="curs",this.genericService.createService("/Data/Get",i)}assignResourceToBlock(e,t){const i=new Array;this.entityParameterService.AddEntityParameter(i,"resourceId",e,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"blockId",t,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"countAssignedResources",0,ke.sP.Decimal,ke.Nm.Output);const n=new ye.u;return n.storedProcedureName="FOTT.AssignResourceToBlock",n.entitiesParameters=new Array(i),n.outputIdParameterName="countAssignedResources",this.genericService.createService("/Data/Save",n)}freeResourceFromBlock(e,t){const i=new Array;this.entityParameterService.AddEntityParameter(i,"resourceId",e,ke.sP.NVarchar2,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"blockId",t,ke.sP.NVarchar2,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"countFreedResources",0,ke.sP.Decimal,ke.Nm.Output);const n=new ye.u;return n.storedProcedureName="FOTT.FreeResourceFromBlock",n.entitiesParameters=new Array(i),n.outputIdParameterName="countFreedResources",this.genericService.createService("/Data/Delete",n)}getResponsibleFreeSubordonates(e){const t=new Array;this.entityParameterService.AddEntityParameter(t,"responsibleId",e,ke.sP.Decimal,ke.Nm.Input);const i=new ye.u;return i.storedProcedureName="FOTT.GetResponsibleFreeSubordonates",i.entitiesParameters=new Array(t),i.cursorName="curs",this.genericService.createService("/Data/Get",i)}addBlock(e,t,i){const n=new Array;this.entityParameterService.AddEntityParameter(n,"selectedFreeDesksIds",e,ke.sP.Varchar2,ke.Nm.Input),this.entityParameterService.AddEntityParameter(n,"platformId",t,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(n,"responsibleId",i,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(n,"blockId",0,ke.sP.Decimal,ke.Nm.Output);const r=new ye.u;return r.storedProcedureName="FOTT.AddBlock",r.entitiesParameters=new Array(n),r.outputIdParameterName="blockId",this.genericService.createService("/Data/Save",r)}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(xe.MY),a.\u0275\u0275inject(xe.RZ))},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),Ie=(()=>{class e{constructor(e,t){this.genericService=e,this.entityParameterService=t}getPlatforms(){const e=new Array,t=new ye.u;return t.storedProcedureName="FOTT.GetPlatforms",t.entitiesParameters=new Array(e),t.cursorName="curs",this.genericService.createService("/Data/Get",t)}getSites(){const e=new Array,t=new ye.u;return t.storedProcedureName="FOTT.GetSites",t.entitiesParameters=new Array(e),t.cursorName="curs",this.genericService.createService("/Data/Get",t)}getPlatformDetails(e){const t=new Array;this.entityParameterService.AddEntityParameter(t,"platformId",e,ke.sP.Decimal,ke.Nm.Input);const i=new ye.u;return i.storedProcedureName="FOTT.GetPlatformDetails",i.entitiesParameters=new Array(t),i.cursorName="curs",this.genericService.createService("/Data/Get",i)}savePlatformDetails(e){const t=new Array;this.entityParameterService.AddEntityParameters(t,e);const i=new ye.u;return i.storedProcedureName="FOTT.InsertOrUpdatePlatform",i.entitiesParameters=new Array(t),i.outputIdParameterName="platformId",this.genericService.createService("/Data/Save",i)}getPlatformDesks(e){const t=new Array;this.entityParameterService.AddEntityParameter(t,"platformId",e,ke.sP.Decimal,ke.Nm.Input);const i=new ye.u;return i.storedProcedureName="FOTT.GetPlatformDesks",i.entitiesParameters=new Array(t),i.cursorName="curs",this.genericService.createService("/Data/Get",i)}getAllResponsibles(){const e=new ye.u;return e.storedProcedureName="FOTT.GetAllResponsibles",e.cursorName="curs",this.genericService.createService("/Data/Get",e)}assignResponsibleToDesks(e,t){const i=new Array;this.entityParameterService.AddEntityParameter(i,"deskId",e,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"responsibleId",t,ke.sP.Decimal,ke.Nm.Input),this.entityParameterService.AddEntityParameter(i,"countAssignedDesk",0,ke.sP.Decimal,ke.Nm.Output);const n=new ye.u;return n.storedProcedureName="FOTT.AssignResponsibleToDesk",n.entitiesParameters=new Array(i),n.outputIdParameterName="countAssignedDesk",this.genericService.createService("/Data/Save",n)}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(xe.MY),a.\u0275\u0275inject(xe.RZ))},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var Re=i(3679),Ce=i(19992);function Te(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"mat-list-option",15),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;a.\u0275\u0275property("value",e.id),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}let Oe=(()=>{class e{constructor(e,t,i,n){this.dialogRef=e,this.data=t,this.blocksService=i,this.notificationService=n,this.reponsiblePlatformFreeDesks=[],this.selectedFreeDesks=[]}ngOnInit(){this.data&&(this.reponsiblePlatformFreeDesks=this.data.reponsiblePlatformFreeDesks,this.platformId=this.data.platformId,this.responsibleId=this.data.responsibleId)}close(){this.blocksService.refreshBlocks.next(),this.dialogRef.close()}addBlock(){const e=this.selectedFreeDesks.map(e=>e).join(",");this.blocksService.addBlock(e,this.platformId,this.responsibleId).subscribe(e=>{0!==e?(this.notificationService.success("Block added successfully."),this.close()):this.notificationService.danger("Add block failed.")},()=>{this.notificationService.danger("Add block failed.")})}cancel(){this.close()}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(De.so),a.\u0275\u0275directiveInject(De.WI),a.\u0275\u0275directiveInject(Ee),a.\u0275\u0275directiveInject(xe.gq))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["app-add-block"]],decls:23,vars:2,consts:[[1,"modal_header"],[1,"modal_title"],[1,"material-icons","modal-close",3,"click"],[1,"modal_body"],["placement","bottom",1,"p-20","z-depth-top-0","waves-effect"],["id","addBlockForm"],["addBlockForm","ngForm"],[1,"mat-selection-list",3,"ngModel","ngModelChange"],["platformsLis",""],["class","mat-list-option","checkboxPosition","after",3,"value",4,"ngFor","ngForOf"],[1,"row","m-t-20"],[1,"col-lg-12"],[1,"row","f-right"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","submit",1,"btn","btn-primary","ripple","light","btn-md",3,"click"],["checkboxPosition","after",1,"mat-list-option",3,"value"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"span"),a.\u0275\u0275text(3," Add Block "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"span"),a.\u0275\u0275elementStart(5,"em",2),a.\u0275\u0275listener("click",function(){return t.close()}),a.\u0275\u0275text(6,"close"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div",3),a.\u0275\u0275elementStart(8,"div",4),a.\u0275\u0275elementStart(9,"form",5,6),a.\u0275\u0275elementStart(11,"mat-selection-list",7,8),a.\u0275\u0275listener("ngModelChange",function(e){return t.selectedFreeDesks=e}),a.\u0275\u0275template(13,Te,2,2,"mat-list-option",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"div",10),a.\u0275\u0275elementStart(15,"div",11),a.\u0275\u0275elementStart(16,"div",12),a.\u0275\u0275elementStart(17,"div",11),a.\u0275\u0275elementStart(18,"button",13),a.\u0275\u0275listener("click",function(){return t.cancel()}),a.\u0275\u0275text(19,"Cancel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(20," \xa0 \xa0 "),a.\u0275\u0275elementStart(21,"button",14),a.\u0275\u0275listener("click",function(){return t.addBlock()}),a.\u0275\u0275text(22," Save "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(11),a.\u0275\u0275property("ngModel",t.selectedFreeDesks),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.reponsiblePlatformFreeDesks))},directives:[Re.\u0275NgNoValidate,Re.NgControlStatusGroup,Re.NgForm,Ce.Ub,Re.NgControlStatus,Re.NgModel,n.NgForOf,Ce.vS],styles:[".icon-pointer[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{height:50px;background-color:#3f629d;padding:18px 15px}.modal_header[_ngcontent-%COMP%]   .modal_title[_ngcontent-%COMP%]{color:#fff;line-height:1}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{float:right;cursor:pointer}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:red}.modal_header[_ngcontent-%COMP%]   .modal-close-disabled[_ngcontent-%COMP%]{cursor:not-allowed;color:#dcdcdc}.modal_header[_ngcontent-%COMP%]   .modal-close-disabled[_ngcontent-%COMP%]:hover{color:#dcdcdc}.modal_body[_ngcontent-%COMP%]{overflow:hidden}.mat-selection-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:44px;background:white;overflow:hidden;display:block;padding-top:0}.mat-list-option[_ngcontent-%COMP%]{font-size:14px;border-bottom:solid 1px #ccc;box-sizing:border-box}"]}),e})();var Fe=i(76627),Ae=i(38590);function Ne(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-list-option",22),a.\u0275\u0275listener("click",function(){const t=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().getPlatformBlocksResponsibles(t.id)}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,i=t.index;a.\u0275\u0275property("selected",e&&0==i),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Me(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-list-option",22),a.\u0275\u0275listener("click",function(){const t=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().getAssignedBlocks(t.id)}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,i=t.index;a.\u0275\u0275property("selected",e&&0==i),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Le(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-icon",23),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().addBlock()}),a.\u0275\u0275text(1," add "),a.\u0275\u0275elementEnd()}}function Be(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-list-option",24),a.\u0275\u0275listener("click",function(){const t=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().getBlockDesks(t.id)}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,i=t.index;a.\u0275\u0275property("selected",e&&0==i),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}function je(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",25),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,i=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDragDisabled",0===i.blockId||!i.isSuperAdmin()),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Ve(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",25),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,i=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDragDisabled",0===i.blockId||!i.isSuperAdmin()),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}function ze(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",25),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,i=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDragDisabled",0===i.blockId||!i.canManageResources()),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Ge(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",25),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,i=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDragDisabled",0===i.blockId||!i.canManageResources()),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}const Ue=function(e){return[e]};let $e=(()=>{class e{constructor(e,t,i,n){this.platformsService=e,this.blocksService=t,this.notificationService=i,this.dialog=n,this.platforms=[],this.platformBlocksResponsibles=[],this.assignedBlocks=[],this.blockDesks=[],this.responsiblePlatformFreeDesks=[],this.blockResources=[],this.responsibleFreeSubordonates=[],this.subscription=new we.w0}ngOnInit(){this.currentUser=JSON.parse(localStorage.getItem("currentUser")),this.getPlatforms(),this.subscription=this.blocksService.refreshBlocks.subscribe(()=>{this.getAssignedBlocks(this.responsibleId)})}isSuperAdmin(){return this.currentUser.groupId===o.Fl.SuperAdmin}canManageResources(){let e=!1;return(this.isSuperAdmin()||this.currentUser.userId===this.responsibleId)&&(e=!0),e}getPlatforms(){this.platformsService.getPlatforms().subscribe(e=>{e.length>0&&(this.platforms=e,this.getPlatformBlocksResponsibles(this.platforms[0].id))})}getPlatformBlocksResponsibles(e){this.platformId=e,this.platformBlocksResponsibles=[],this.assignedBlocks=[],this.blockDesks=[],this.blockResources=[],this.responsibleId=0,this.responsiblePlatformFreeDesks=[],this.responsibleFreeSubordonates=[],this.blocksService.getPlatformBlocksResponsibles(e).subscribe(e=>{e.length>0&&(this.platformBlocksResponsibles=e,this.getAssignedBlocks(this.platformBlocksResponsibles[0].id))})}getAssignedBlocks(e){this.getResponsiblePlatformFreeDesks(this.platformId,e),this.getResponsibleFreeSubordonates(e),this.responsibleId=e,this.blockDesks=[],this.blockResources=[],this.blockId=0,this.blocksService.getAssignedBlocks(this.platformId,e).subscribe(e=>{e.length>0&&(this.assignedBlocks=e,this.getBlockDesks(this.assignedBlocks[0].id))})}getBlockDesks(e){this.blockId=e,this.blocksService.getBlockDesks(e).subscribe(t=>{t&&(this.blockDesks=t,this.getBlockResources(e))})}getResponsiblePlatformFreeDesks(e,t){this.blocksService.getResponsiblePlatformFreeDesks(e,t).subscribe(e=>{e&&(this.responsiblePlatformFreeDesks=e)})}assignDeskToBlock(e){if(this.blockId&&this.blockId>0){const t=e.previousContainer.data[e.previousIndex].id;e.previousContainer===e.container?K(e.container.data,e.previousIndex,e.currentIndex):this.blocksService.assignDeskToBlock(t,this.blockId).subscribe(t=>{t>0?(this.notificationService.success("Desk assigned to block successfully."),X(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)):this.notificationService.danger("Assign desk to block failed.")})}else this.notificationService.danger("A block should be selected!")}freeDeskFromBlock(e){const t=e.previousContainer.data[e.previousIndex].id;e.previousContainer===e.container?K(e.container.data,e.previousIndex,e.currentIndex):this.blocksService.freeDeskFromBlock(t,this.blockId).subscribe(t=>{t>0?(this.notificationService.success("Desk freed from block successfully."),X(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.getAssignedBlocks(this.responsibleId)):this.notificationService.danger("Free desk from block failed.")})}getBlockResources(e){this.blockId=e,this.blocksService.getBlockResources(e).subscribe(e=>{e&&(this.blockResources=e)})}getResponsibleFreeSubordonates(e){this.blocksService.getResponsibleFreeSubordonates(e).subscribe(e=>{e&&(this.responsibleFreeSubordonates=e)})}assignResourceToBlock(e){if(this.blockId&&this.blockId>0){const t=e.previousContainer.data[e.previousIndex].id;e.previousContainer===e.container?K(e.container.data,e.previousIndex,e.currentIndex):this.blocksService.assignResourceToBlock(t,this.blockId).subscribe(t=>{t>0?(this.notificationService.success("Resource assigned to block successfully."),X(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)):this.notificationService.danger("Assign resource to block failed.")})}else this.notificationService.danger("A block should be selected!")}freeResourceFromBlock(e){const t=e.previousContainer.data[e.previousIndex].id;e.previousContainer===e.container?K(e.container.data,e.previousIndex,e.currentIndex):this.blocksService.freeResourceFromBlock(t,this.blockId).subscribe(t=>{t>0?(this.notificationService.success("Resource freed from block successfully."),X(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)):this.notificationService.danger("Free resource from block failed.")})}addBlock(){this.addBlockDialog=this.dialog.open(Oe,{disableClose:!1,hasBackdrop:!0,width:"350px",height:"470px",data:{platformId:this.platformId,responsibleId:this.responsibleId,reponsiblePlatformFreeDesks:this.responsiblePlatformFreeDesks}})}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(Ie),a.\u0275\u0275directiveInject(Ee),a.\u0275\u0275directiveInject(xe.gq),a.\u0275\u0275directiveInject(De.uw))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["app-blocks"]],decls:68,vars:27,consts:[[1,"card"],[1,"row","m-b-32"],[1,"col-sm-2"],[1,"card-header"],[1,"list-title-style"],[1,"card-body"],[1,"mat-selection-list",3,"multiple"],["platformsList",""],["class","mat-list-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"col-sm-3"],["responsiblesList",""],["class","add-block-ico","matTooltip","Add",3,"click",4,"ngIf"],["assignedBlocksList",""],[3,"selected","click",4,"ngFor","ngForOf"],[1,"example-container"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["assignedDesksList","cdkDropList"],["class","example-box","cdkDrag","",3,"cdkDragDisabled",4,"ngFor","ngForOf"],[1,"card","m-t-20"],["freeDesksList","cdkDropList"],["blockResourcesList","cdkDropList"],["responsibleFreeSubordonatesList","cdkDropList"],[1,"mat-list-option",3,"selected","click"],["matTooltip","Add",1,"add-block-ico",3,"click"],[3,"selected","click"],["cdkDrag","",1,"example-box",3,"cdkDragDisabled"]],template:function(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275elementStart(3,"div",0),a.\u0275\u0275elementStart(4,"div",3),a.\u0275\u0275elementStart(5,"h5",4),a.\u0275\u0275text(6,"Platforms"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div",5),a.\u0275\u0275elementStart(8,"mat-selection-list",6,7),a.\u0275\u0275template(10,Ne,2,2,"mat-list-option",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div",9),a.\u0275\u0275elementStart(12,"div",0),a.\u0275\u0275elementStart(13,"div",3),a.\u0275\u0275elementStart(14,"h5",4),a.\u0275\u0275text(15,"Responsibles"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(16,"div",5),a.\u0275\u0275elementStart(17,"mat-selection-list",6,10),a.\u0275\u0275template(19,Me,2,2,"mat-list-option",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(20,"div",2),a.\u0275\u0275elementStart(21,"div",0),a.\u0275\u0275elementStart(22,"div",3),a.\u0275\u0275template(23,Le,2,0,"mat-icon",11),a.\u0275\u0275elementStart(24,"h5",4),a.\u0275\u0275text(25,"Blocks"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(26,"div",5),a.\u0275\u0275elementStart(27,"mat-selection-list",6,12),a.\u0275\u0275template(29,Be,2,2,"mat-list-option",13),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(30,"div",2),a.\u0275\u0275elementStart(31,"div",0),a.\u0275\u0275elementStart(32,"div",3),a.\u0275\u0275elementStart(33,"h5",4),a.\u0275\u0275text(34,"Block Desks"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(35,"div",5),a.\u0275\u0275elementStart(36,"div",14),a.\u0275\u0275elementStart(37,"div",15,16),a.\u0275\u0275listener("cdkDropListDropped",function(e){return t.assignDeskToBlock(e)}),a.\u0275\u0275template(39,je,2,2,"div",17),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(40,"div",18),a.\u0275\u0275elementStart(41,"div",3),a.\u0275\u0275elementStart(42,"h5",4),a.\u0275\u0275text(43,"Free Desks"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(44,"div",5),a.\u0275\u0275elementStart(45,"div",14),a.\u0275\u0275elementStart(46,"div",15,19),a.\u0275\u0275listener("cdkDropListDropped",function(e){return t.freeDeskFromBlock(e)}),a.\u0275\u0275template(48,Ve,2,2,"div",17),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(49,"div",9),a.\u0275\u0275elementStart(50,"div",0),a.\u0275\u0275elementStart(51,"div",3),a.\u0275\u0275elementStart(52,"h5",4),a.\u0275\u0275text(53,"Block Resources"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(54,"div",5),a.\u0275\u0275elementStart(55,"div",14),a.\u0275\u0275elementStart(56,"div",15,20),a.\u0275\u0275listener("cdkDropListDropped",function(e){return t.assignResourceToBlock(e)}),a.\u0275\u0275template(58,ze,2,2,"div",17),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(59,"div",18),a.\u0275\u0275elementStart(60,"div",3),a.\u0275\u0275elementStart(61,"h5",4),a.\u0275\u0275text(62,"Free Resources"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(63,"div",5),a.\u0275\u0275elementStart(64,"div",14),a.\u0275\u0275elementStart(65,"div",15,21),a.\u0275\u0275listener("cdkDropListDropped",function(e){return t.freeResourceFromBlock(e)}),a.\u0275\u0275template(67,Ge,2,2,"div",17),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){const e=a.\u0275\u0275reference(38),i=a.\u0275\u0275reference(47),n=a.\u0275\u0275reference(57),r=a.\u0275\u0275reference(66);a.\u0275\u0275advance(8),a.\u0275\u0275property("multiple",!1),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.platforms),a.\u0275\u0275advance(7),a.\u0275\u0275property("multiple",!1),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.platformBlocksResponsibles),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",t.isSuperAdmin()),a.\u0275\u0275advance(4),a.\u0275\u0275property("multiple",!1),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.assignedBlocks),a.\u0275\u0275advance(8),a.\u0275\u0275property("cdkDropListData",t.blockDesks)("cdkDropListConnectedTo",a.\u0275\u0275pureFunction1(19,Ue,i)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.blockDesks),a.\u0275\u0275advance(7),a.\u0275\u0275property("cdkDropListData",t.responsiblePlatformFreeDesks)("cdkDropListConnectedTo",a.\u0275\u0275pureFunction1(21,Ue,e)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.responsiblePlatformFreeDesks),a.\u0275\u0275advance(8),a.\u0275\u0275property("cdkDropListData",t.blockResources)("cdkDropListConnectedTo",a.\u0275\u0275pureFunction1(23,Ue,r)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.blockResources),a.\u0275\u0275advance(7),a.\u0275\u0275property("cdkDropListData",t.responsibleFreeSubordonates)("cdkDropListConnectedTo",a.\u0275\u0275pureFunction1(25,Ue,n)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.responsibleFreeSubordonates)}},directives:[Ce.Ub,n.NgForOf,n.NgIf,ge,Ce.vS,Fe.Hw,Ae.gM,be],styles:[".card-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{float:right;cursor:pointer;font-size:20px}.card-header[_ngcontent-%COMP%]   .add-block-ico[_ngcontent-%COMP%]{margin-left:15px}.card-body[_ngcontent-%COMP%]{width:100%;padding:0 20px}.list-title-style[_ngcontent-%COMP%]{margin-bottom:0;font-size:1rem;color:#333333d9;display:inline-block;vertical-align:middle;font-weight:bold}.mat-selection-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:44px;background:white;overflow:hidden;display:block;padding-top:0}.mat-list-option[_ngcontent-%COMP%]{font-size:14px;border-bottom:solid 1px #ccc;box-sizing:border-box}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{height:40px}.example-container[_ngcontent-%COMP%]{width:400px;max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top;min-height:306px}.example-list[_ngcontent-%COMP%]{border:solid 1px #ccc;background:white;border-radius:4px;overflow:hidden;display:block;overflow-y:auto;max-height:285px;min-height:44px}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;height:20px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),e})();var He=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};function Qe(e){return Reflect.metadata("type",e)}function Ze(e){return Reflect.metadata("dir",e)}function qe(e){return Reflect.metadata("persisted",e)}class We{constructor(){this.platformName="",this.desksNumber=1,this.siteId=0,this.platformPlanFileName=null,this.platformPlanFileType=null,this.platformPlanFileData=null}}He([Qe(ke.sP.Decimal),Ze(ke.Nm.InputOutput),qe(!0)],We.prototype,"platformId",void 0),He([Qe(ke.sP.NVarchar2),Ze(ke.Nm.Input),qe(!0)],We.prototype,"platformName",void 0),He([Qe(ke.sP.Decimal),Ze(ke.Nm.Input),qe(!0)],We.prototype,"desksNumber",void 0),He([Qe(ke.sP.Decimal),Ze(ke.Nm.Input),qe(!0)],We.prototype,"siteId",void 0),He([Qe(ke.sP.Varchar2),Ze(ke.Nm.Input),qe(!0)],We.prototype,"platformPlanFileName",void 0),He([Qe(ke.sP.Varchar2),Ze(ke.Nm.Input),qe(!0)],We.prototype,"platformPlanFileType",void 0),He([Qe(ke.sP.Blob),Ze(ke.Nm.Input),qe(!0)],We.prototype,"platformPlanFileData",void 0);var Ye=i(92340),Ke=i(98295),Xe=i(67441),Je=i(49983),et=i(72458);const tt=["platformDetailsForm"];function it(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-icon",32),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().addPlatform()}),a.\u0275\u0275text(1," add "),a.\u0275\u0275elementEnd()}}function nt(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-list-option",33),a.\u0275\u0275listener("click",function(){const t=a.\u0275\u0275restoreView(e).$implicit,i=a.\u0275\u0275nextContext();return i.getPlatformDetails(t.id),i.getPlatformDesks(t.id)}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,i=t.index;a.\u0275\u0275property("selected",e&&0==i),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}function rt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"mat-option",34),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;a.\u0275\u0275property("value",e.id),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}function st(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"mat-option",34),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;a.\u0275\u0275property("value",e.id),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.description," ")}}function ot(e,t){if(1&e){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-list-option",35),a.\u0275\u0275listener("click",function(){const t=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().selectDesk(t.deskId)}),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div",19),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",19),a.\u0275\u0275elementStart(5,"mat-select",36),a.\u0275\u0275listener("selectionChange",function(t){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().assignResponsibleToDesks(t.value)})("ngModelChange",function(t){return a.\u0275\u0275restoreView(e).$implicit.responsibleId=t}),a.\u0275\u0275element(6,"mat-option",34),a.\u0275\u0275template(7,st,2,2,"mat-option",16),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,i=a.\u0275\u0275nextContext();a.\u0275\u0275property("value",e.deskId),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",e.deskNumber," "),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngModel",e.responsibleId),a.\u0275\u0275advance(1),a.\u0275\u0275property("value",0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",i.responsibles)}}const at=[{path:"",data:{title:"Office Settings",function:o.FI.OfficeSettings,status:!1},canActivate:[s.a1],children:[{path:"platforms",component:(()=>{class e{constructor(e,t,i){this.platformsService=e,this.fileService=t,this.notificationService=i,this.platforms=[],this.platformDesks=[],this.responsibles=[],this.sites=[],this.fileChange=!1,this.dropdownSettings={}}ngOnInit(){this.platform=new We,this.currentUser=JSON.parse(localStorage.getItem("currentUser")),this.getPlatforms(),this.getSites(),this.getAllResponsibles(),this.dropdownSettings={singleSelection:!0,idField:"id",textField:"description",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:1,enableCheckAll:!1,allowSearchFilter:!0,maxHeight:150,placeholder:"criteria",searchPlaceholderText:"Search..."}}isSuperAdmin(){return this.currentUser.groupId===o.Fl.SuperAdmin}getPlatforms(){this.platformsService.getPlatforms().subscribe(e=>{e.length>0&&(this.platforms=e,this.getPlatformDetails(this.platforms[0].id),this.getPlatformDesks(this.platforms[0].id))})}getSites(){this.platformsService.getSites().subscribe(e=>{e.length>0&&(this.sites=e)})}getPlatformDetails(e){this.platform=new We,this.platformsService.getPlatformDetails(e).subscribe(e=>{e&&(this.platform=Object.assign(new We,e[0]))})}getPlatformDesks(e){this.platformDesks=[],this.platformsService.getPlatformDesks(e).subscribe(e=>{e.length>0&&(this.platformDesks=e)})}getAllResponsibles(){this.platformsService.getAllResponsibles().subscribe(e=>{e.length>0&&(this.responsibles=e)})}addPlatform(){this.platform=new We,this.platform.platformId=0}onFileChange(e){const t=new FileReader;if(e.target.files&&e.target.files.length>0){const i=e.target.files[0];i.size<1024*Ye.N.maxEstimateFileSize?(this.fileChange=!0,t.readAsDataURL(i),t.onload=()=>{this.platform.platformPlanFileName=i.name,this.platform.platformPlanFileType=i.type,this.platform.platformPlanFileData=this.fileService.FromFileToDbFormat(t.result.toString().split(",")[1])}):(this.platform.platformPlanFileData=null,this.notificationService.warning(`File must be lower the size of ${Ye.N.maxEstimateFileSize} Kilobytes`))}}previewFile(){const e=this.fileService.FromDbToFileFormat(this.platform.platformPlanFileData,this.platform.platformPlanFileType),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=this.platform.platformPlanFileName,i.click(),window.URL.revokeObjectURL(t)}save(){this.detailsForm.valid?this.platform.platformPlanFileName?(this.platform.platformId=this.platform.platformId?this.platform.platformId:0,this.platformsService.savePlatformDetails(this.platform).subscribe(e=>{0!==e?(this.notificationService.success("Platform saved successfully"),this.getPlatforms()):this.notificationService.danger("Platform not saved succefully!")})):this.notificationService.danger("Please select document"):this.notificationService.danger("Please fill all required fields")}cancel(){}selectDesk(e){this.deskId=e}assignResponsibleToDesks(e){this.platformsService.assignResponsibleToDesks(this.deskId,e).subscribe(e=>{e&&e>0?this.notificationService.success("Assign responsible successfully."):this.notificationService.danger("Assign responsible failed.")},()=>{this.notificationService.danger("Assign responsible failed.")})}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(Ie),a.\u0275\u0275directiveInject(xe.Ip),a.\u0275\u0275directiveInject(xe.gq))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["app-platforms"]],viewQuery:function(e,t){if(1&e&&a.\u0275\u0275viewQuery(tt,7),2&e){let e;a.\u0275\u0275queryRefresh(e=a.\u0275\u0275loadQuery())&&(t.detailsForm=e.first)}},decls:56,vars:10,consts:[[1,"card"],[1,"row","m-b-32"],[1,"col-sm-2"],[1,"card-header"],["class","add-platform-ico","matTooltip","Add",3,"click",4,"ngIf"],[1,"list-title-style"],[1,"card-body"],[1,"mat-selection-list",3,"multiple"],["platformsList",""],[3,"selected","click",4,"ngFor","ngForOf"],[1,"col-sm-5"],["id","platformDetailsForm"],["platformDetailsForm","ngForm"],[1,"row","m-b-15"],[1,"col-sm-12"],["placeholder","Sites","name","Site","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Platform Name","matInput","","name","platformName","appTextValidator","","maxlength","254","required","",3,"ngModel","ngModelChange"],["placeholder","Desks Number","matInput","","name","desksNumber","type","number","min","1","required","",3,"ngModel","ngModelChange"],[1,"col-sm-6"],["required","","placeholder","File Name","matInput","","name","File","disabled","",3,"ngModel","ngModelChange"],[1,"col-sm-3"],[1,"btn","btn-sm","btn-primary","waves-light","m-r-10","ripple","file-upload-button",2,"font-size","inherit"],["type","file","id","av","accept","application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document",3,"change"],["fileInput",""],[1,"icofont","icofont-upload-alt","mr-0","mr-md-2"],["type","button",1,"btn","btn-sm","btn-primary","waves-light","m-r-10","ripple",2,"font-size","inherit",3,"click"],[1,"icofont","icofont-eye-alt","mr-0","mr-md-2"],["type","submit",1,"btn","btn-md","btn-primary","ripple","light","m-r-20",3,"click"],[1,"btn","btn-md","btn-default","ripple",3,"click"],["platformDesksList",""],["class","mat-list-option",3,"value","click",4,"ngFor","ngForOf"],["matTooltip","Add",1,"add-platform-ico",3,"click"],[3,"selected","click"],[3,"value"],[1,"mat-list-option",3,"value","click"],[3,"ngModel","selectionChange","ngModelChange"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275elementStart(3,"div",0),a.\u0275\u0275elementStart(4,"div",3),a.\u0275\u0275template(5,it,2,0,"mat-icon",4),a.\u0275\u0275elementStart(6,"h5",5),a.\u0275\u0275text(7,"Platforms"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",6),a.\u0275\u0275elementStart(9,"mat-selection-list",7,8),a.\u0275\u0275template(11,nt,2,2,"mat-list-option",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"div",10),a.\u0275\u0275elementStart(13,"div",0),a.\u0275\u0275elementStart(14,"div",3),a.\u0275\u0275elementStart(15,"h5",5),a.\u0275\u0275text(16,"Platform details"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"div",6),a.\u0275\u0275elementStart(18,"form",11,12),a.\u0275\u0275elementStart(20,"div",13),a.\u0275\u0275elementStart(21,"mat-form-field",14),a.\u0275\u0275elementStart(22,"mat-select",15),a.\u0275\u0275listener("ngModelChange",function(e){return t.platform.siteId=e}),a.\u0275\u0275template(23,rt,2,2,"mat-option",16),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(24,"mat-form-field",14),a.\u0275\u0275elementStart(25,"input",17),a.\u0275\u0275listener("ngModelChange",function(e){return t.platform.platformName=e}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(26,"mat-form-field",14),a.\u0275\u0275elementStart(27,"input",18),a.\u0275\u0275listener("ngModelChange",function(e){return t.platform.desksNumber=e}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(28,"mat-form-field",19),a.\u0275\u0275elementStart(29,"input",20),a.\u0275\u0275listener("ngModelChange",function(e){return t.platform.platformPlanFileName=e}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(30,"div",21),a.\u0275\u0275elementStart(31,"button",22),a.\u0275\u0275elementStart(32,"input",23,24),a.\u0275\u0275listener("change",function(e){return t.onFileChange(e)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(34,"span"),a.\u0275\u0275element(35,"em",25),a.\u0275\u0275text(36,"Select"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(37,"div",21),a.\u0275\u0275elementStart(38,"button",26),a.\u0275\u0275listener("click",function(){return t.previewFile()}),a.\u0275\u0275element(39,"em",27),a.\u0275\u0275text(40,"Preview"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(41,"div",21),a.\u0275\u0275elementStart(42,"button",28),a.\u0275\u0275listener("click",function(){return t.save()}),a.\u0275\u0275text(43,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(44,"div",21),a.\u0275\u0275elementStart(45,"button",29),a.\u0275\u0275listener("click",function(){return t.cancel()}),a.\u0275\u0275text(46,"Cancel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(47,"div",10),a.\u0275\u0275elementStart(48,"div",0),a.\u0275\u0275elementStart(49,"div",3),a.\u0275\u0275elementStart(50,"h5",5),a.\u0275\u0275text(51,"Platform Desks Responsibles Assignement"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(52,"div",6),a.\u0275\u0275elementStart(53,"mat-selection-list",7,30),a.\u0275\u0275template(55,ot,8,5,"mat-list-option",31),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(5),a.\u0275\u0275property("ngIf",t.isSuperAdmin()),a.\u0275\u0275advance(4),a.\u0275\u0275property("multiple",!1),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.platforms),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngModel",t.platform.siteId),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",t.sites),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngModel",t.platform.platformName),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngModel",t.platform.desksNumber),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngModel",t.platform.platformPlanFileName),a.\u0275\u0275advance(24),a.\u0275\u0275property("multiple",!1),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.platformDesks))},directives:[n.NgIf,Ce.Ub,n.NgForOf,Re.\u0275NgNoValidate,Re.NgControlStatusGroup,Re.NgForm,Ke.KE,Xe.gD,Re.RequiredValidator,Re.NgControlStatus,Re.NgModel,Je.Nt,Re.DefaultValueAccessor,Re.MaxLengthValidator,Re.MinValidator,Re.NumberValueAccessor,Fe.Hw,Ae.gM,Ce.vS,et.ey],styles:['.card-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{float:right;cursor:pointer;font-size:20px}.card-header[_ngcontent-%COMP%]   .add-platform-ico[_ngcontent-%COMP%]{margin-left:20px}.card-header[_ngcontent-%COMP%]   .add-block-ico[_ngcontent-%COMP%]{margin-left:15px}.card-body[_ngcontent-%COMP%]{width:100%;padding:0 20px}.list-title-style[_ngcontent-%COMP%]{margin-bottom:0;font-size:1rem;color:#333333d9;display:inline-block;vertical-align:middle;font-weight:bold}.mat-selection-list[_ngcontent-%COMP%]{border:solid 1px #ccc;max-height:285px;min-height:44px;background:white;overflow:hidden;overflow-y:auto;display:block;padding-top:0}.mat-list-option[_ngcontent-%COMP%]{font-size:14px;border-bottom:solid 1px #ccc;box-sizing:border-box}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{height:40px}.file-upload-button[_ngcontent-%COMP%]{overflow:hidden;position:relative}.file-upload-button[_ngcontent-%COMP%]:after{content:"Upload";color:#fff;font-size:1.5rem;text-align:center}.file-upload-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;left:0;opacity:0;position:absolute;top:0}.file-info[_ngcontent-%COMP%]{color:#999;font-family:Arial,Helvetica,sans-serif;margin-left:.3rem}']}),e})(),data:{title:"Platforms",icon:"icon-desk",caption:"",function:o.FI.Platforms,status:!0},canActivate:[s.a1]},{path:"blocks",component:$e,data:{title:"Blocks",icon:"icon-desk",caption:"",function:o.FI.Blocks,status:!0},canActivate:[s.a1]}]}];let lt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({imports:[[r.Bz.forChild(at)],r.Bz]}),e})();var ct=i(91841),dt=i(32403);let ht=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({imports:[[n.CommonModule,Re.FormsModule,ct.HttpClientModule,et.XK,Re.ReactiveFormsModule,Pe,Ce.ie,dt.q]]}),e})();var pt=i(67827);let mt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({imports:[[n.CommonModule,Ce.ie,dt.q,Re.FormsModule,pt.ZQ.forRoot()]]}),e})(),ut=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({providers:[Ie,Ee],imports:[[n.CommonModule,lt,mt,ht]]}),e})()}}]);