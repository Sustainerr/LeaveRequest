"use strict";(self.webpackChunktelnetteam_app=self.webpackChunktelnetteam_app||[]).push([[19],{28019:function(e,t,n){n.r(t),n.d(t,{AdministrationModule:function(){return Pt},CUSTOM_DT_FORMATS:function(){return wt}});var i=n(38583),a=n(3679),r=n(72458),l=n(22238),o=n(36063),s=n(32403),c=n(91841),m=n(67827),d=n(78922),p=n(10337),h=n(37716);let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=h.\u0275\u0275defineInjector({providers:[p.gq,d.G],imports:[[i.CommonModule,s.m,a.FormsModule,a.ReactiveFormsModule,s.q,l.Is,l.Is]]}),e})();const g={parse:{dateInput:"L"},display:{dateInput:"L",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=h.\u0275\u0275defineInjector({providers:[p.xB,{provide:r.Ad,useValue:"en-EN"},{provide:r._A,useClass:o.t7,deps:[r.Ad]},{provide:r.sG,useValue:g}],imports:[[i.CommonModule,s.m,a.FormsModule,a.ReactiveFormsModule,s.q,l.Is,m.ZQ.forRoot(),c.HttpClientModule,l.Is,u]]}),e})();var f=n(88452),v=n(62028),S=n(63753),C=n(70833),E=n(99777),x=n(55750),b=n(19992),I=n(98295),M=n(49983),F=n(43220),D=n(69517),w=n(38590),P=n(39924),N=n(4885);function k(e,t){1&e&&(h.\u0275\u0275elementStart(0,"label",23),h.\u0275\u0275text(1,"Active"),h.\u0275\u0275elementEnd())}function O(e,t){1&e&&(h.\u0275\u0275elementStart(0,"label",24),h.\u0275\u0275text(1,"Quit"),h.\u0275\u0275elementEnd())}function A(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"span"),h.\u0275\u0275elementStart(1,"strong",12),h.\u0275\u0275text(2," Exit:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(3),h.\u0275\u0275pipe(4,"date"),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275nextContext();h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind2(4,1,e.employee.dateExit,"dd/MM/yyyy"),"")}}function _(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"span"),h.\u0275\u0275elementStart(1,"strong",12),h.\u0275\u0275text(2," End:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(3),h.\u0275\u0275pipe(4,"date"),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275nextContext();h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind2(4,1,e.employee.contractDateEnd,"dd/MM/yyyy"),"")}}function T(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",25),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(e),h.\u0275\u0275nextContext().activateEmployee()}),h.\u0275\u0275elementStart(1,"em",26),h.\u0275\u0275text(2,"done"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}}function z(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",27),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(e),h.\u0275\u0275nextContext().desactivateEmployee()}),h.\u0275\u0275elementStart(1,"em",28),h.\u0275\u0275text(2,"cancel"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}}let L=(()=>{class e{constructor(e,t,n,i,a){this.employeeService=e,this.searchFilterService=t,this.notificationService=n,this.activeRoute=i,this.router=a,this.subscription=new C.w0,this.refreshCard=new h.EventEmitter}ngOnInit(){this.imgUrl=this.employee.picture?"data:image/png;base64,"+this.employee.picture:"assets/images/avatar.png"}editEmployee(e){this.employeeService.previousState.next({type:"card",pageIndex:this.searchFilterService.pageIndex,pageSize:this.searchFilterService.pageSize}),this.router.navigate(["../edit/"+e],{relativeTo:this.activeRoute})}isActivateButtonVisible(){return this.employee.userQuit===E.LE.Quit}contractDateEndFilled(e){return"0001-01-01T00:00:00"!==e}activateEmployee(){this.employee.userQuit===E.LE.Quit&&this.employeeService.activateEmployee(this.employee.userId,E.LE.Active).subscribe(()=>{this.employee.userQuit=E.LE.Active,this.notificationService.success("Employee activated"),this.employeeService.previousState.next({type:"card",getPrevious:!0,pageIndex:this.searchFilterService.pageIndex,pageSize:this.searchFilterService.pageSize})})}isDesactivateButtonVisible(){return this.employee.userQuit===E.LE.Active}desactivateEmployee(){this.employee.userQuit===E.LE.Active&&this.employeeService.desactivateEmployee(this.employee.userId,E.LE.Quit).subscribe(()=>{this.employee.userQuit=E.LE.Quit,this.notificationService.success("Employee desactivated"),this.employeeService.previousState.next({type:"card",getPrevious:!0,pageIndex:this.searchFilterService.pageIndex,pageSize:this.searchFilterService.pageSize})})}}return e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275directiveInject(d.G),h.\u0275\u0275directiveInject(p.nJ),h.\u0275\u0275directiveInject(p.gq),h.\u0275\u0275directiveInject(f.gz),h.\u0275\u0275directiveInject(f.F0))},e.\u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["app-employee-card"]],inputs:{employee:"employee"},outputs:{refreshCard:"refreshCard"},decls:44,vars:16,consts:[[1,"card"],[1,"card-header"],[1,"thick",2,"display","inline"],[1,"n","f-right"],["class","label label-success",4,"ngIf"],["class","label label-danger",4,"ngIf"],[1,"card-body"],[1,"row"],[1,"col-sm-12"],[1,"table","table-border","table-xs"],[2,"padding","0px"],["scope",""],[1,"thick"],["scope","col","rowspan","3",1,"text-right"],["alt","",1,"img-50",3,"src"],["scope","col"],[4,"ngIf"],[1,"card-footer"],[1,"task-board"],["type","button",1,"btn","btn-mini","btn-primary","m-r-10","ripple","light",3,"click"],["matTooltip","Edit",1,"material-icons","icon"],["class","btn btn-mini btn-success ripple light","type","button",3,"click",4,"ngIf"],["class","btn btn-mini btn-danger m-r-10 ripple light","type","button",3,"click",4,"ngIf"],[1,"label","label-success"],[1,"label","label-danger"],["type","button",1,"btn","btn-mini","btn-success","ripple","light",3,"click"],["matTooltip","Activate",1,"material-icons","icon"],["type","button",1,"btn","btn-mini","btn-danger","m-r-10","ripple","light",3,"click"],["matTooltip","Desactivate",1,"material-icons","icon"]],template:function(e,t){1&e&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"span",2),h.\u0275\u0275text(3),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"div",3),h.\u0275\u0275elementStart(5,"div"),h.\u0275\u0275template(6,k,2,0,"label",4),h.\u0275\u0275template(7,O,2,0,"label",5),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"div",6),h.\u0275\u0275elementStart(9,"div",7),h.\u0275\u0275elementStart(10,"div",8),h.\u0275\u0275elementStart(11,"table",9),h.\u0275\u0275element(12,"caption",10),h.\u0275\u0275elementStart(13,"tbody"),h.\u0275\u0275elementStart(14,"tr",11),h.\u0275\u0275elementStart(15,"th",11),h.\u0275\u0275elementStart(16,"strong",12),h.\u0275\u0275text(17,"Activity:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(18),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(19,"th",13),h.\u0275\u0275element(20,"img",14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"tr",11),h.\u0275\u0275elementStart(22,"th",15),h.\u0275\u0275elementStart(23,"strong",12),h.\u0275\u0275text(24,"Contract:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(25),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(26,"tr",11),h.\u0275\u0275elementStart(27,"th",11),h.\u0275\u0275elementStart(28,"span"),h.\u0275\u0275elementStart(29,"strong",12),h.\u0275\u0275text(30,"Entry:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(31),h.\u0275\u0275pipe(32,"date"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(33,A,5,4,"span",16),h.\u0275\u0275template(34,_,5,4,"span",16),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(35,"tr",11),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(36,"div",17),h.\u0275\u0275elementStart(37,"div",18),h.\u0275\u0275elementStart(38,"button",19),h.\u0275\u0275listener("click",function(){return t.editEmployee(t.employee.userId)}),h.\u0275\u0275elementStart(39,"em",20),h.\u0275\u0275text(40,"edit"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(41,T,3,0,"button",21),h.\u0275\u0275template(42,z,3,0,"button",22),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(43,"br")),2&e&&(h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate3(" ",t.employee.userNumber," - ",t.employee.firstName," ",t.employee.lastName,""),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngIf",0===t.employee.userQuit),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",1===t.employee.userQuit),h.\u0275\u0275advance(11),h.\u0275\u0275textInterpolate1(" ",t.employee.activityName,""),h.\u0275\u0275advance(2),h.\u0275\u0275property("src",t.imgUrl,h.\u0275\u0275sanitizeUrl),h.\u0275\u0275advance(5),h.\u0275\u0275textInterpolate1(" ",t.employee.contractName,""),h.\u0275\u0275advance(6),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind2(32,13,t.employee.dateEntry,"dd/MM/yyyy"),""),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",1===t.employee.userQuit),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",1!==t.employee.userQuit&&t.contractDateEndFilled(t.employee.contractDateEnd)),h.\u0275\u0275advance(7),h.\u0275\u0275property("ngIf",t.isActivateButtonVisible()),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",t.isDesactivateButtonVisible()))},directives:[i.NgIf,w.gM],pipes:[i.DatePipe],styles:[".thick[_ngcontent-%COMP%]{font-weight:900}.text[_ngcontent-%COMP%]{font-size:14px}.icon[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{padding:13px;border-bottom:1px solid rgba(0,0,0,.125)}.label-danger[_ngcontent-%COMP%]{background:#dc143c;font-size:12px;color:#fff;font-weight:bold}.label-success[_ngcontent-%COMP%]{background:#33cc99;font-size:12px;color:#fff;font-weight:bold}.label-info[_ngcontent-%COMP%]{background:#00bcd4;font-size:12px;color:#fff;font-weight:bold}.label-pink[_ngcontent-%COMP%]{background:#e83e8c;font-size:12px;color:#fff;font-weight:bold}.card-body[_ngcontent-%COMP%]{padding-bottom:5px}.card-footer[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0px}.table.table-xs[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table.table-xs[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.task-board[_ngcontent-%COMP%]{margin-top:0}"]}),e})();var V=n(32789),q=n(11494);function B(e,t){1&e&&h.\u0275\u0275element(0,"mat-header-cell",21)}function R(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-cell"),h.\u0275\u0275element(1,"img",22),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275property("src",n.getImgUrl(e.picture),h.\u0275\u0275sanitizeUrl)}}function j(e,t){1&e&&(h.\u0275\u0275elementStart(0,"mat-header-cell",21),h.\u0275\u0275text(1,"Activity"),h.\u0275\u0275elementEnd())}function Q(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-cell"),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.activityName," ")}}function H(e,t){1&e&&(h.\u0275\u0275elementStart(0,"mat-header-cell",21),h.\u0275\u0275text(1,"Number"),h.\u0275\u0275elementEnd())}function G(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-cell"),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.userNumber," ")}}function $(e,t){1&e&&(h.\u0275\u0275elementStart(0,"mat-header-cell",21),h.\u0275\u0275text(1,"Name"),h.\u0275\u0275elementEnd())}function Y(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-cell"),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate2(" ",e.firstName," ",e.lastName," ")}}function U(e,t){1&e&&(h.\u0275\u0275elementStart(0,"mat-header-cell",21),h.\u0275\u0275text(1,"Contract"),h.\u0275\u0275elementEnd())}function W(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-cell"),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.contractName," ")}}function K(e,t){1&e&&(h.\u0275\u0275elementStart(0,"mat-header-cell",21),h.\u0275\u0275text(1,"Entry"),h.\u0275\u0275elementEnd())}function J(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-cell"),h.\u0275\u0275text(1),h.\u0275\u0275pipe(2,"date"),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind2(2,1,e.dateEntry,"dd/MM/yyyy")," ")}}function Z(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-header-cell",23),h.\u0275\u0275text(1,"Contract End"),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275nextContext(2);h.\u0275\u0275property("hidden",0!==e.selectedStatus)}}function X(e,t){1&e&&h.\u0275\u0275element(0,"label")}function ee(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"label"),h.\u0275\u0275text(1),h.\u0275\u0275pipe(2,"date"),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275nextContext().$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind2(2,1,e.contractDateEnd,"dd/MM/yyyy"))}}function te(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-cell",24),h.\u0275\u0275template(1,X,1,0,"label",25),h.\u0275\u0275template(2,ee,3,4,"label",25),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=h.\u0275\u0275nextContext(2);h.\u0275\u0275property("hidden",0!==n.selectedStatus),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf","0001-01-01T00:00:00"===e.contractDateEnd),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf","0001-01-01T00:00:00"!==e.contractDateEnd)}}function ne(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-header-cell",23),h.\u0275\u0275text(1,"Exit"),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275nextContext(2);h.\u0275\u0275property("hidden",0===e.selectedStatus)}}function ie(e,t){1&e&&h.\u0275\u0275element(0,"label")}function ae(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"label"),h.\u0275\u0275text(1),h.\u0275\u0275pipe(2,"date"),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275nextContext().$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind2(2,1,e.dateExit,"dd/MM/yyyy"))}}function re(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-cell",24),h.\u0275\u0275template(1,ie,1,0,"label",25),h.\u0275\u0275template(2,ae,3,4,"label",25),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=h.\u0275\u0275nextContext(2);h.\u0275\u0275property("hidden",0===n.selectedStatus),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf","0001-01-01T00:00:00"===e.dateExit),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf","0001-01-01T00:00:00"!==e.dateExit)}}function le(e,t){1&e&&(h.\u0275\u0275elementStart(0,"mat-header-cell",21),h.\u0275\u0275text(1,"Status"),h.\u0275\u0275elementEnd())}function oe(e,t){1&e&&(h.\u0275\u0275elementStart(0,"label",28),h.\u0275\u0275text(1,"Active"),h.\u0275\u0275elementEnd())}function se(e,t){1&e&&(h.\u0275\u0275elementStart(0,"label",29),h.\u0275\u0275text(1,"Quit"),h.\u0275\u0275elementEnd())}function ce(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-cell"),h.\u0275\u0275template(1,oe,2,0,"label",26),h.\u0275\u0275template(2,se,2,0,"label",27),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",0===e.userQuit),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",1===e.userQuit)}}function me(e,t){1&e&&h.\u0275\u0275element(0,"mat-header-cell")}function de(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",34),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(e);const t=h.\u0275\u0275nextContext().$implicit;return h.\u0275\u0275nextContext(2).activateEmployee(t)}),h.\u0275\u0275elementStart(1,"em",35),h.\u0275\u0275text(2,"done"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}}function pe(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",36),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(e);const t=h.\u0275\u0275nextContext().$implicit;return h.\u0275\u0275nextContext(2).desactivateEmployee(t)}),h.\u0275\u0275elementStart(1,"em",37),h.\u0275\u0275text(2,"cancel"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}}function he(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"mat-cell"),h.\u0275\u0275elementStart(1,"button",30),h.\u0275\u0275listener("click",function(){const t=h.\u0275\u0275restoreView(e).$implicit;return h.\u0275\u0275nextContext(2).editEmployee(t.userId)}),h.\u0275\u0275elementStart(2,"em",31),h.\u0275\u0275text(3,"edit"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(4,de,3,0,"button",32),h.\u0275\u0275template(5,pe,3,0,"button",33),h.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;h.\u0275\u0275advance(4),h.\u0275\u0275property("ngIf",1===e.userQuit),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",0===e.userQuit)}}function ue(e,t){1&e&&h.\u0275\u0275element(0,"mat-header-row",38)}function ge(e,t){1&e&&h.\u0275\u0275element(0,"mat-row")}function ye(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",1),h.\u0275\u0275elementStart(1,"mat-table",2,3),h.\u0275\u0275listener("matSortChange",function(t){return h.\u0275\u0275restoreView(e),h.\u0275\u0275nextContext().onSortData(t)}),h.\u0275\u0275elementContainerStart(3,4),h.\u0275\u0275template(4,B,1,0,"mat-header-cell",5),h.\u0275\u0275template(5,R,2,1,"mat-cell",6),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(6,7),h.\u0275\u0275template(7,j,2,0,"mat-header-cell",5),h.\u0275\u0275template(8,Q,2,1,"mat-cell",6),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(9,8),h.\u0275\u0275template(10,H,2,0,"mat-header-cell",5),h.\u0275\u0275template(11,G,2,1,"mat-cell",6),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(12,9),h.\u0275\u0275template(13,$,2,0,"mat-header-cell",5),h.\u0275\u0275template(14,Y,2,2,"mat-cell",6),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(15,10),h.\u0275\u0275template(16,U,2,0,"mat-header-cell",5),h.\u0275\u0275template(17,W,2,1,"mat-cell",6),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(18,11),h.\u0275\u0275template(19,K,2,0,"mat-header-cell",5),h.\u0275\u0275template(20,J,3,4,"mat-cell",6),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(21,12),h.\u0275\u0275template(22,Z,2,1,"mat-header-cell",13),h.\u0275\u0275template(23,te,3,3,"mat-cell",14),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(24,15),h.\u0275\u0275template(25,ne,2,1,"mat-header-cell",13),h.\u0275\u0275template(26,re,3,3,"mat-cell",14),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(27,16),h.\u0275\u0275template(28,le,2,0,"mat-header-cell",5),h.\u0275\u0275template(29,ce,3,2,"mat-cell",6),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(30,17),h.\u0275\u0275template(31,me,1,0,"mat-header-cell",18),h.\u0275\u0275template(32,he,6,2,"mat-cell",6),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275template(33,ue,1,0,"mat-header-row",19),h.\u0275\u0275template(34,ge,1,0,"mat-row",20),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&e){const e=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("dataSource",e.dataSource),h.\u0275\u0275advance(32),h.\u0275\u0275property("matHeaderRowDef",e.displayedColumns),h.\u0275\u0275advance(1),h.\u0275\u0275property("matRowDefColumns",e.displayedColumns)}}let fe=(()=>{class e{constructor(e,t,n,i,a){this.employeeService=e,this.searchFilterService=t,this.notificationService=n,this.activeRoute=i,this.router=a,this.subscription=new C.w0,this.displayedColumns=["picture","number","name","activity","contractType","entry","contractEnd","exit","status","buttons"],this.dataSource=new V.by,this.refreshTable=new h.EventEmitter}ngOnInit(){this.dataSource=new V.by(this.employees),this.subscription=this.searchFilterService.resultChanged.subscribe(()=>{this.dataSource=new V.by(this.searchFilterService.showingDataLastFilter)})}ngOnDestroy(){this.subscription.unsubscribe()}getImgUrl(e){return e?"data:image/png;base64,"+e:"assets/images/avatar.png"}editEmployee(e){this.employeeService.previousState.next({type:"table",pageIndex:this.searchFilterService.pageIndex,pageSize:this.searchFilterService.pageSize}),this.router.navigate(["../edit/"+e],{relativeTo:this.activeRoute})}onSortData(e){this.employeeService.sortEmployees.next(e)}activateEmployee(e){e.userQuit===E.LE.Quit&&this.employeeService.activateEmployee(e.userId,E.LE.Active).subscribe(()=>{e.userQuit=E.LE.Active,this.notificationService.success("This account has been activated"),this.employeeService.previousState.next({type:"table",getPrevious:!0,pageIndex:this.searchFilterService.pageIndex,pageSize:this.searchFilterService.pageSize})})}desactivateEmployee(e){e.userQuit===E.LE.Active&&this.employeeService.desactivateEmployee(e.userId,E.LE.Quit).subscribe(()=>{e.userQuit=E.LE.Quit,this.notificationService.success("This account has been blocked"),this.employeeService.previousState.next({type:"table",getPrevious:!0,pageIndex:this.searchFilterService.pageIndex,pageSize:this.searchFilterService.pageSize})})}}return e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275directiveInject(d.G),h.\u0275\u0275directiveInject(p.nJ),h.\u0275\u0275directiveInject(p.gq),h.\u0275\u0275directiveInject(f.gz),h.\u0275\u0275directiveInject(f.F0))},e.\u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["app-employees-table"]],inputs:{employees:"employees",selectedStatus:"selectedStatus"},outputs:{refreshTable:"refreshTable"},decls:1,vars:1,consts:[["class","example-container mat-elevation-z8",4,"ngIf"],[1,"example-container","mat-elevation-z8"],["matSort","","matSortDirection","asc","matSortDisableClear","",3,"dataSource","matSortChange"],["table",""],["matColumnDef","picture"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","activity"],["matColumnDef","number"],["matColumnDef","name"],["matColumnDef","contractType"],["matColumnDef","entry"],["matColumnDef","contractEnd"],["mat-sort-header","",3,"hidden",4,"matHeaderCellDef"],[3,"hidden",4,"matCellDef"],["matColumnDef","exit"],["matColumnDef","status"],["matColumnDef","buttons"],[4,"matHeaderCellDef"],["class"," table-primary table-*",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["alt","",1,"img-20",3,"src"],["mat-sort-header","",3,"hidden"],[3,"hidden"],[4,"ngIf"],["class","label label-success",4,"ngIf"],["class","label label-danger",4,"ngIf"],[1,"label","label-success"],[1,"label","label-danger"],["type","button",1,"btn","btn-mini","btn-primary","m-r-10","ripple","light",3,"click"],["matTooltip","Edit",1,"material-icons"],["class","btn btn-mini btn-success ripple light","type","button",3,"click",4,"ngIf"],["class","btn btn-mini btn-danger ripple light","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-mini","btn-success","ripple","light",3,"click"],["matTooltip","Activate",1,"material-icons"],["type","button",1,"btn","btn-mini","btn-danger","ripple","light",3,"click"],["matTooltip","Desactivate",1,"material-icons"],[1,"table-primary","table-*"]],template:function(e,t){1&e&&h.\u0275\u0275template(0,ye,35,3,"div",0),2&e&&h.\u0275\u0275property("ngIf",void 0!==t.employees&&0!==t.employees.length)},directives:[i.NgIf,V.BZ,q.YE,V.w1,V.fO,V.Dz,V.as,V.nj,V.ge,q.nU,V.ev,w.gM,V.XQ,V.Gk],pipes:[i.DatePipe],styles:[".mat-table[_ngcontent-%COMP%]{overflow:auto;border-radius:4px;max-height:calc(100vh - 392px)}.mat-header-cell[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:600}.span-ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.material-icons[_ngcontent-%COMP%]{font-size:15px}table[_ngcontent-%COMP%]{width:100%}.mat-column-picture[_ngcontent-%COMP%]{flex:0 0 4%!important;width:4%!important}.mat-column-number[_ngcontent-%COMP%]{flex:0 0 8%!important;width:8%!important}.mat-column-name[_ngcontent-%COMP%]{flex:0 0 20%!important;width:20%!important}.mat-column-entry[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-exit[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-contractEnd[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-status[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mat-column-buttons[_ngcontent-%COMP%]{flex:0 0 100px;text-align:center;justify-content:center}  .mat-sort-header-arrow{color:#fff}"]}),e})();var ve=n(34239);function Se(e,t){1&e&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275elementStart(1,"h1"),h.\u0275\u0275text(2,"No Result Found"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function Ce(e,t){1&e&&(h.\u0275\u0275elementStart(0,"div",44),h.\u0275\u0275elementStart(1,"div",45),h.\u0275\u0275elementStart(2,"div",46),h.\u0275\u0275elementStart(3,"div",1),h.\u0275\u0275elementStart(4,"div",47),h.\u0275\u0275element(5,"mat-spinner"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function Ee(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"div",50),h.\u0275\u0275element(1,"app-employee-card",51),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275property("employee",e)}}function xe(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"div",48),h.\u0275\u0275template(1,Ee,2,1,"div",49),h.\u0275\u0275pipe(2,"paginator"),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275nextContext();h.\u0275\u0275classProp("blurred",e.isLoading),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind3(2,3,e.employees,e.searchFilterService.pageIndex,e.searchFilterService.pageSize))}}function be(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"div",52),h.\u0275\u0275element(1,"app-employees-table",53),h.\u0275\u0275pipe(2,"paginator"),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275nextContext();h.\u0275\u0275classProp("blurred",e.isLoading),h.\u0275\u0275advance(1),h.\u0275\u0275property("employees",h.\u0275\u0275pipeBind3(2,4,e.employees,e.searchFilterService.pageIndex,e.searchFilterService.pageSize))("selectedStatus",e.selectedStatus)}}let Ie=(()=>{class e{constructor(e,t,n,i,a){this.employeeService=e,this.searchFilterService=t,this.sortService=n,this.excelService=i,this.router=a,this.name="",this.selectedStatusIndex=0,this.selectedStatus=0,this.statusesIdentifiers=[{id:E.LE.Active,description:"Active"},{id:E.LE.Quit,description:"Quit"}],this.selectedStatusesIdentifiers=[],this.contractTypesIdentifiers=[],this.selectedContractTypesIdentifiers=[],this.activitiesIdentifiers=[],this.selectedActivitiesIdentifiers=[],this.singleSelectDropdownSettings={},this.multiSelectDropdownSettings={},this.paginatorPipe=new x.Ry(this.searchFilterService),this.listView=!1,this.employees=[],this.subscription=new C.w0}ngOnInit(){this.searchFilterService.pageIndex=0,this.searchFilterService.pageSize=24,this.singleSelectDropdownSettings={singleSelection:!0,idField:"id",textField:"description",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:1,enableCheckAll:!1,allowSearchFilter:!1,maxHeight:150,placeholder:"criteria",searchPlaceholderText:"Search..."},this.multiSelectDropdownSettings={singleSelection:!1,idField:"id",textField:"description",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:1,enableCheckAll:!0,allowSearchFilter:!0,maxHeight:150,placeholder:"criteria",searchPlaceholderText:"Search..."},this.getContractTypes(),this.getActivities(),this.updateEmployeesPictures(),this.setSearchFilter(),this.selectedStatusIndex=this.selectedStatusesIdentifiers[0].id,this.subscription.add(this.employeeService.sortEmployees.subscribe(e=>{this.onSortData(e)})),this.subscription.add(this.employeeService.previousState.subscribe(e=>{e&&e.getPrevious&&(this.searchButton(),this.searchFilterService.pageSize=e.pageSize,this.searchFilterService.pageIndex=e.pageIndex,this.listView="card"!==e.type,this.employeeService.previousState.next())}))}ngOnDestroy(){this.subscription.unsubscribe(),this.searchFilterService.showingDataLastFilter=[]}updateEmployeesPictures(){this.employeeService.updateEmployeesPictures().subscribe(e=>{e&&this.searchButton()})}getContractTypes(){this.employeeService.getContractTypes().subscribe(e=>{null!=e&&(this.contractTypesIdentifiers=e)})}getActivities(){this.employeeService.getActivities().subscribe(e=>{this.activitiesIdentifiers=e})}setSearchFilter(){const e=JSON.parse(sessionStorage.getItem("employeeSearch"));e?(this.entryPeriodFrom=e.entryPeriodFrom,this.entryPeriodTo=e.entryPeriodTo,this.exitPeriodFrom=e.exitPeriodFrom,this.exitPeriodTo=e.exitPeriodTo,this.contractPeriodFrom=e.contractPeriodFrom,this.contractPeriodTo=e.contractPeriodTo,this.selectedStatusesIdentifiers=e.selectedStatusesIdentifiers,this.selectedActivitiesIdentifiers=e.selectedActivitiesIdentifiers,this.selectedContractTypesIdentifiers=e.selectedContractTypesIdentifiers,this.name=e.name):this.selectedStatusesIdentifiers.push(this.statusesIdentifiers[0])}onResetAllFilters(){sessionStorage.removeItem("employeeSearch"),this.entryPeriodFrom=this.entryPeriodTo=void 0,this.exitPeriodFrom=this.exitPeriodTo=void 0,this.contractPeriodFrom=this.contractPeriodTo=void 0,this.name="",this.selectedActivitiesIdentifiers=[],this.selectedContractTypesIdentifiers=[],this.selectedStatusIndex=0}searchButton(){this.isLoading=!0,this.employees=[],this.searchFilterService.pageIndex=0,this.selectedStatus=this.selectedStatusIndex;const e=new E.tB;e.name=this.name,e.selectedStatusesIdentifiers=this.selectedStatusesIdentifiers,e.selectedContractTypesIdentifiers=this.selectedContractTypesIdentifiers,e.selectedActivitiesIdentifiers=this.selectedActivitiesIdentifiers,e.entryPeriodFrom=this.entryPeriodFrom,e.entryPeriodTo=this.entryPeriodTo,e.exitPeriodFrom=this.exitPeriodFrom,e.exitPeriodTo=this.exitPeriodTo,e.contractPeriodFrom=this.contractPeriodFrom,e.contractPeriodTo=this.contractPeriodTo,sessionStorage.setItem("employeeSearch",JSON.stringify(e)),this.employeeService.getEmployees(e).subscribe(e=>{null!=e&&(this.employees=e,this.lengthEmployees=this.employees.length,this.isLoading=!1)})}onCardViewMode(){this.listView=!1}onTableViewMode(){this.listView=!0}onSortData(e){e.active&&""!==e.direction&&void 0!==this.employees&&this.employees.sort((t,n)=>{const i="asc"===e.direction;switch(e.active){case"number":return this.sortService.compare(t.userNumber,n.userNumber,i,!1);case"name":return this.sortService.compare(t.firstName+t.lastName,n.firstName+n.lastName,i,!1);case"entry":return this.sortService.compare(t.dateEntry,n.dateEntry,i,!1);case"contractType":return this.sortService.compare(t.contractName,n.contractName,i,!1);case"contractEnd":return this.sortService.compare(t.contractDateEnd,n.contractDateEnd,i,!1);case"activity":return this.sortService.compare(t.activityName,n.activityName,i,!1);case"exit":return this.sortService.compare(t.dateExit,n.dateExit,i,!1);case"status":return this.sortService.compare(t.userQuit,n.userQuit,i,!0);default:return 0}}),this.paginatorPipe.transform(this.employees,this.searchFilterService.pageIndex,this.searchFilterService.pageSize)}addEmployee(){0!==this.employees.length&&this.employeeService.previousState.next({type:this.listView?"table":"card",pageIndex:this.searchFilterService.pageIndex,pageSize:this.searchFilterService.pageSize}),this.router.navigate(["human-resources/administration/add"])}exportToExcel(){if(void 0!==this.employees&&0!==this.employees.length){const e=[{header:"Matricule",key:"userNumber"},{header:"First Name",key:"firstName"},{header:"Last Name",key:"lastName"},{header:"Phone",key:"phone1"},{header:"Date Entry",key:"dateEntry"},{header:"Date Exit",key:"dateExit"}],t=[],n=[],i=[];this.employees.forEach(e=>{const n=[];n.push(e.userNumber),n.push(e.firstName),n.push(e.lastName),n.push(e.phone1),n.push(e.dateEntry),n.push(e.dateExit),t.push(n)}),this.excelService.generateExcel(e,t,n,i,"employees")}}onStatusSelect(e){this.selectedStatusIndex=e.id}onStatusDeSelect(e){this.selectedStatusesIdentifiers=this.statusesIdentifiers.filter(t=>t.id===e.id)}}return e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275directiveInject(d.G),h.\u0275\u0275directiveInject(p.nJ),h.\u0275\u0275directiveInject(p.Kx),h.\u0275\u0275directiveInject(p.xB),h.\u0275\u0275directiveInject(f.F0))},e.\u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["app-employees"]],decls:94,vars:43,consts:[[1,"page-body"],[1,"row"],[1,"col-xl-12","col-lg-12","filter-bar"],[1,"card","m-b-10"],[1,"card-body","p-t-10"],[1,"col-xl-4","col-lg-12"],[1,"mat-subheader","col-sm-2"],[1,"date-field","col-sm-5"],["matInput","","placeholder","From",3,"matDatepicker","max","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker11",""],["matInput","","placeholder","To",3,"matDatepicker","min","ngModel","ngModelChange"],["picker22",""],[3,"hidden"],["picker10",""],["picker20",""],["picker12",""],["picker21",""],[1,"multi-search","col-sm-10",3,"settings","data","ngModel","ngModelChange"],[1,"search-input","col-sm-10"],["placeholder","Search here...","matInput","","name","searchInput",3,"ngModel","ngModelChange"],[1,"col-xl-3","col-lg-12"],[1,"multi-search","col-sm-10",3,"settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],[1,"col-xl-1","col-lg-12"],[1,"text-center"],[1,"btn","btn-md","btn-primary","ripple","m-t-5",3,"click"],[1,"btn","btn-md","btn-default","ripple","light","m-t-10",3,"click"],[1,"navbar","navbar-light","bg-faded","m-b-10","p-10"],[1,"nav-item","nav-grid","col-sm-4"],["type","button","data-toggle","tooltip","data-placement","top","matTooltip","Card View",1,"btn","btn-sm","btn-primary","waves-light","m-r-10","ripple",2,"font-size","inherit",3,"click"],[1,"icofont","icofont-listine-dots"],["data-toggle","tooltip","data-placement","top","matTooltip","Table View",1,"btn","btn-sm","btn-primary","m-r-10","ripple","light",2,"font-size","inherit",3,"click"],[1,"icofont","icofont-table"],["type","button",1,"btn","btn-sm","btn-primary","m-r-10","waves-light","ripple",2,"font-size","inherit",3,"click"],[1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-sm","btn-primary","waves-light","ripple",2,"font-size","inherit",3,"click"],[1,"icofont","icofont-plus"],[1,"col-sm-8"],[3,"length","pageSize","pageIndex"],[4,"ngIf"],[1,"wrapper"],["class","overlay",4,"ngIf"],["class","row div-scrollable loaded-content",3,"blurred",4,"ngIf"],["class","loaded-content",3,"blurred",4,"ngIf"],[1,"overlay"],[1,"spinner-wrapper"],[1,"container"],["id","loader"],[1,"row","div-scrollable","loaded-content"],["class","col-sm-4 p-r-0",4,"ngFor","ngForOf"],[1,"col-sm-4","p-r-0"],[3,"employee"],[1,"loaded-content"],[3,"employees","selectedStatus"]],template:function(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"div",4),h.\u0275\u0275elementStart(5,"div",1),h.\u0275\u0275elementStart(6,"div",5),h.\u0275\u0275elementStart(7,"mat-list"),h.\u0275\u0275elementStart(8,"mat-list-item"),h.\u0275\u0275elementStart(9,"h3",6),h.\u0275\u0275text(10,"Entry"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"mat-form-field",7),h.\u0275\u0275elementStart(12,"input",8),h.\u0275\u0275listener("ngModelChange",function(e){return t.entryPeriodFrom=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(13,"mat-datepicker-toggle",9),h.\u0275\u0275element(14,"mat-datepicker",null,10),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"mat-form-field",7),h.\u0275\u0275elementStart(17,"input",11),h.\u0275\u0275listener("ngModelChange",function(e){return t.entryPeriodTo=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(18,"mat-datepicker-toggle",9),h.\u0275\u0275element(19,"mat-datepicker",null,12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"mat-list-item",13),h.\u0275\u0275elementStart(22,"h3",6),h.\u0275\u0275text(23,"Exit"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"mat-form-field",7),h.\u0275\u0275elementStart(25,"input",8),h.\u0275\u0275listener("ngModelChange",function(e){return t.exitPeriodFrom=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(26,"mat-datepicker-toggle",9),h.\u0275\u0275element(27,"mat-datepicker",null,14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(29,"mat-form-field",7),h.\u0275\u0275elementStart(30,"input",11),h.\u0275\u0275listener("ngModelChange",function(e){return t.exitPeriodTo=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(31,"mat-datepicker-toggle",9),h.\u0275\u0275element(32,"mat-datepicker",null,15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(34,"mat-list-item",13),h.\u0275\u0275elementStart(35,"h3",6),h.\u0275\u0275text(36,"Cntr. End"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"mat-form-field",7),h.\u0275\u0275elementStart(38,"input",8),h.\u0275\u0275listener("ngModelChange",function(e){return t.contractPeriodFrom=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(39,"mat-datepicker-toggle",9),h.\u0275\u0275element(40,"mat-datepicker",null,16),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(42,"mat-form-field",7),h.\u0275\u0275elementStart(43,"input",11),h.\u0275\u0275listener("ngModelChange",function(e){return t.contractPeriodTo=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(44,"mat-datepicker-toggle",9),h.\u0275\u0275element(45,"mat-datepicker",null,17),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(47,"div",5),h.\u0275\u0275elementStart(48,"mat-list"),h.\u0275\u0275elementStart(49,"mat-list-item"),h.\u0275\u0275elementStart(50,"h3",6),h.\u0275\u0275text(51,"Activity"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(52,"ng-multiselect-dropdown",18),h.\u0275\u0275listener("ngModelChange",function(e){return t.selectedActivitiesIdentifiers=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(53,"mat-list-item"),h.\u0275\u0275elementStart(54,"h3",6),h.\u0275\u0275text(55,"Name"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(56,"mat-form-field",19),h.\u0275\u0275elementStart(57,"input",20),h.\u0275\u0275listener("ngModelChange",function(e){return t.name=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(58,"div",21),h.\u0275\u0275elementStart(59,"mat-list"),h.\u0275\u0275elementStart(60,"mat-list-item"),h.\u0275\u0275elementStart(61,"h3",6),h.\u0275\u0275text(62,"Status"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(63,"ng-multiselect-dropdown",22),h.\u0275\u0275listener("ngModelChange",function(e){return t.selectedStatusesIdentifiers=e})("onSelect",function(e){return t.onStatusSelect(e)})("onDeSelect",function(e){return t.onStatusDeSelect(e)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(64,"mat-list-item"),h.\u0275\u0275elementStart(65,"h3",6),h.\u0275\u0275text(66,"Contract"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(67,"ng-multiselect-dropdown",18),h.\u0275\u0275listener("ngModelChange",function(e){return t.selectedContractTypesIdentifiers=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(68,"div",23),h.\u0275\u0275elementStart(69,"div",24),h.\u0275\u0275elementStart(70,"button",25),h.\u0275\u0275listener("click",function(){return t.searchButton()}),h.\u0275\u0275text(71,"Search"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(72,"div",24),h.\u0275\u0275elementStart(73,"button",26),h.\u0275\u0275listener("click",function(){return t.onResetAllFilters()}),h.\u0275\u0275text(74,"Reset"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(75,"nav",27),h.\u0275\u0275elementStart(76,"div",28),h.\u0275\u0275elementStart(77,"button",29),h.\u0275\u0275listener("click",function(){return t.onCardViewMode()}),h.\u0275\u0275element(78,"em",30),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(79,"button",31),h.\u0275\u0275listener("click",function(){return t.onTableViewMode()}),h.\u0275\u0275element(80,"em",32),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(81,"button",33),h.\u0275\u0275listener("click",function(){return t.exportToExcel()}),h.\u0275\u0275element(82,"em",34),h.\u0275\u0275text(83," Export "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(84,"button",35),h.\u0275\u0275listener("click",function(){return t.addEmployee()}),h.\u0275\u0275element(85,"em",36),h.\u0275\u0275text(86," Employee "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(87,"div",37),h.\u0275\u0275element(88,"app-paginator",38),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(89,Se,3,0,"div",39),h.\u0275\u0275elementStart(90,"div",40),h.\u0275\u0275template(91,Ce,6,0,"div",41),h.\u0275\u0275template(92,xe,3,7,"div",42),h.\u0275\u0275template(93,be,3,8,"div",43),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275reference(15),n=h.\u0275\u0275reference(20),i=h.\u0275\u0275reference(28),a=h.\u0275\u0275reference(33),r=h.\u0275\u0275reference(41),l=h.\u0275\u0275reference(46);h.\u0275\u0275advance(12),h.\u0275\u0275property("matDatepicker",e)("max",t.entryPeriodTo)("ngModel",t.entryPeriodFrom),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",e),h.\u0275\u0275advance(4),h.\u0275\u0275property("matDatepicker",n)("min",t.entryPeriodFrom)("ngModel",t.entryPeriodTo),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",n),h.\u0275\u0275advance(3),h.\u0275\u0275property("hidden",0===t.selectedStatusIndex),h.\u0275\u0275advance(4),h.\u0275\u0275property("matDatepicker",i)("max",t.exitPeriodTo)("ngModel",t.exitPeriodFrom),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",i),h.\u0275\u0275advance(4),h.\u0275\u0275property("matDatepicker",a)("min",t.exitPeriodFrom)("ngModel",t.exitPeriodTo),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",a),h.\u0275\u0275advance(3),h.\u0275\u0275property("hidden",0!==t.selectedStatusIndex),h.\u0275\u0275advance(4),h.\u0275\u0275property("matDatepicker",r)("max",t.contractPeriodTo)("ngModel",t.contractPeriodFrom),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",r),h.\u0275\u0275advance(4),h.\u0275\u0275property("matDatepicker",l)("min",t.contractPeriodFrom)("ngModel",t.contractPeriodTo),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",l),h.\u0275\u0275advance(8),h.\u0275\u0275property("settings",t.multiSelectDropdownSettings)("data",t.activitiesIdentifiers)("ngModel",t.selectedActivitiesIdentifiers),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",t.name),h.\u0275\u0275advance(6),h.\u0275\u0275property("settings",t.singleSelectDropdownSettings)("data",t.statusesIdentifiers)("ngModel",t.selectedStatusesIdentifiers),h.\u0275\u0275advance(4),h.\u0275\u0275property("settings",t.multiSelectDropdownSettings)("data",t.contractTypesIdentifiers)("ngModel",t.selectedContractTypesIdentifiers),h.\u0275\u0275advance(21),h.\u0275\u0275property("length",t.lengthEmployees)("pageSize",t.searchFilterService.pageSize)("pageIndex",t.searchFilterService.pageIndex),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",0===t.lengthEmployees),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",t.isLoading),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",!t.listView),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",t.listView)}},directives:[b.i$,b.Tg,I.KE,M.Nt,F.hl,a.DefaultValueAccessor,a.NgControlStatus,a.NgModel,F.nW,I.R9,F.Mq,m.OP,D.M2,w.gM,P.J,i.NgIf,N.$g,i.NgForOf,L,fe],pipes:[ve.R],styles:[".search-input{font-size:14px}.date-field{font-size:14px}.multi-search{width:100%}.mat-list .mat-divider{margin-top:15px}.mat-list .mat-subheader{height:40px;padding:0 5px;font-size:15px;font-weight:bolder}.mat-list-header{height:40px;padding:0 5px;font-size:15px;font-weight:bolder}.div-scrollable{overflow-y:auto;margin-right:0;max-height:calc(100vh - 392px)}.wrapper{width:100%;height:100%}.overlay{position:absolute;z-index:1002;background-color:#ffffff80;width:100%;height:100%}.spinner-wrapper{display:flex;justify-content:center;justify-items:center}#loader{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}\n"],encapsulation:2}),e})();var Me=n(46782),Fe=n(67441);const De=["employeeContractForm"];function we(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",26),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}let Pe=(()=>{class e{constructor(e,t,n,i){this.dialogRef=e,this.employeeService=t,this.notificationService=n,this.data=i,this.subscription=new C.w0,this.previousState={getPrevious:!1,type:null,pageIndex:null,pageSize:null},this.employeeContract=new E.Et,this.contractTypesIdentifiers=[],this.contractStartDate=new Date,this.contractEndDate=new Date,this.userId=this.data.userId,this.employeeFullName=this.data.employeeFullName,this.currentContractId=this.data.currentContractId}ngOnInit(){this.selectedContractId=this.currentContractId,this.getEmployeeContract(this.userId)}getEmployeeContract(e){this.employeeContract=new E.Et,this.employeeService.getEmployeeContract(e).subscribe(e=>{if(e){this.employeeContract=Object.assign(new E.Et,e[0]);const t=new Date(this.employeeContract.contractEndDate);this.contractStartDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1),this.getContractTypes(),1!==t.getFullYear()?this.updateContractEndDate(this.selectedContractId):(this.contractStartDate=null,this.contractEndDate=null)}})}getContractTypes(){this.employeeService.getContractTypes().subscribe(e=>{this.contractTypesIdentifiers=e,this.selectedContractIdentifier=this.contractTypesIdentifiers.find(e=>e.id===this.employeeContract.initialContractId),this.currentContractName=this.contractTypesIdentifiers.find(e=>e.id===this.employeeContract.initialContractId).description})}onChangeContract(e){this.employeeContractForm.valid?(this.updateContractEndDate(e),this.selectedContractIdentifier=this.contractTypesIdentifiers.find(t=>t.id===e),this.employeeContract.finalContractId=this.selectedContractIdentifier.id,this.currentContractId=this.selectedContractIdentifier.id):this.notificationService.danger("Please choose a start date")}onChangeContractStartDate(){this.employeeContractForm.valid?this.updateContractEndDate(this.selectedContractId):this.notificationService.danger("Please choose a start date")}onChangeContractEndDate(){this.employeeContract.contractEndDate=null===this.contractEndDate?this.contractEndDate:new Date(this.contractEndDate)}updateContractEndDate(e){this.employeeContract.finalContractId=e,this.contractStartDate=new Date(this.contractStartDate),this.contractEndDate=new Date(this.contractEndDate),this.contractEndDate=1===e||3===e||10===e||15===e?new Date(this.contractStartDate.getFullYear(),this.contractStartDate.getMonth()+12,this.contractStartDate.getDate()-1):11===e||14===e?new Date(this.contractStartDate.getFullYear(),this.contractStartDate.getMonth()+6,this.contractStartDate.getDate()-1):13===e||20===e?new Date(this.contractStartDate.getFullYear(),this.contractStartDate.getMonth()+3,this.contractStartDate.getDate()-1):null,this.employeeContract.contractStartDate=null===this.contractStartDate?this.contractStartDate:new Date(this.contractStartDate),this.employeeContract.contractEndDate=null===this.contractEndDate?this.contractEndDate:new Date(this.contractEndDate)}changeContract(){this.employeeContractForm.valid?(this.employeeContract.isContractChanged=1,this.close()):this.notificationService.danger("Please fill all required fields")}close(){this.employeeService.refreshContract.next(this.employeeContract),this.dialogRef.close()}cancel(){this.close()}}return e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275directiveInject(l.so),h.\u0275\u0275directiveInject(d.G),h.\u0275\u0275directiveInject(p.gq),h.\u0275\u0275directiveInject(l.WI))},e.\u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["app-edit-employee-contract"]],viewQuery:function(e,t){if(1&e&&h.\u0275\u0275viewQuery(De,7),2&e){let e;h.\u0275\u0275queryRefresh(e=h.\u0275\u0275loadQuery())&&(t.employeeContractForm=e.first)}},decls:38,vars:18,consts:[["id","employeeContractForm"],["employeeContractForm","ngForm"],[1,"modal_header"],[1,"modal_title"],[1,"material-icons","modal-close",3,"click"],[1,"modal_body"],["placement","bottom",1,"p-20","z-depth-top-0","waves-effect"],[1,"row","m-b-6"],[1,"col-sm-12"],["placeholder","Employee","matInput","","name","Employee","maxlength","200",3,"ngModel","readonly","disabled","ngModelChange"],[1,"col-sm-6"],["placeholder","Current contract","matInput","","name","Current contract","maxlength","200",3,"ngModel","readonly","disabled","ngModelChange"],["placeholder","Contract","name","contract","required","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"date-field","col-sm-6"],["matInput","","placeholder","Contract start date","name","contractStartDate","required","",3,"matDatepicker","ngModel","max","ngModelChange","dateChange"],["matSuffix","",3,"for"],[3,"startView"],["PickerStartDay",""],["matInput","","placeholder","Contract end date","name","contractEndDate",3,"matDatepicker","ngModel","min","ngModelChange","dateChange"],["PickerEndDay",""],[1,"row","m-t-20"],[1,"col-lg-12"],[1,"row","f-right"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","submit",1,"btn","btn-primary","ripple","light","btn-md",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"form",0,1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"span"),h.\u0275\u0275text(5," Employee Contract "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(6,"span"),h.\u0275\u0275elementStart(7,"em",4),h.\u0275\u0275listener("click",function(){return t.close()}),h.\u0275\u0275text(8,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"div",5),h.\u0275\u0275elementStart(10,"div",6),h.\u0275\u0275elementStart(11,"div",7),h.\u0275\u0275elementStart(12,"mat-form-field",8),h.\u0275\u0275elementStart(13,"input",9),h.\u0275\u0275listener("ngModelChange",function(e){return t.employeeFullName=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"mat-form-field",10),h.\u0275\u0275elementStart(15,"input",11),h.\u0275\u0275listener("ngModelChange",function(e){return t.currentContractName=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"mat-form-field",10),h.\u0275\u0275elementStart(17,"mat-select",12),h.\u0275\u0275listener("ngModelChange",function(e){return t.selectedContractId=e})("selectionChange",function(e){return t.onChangeContract(e.value)}),h.\u0275\u0275template(18,we,2,2,"mat-option",13),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(19,"mat-form-field",14),h.\u0275\u0275elementStart(20,"input",15),h.\u0275\u0275listener("ngModelChange",function(e){return t.contractStartDate=e})("dateChange",function(){return t.onChangeContractStartDate()}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(21,"mat-datepicker-toggle",16),h.\u0275\u0275element(22,"mat-datepicker",17,18),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"mat-form-field",14),h.\u0275\u0275elementStart(25,"input",19),h.\u0275\u0275listener("ngModelChange",function(e){return t.contractEndDate=e})("dateChange",function(){return t.onChangeContractEndDate()}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(26,"mat-datepicker-toggle",16),h.\u0275\u0275element(27,"mat-datepicker",17,20),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(29,"div",21),h.\u0275\u0275elementStart(30,"div",22),h.\u0275\u0275elementStart(31,"div",23),h.\u0275\u0275elementStart(32,"div",22),h.\u0275\u0275elementStart(33,"button",24),h.\u0275\u0275listener("click",function(){return t.cancel()}),h.\u0275\u0275text(34,"Cancel"),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(35," \xa0 \xa0 "),h.\u0275\u0275elementStart(36,"button",25),h.\u0275\u0275listener("click",function(){return t.changeContract()}),h.\u0275\u0275text(37," OK "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275reference(23),n=h.\u0275\u0275reference(28);h.\u0275\u0275advance(13),h.\u0275\u0275property("ngModel",t.employeeFullName)("readonly",!0)("disabled",!0),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.currentContractName)("readonly",!0)("disabled",!0),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.selectedContractId),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.contractTypesIdentifiers),h.\u0275\u0275advance(2),h.\u0275\u0275property("matDatepicker",e)("ngModel",t.contractStartDate)("max",t.contractEndDate),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",e),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(3),h.\u0275\u0275property("matDatepicker",n)("ngModel",t.contractEndDate)("min",t.contractStartDate),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",n),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month")}},directives:[a.\u0275NgNoValidate,a.NgControlStatusGroup,a.NgForm,I.KE,M.Nt,a.DefaultValueAccessor,a.MaxLengthValidator,a.NgControlStatus,a.NgModel,Fe.gD,a.RequiredValidator,i.NgForOf,F.hl,F.nW,I.R9,F.Mq,r.ey],styles:[".modal_header[_ngcontent-%COMP%]{height:50px;background-color:#3f629d;padding:18px 15px}.modal_header[_ngcontent-%COMP%]   .modal_title[_ngcontent-%COMP%]{color:#fff;line-height:1}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{float:right;cursor:pointer}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:red}.modal_body[_ngcontent-%COMP%]{overflow:hidden}"]}),e})();const Ne=["employeeActivityForm"];function ke(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",30),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Oe(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"tr"),h.\u0275\u0275elementStart(1,"td",31),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"td",31),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"td",32),h.\u0275\u0275text(6),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"td",32),h.\u0275\u0275text(8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275propertyInterpolate1("matTooltip"," ",n.employeeFullName,""),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",n.employeeFullName,""),h.\u0275\u0275advance(1),h.\u0275\u0275propertyInterpolate1("matTooltip"," ",e.activityName,""),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.activityName,""),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(n.dateTimeService.getShortFormat(e.activityStartDate)),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(n.dateTimeService.getShortFormat(e.activityEndDate))}}const Ae=function(e){return{active:e}};function _e(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"li",34),h.\u0275\u0275elementStart(1,"a",35),h.\u0275\u0275listener("click",function(){const t=h.\u0275\u0275restoreView(e).$implicit;return h.\u0275\u0275nextContext(2).setPage(t)}),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=h.\u0275\u0275nextContext(2);h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(2,Ae,n.pager.currentPage===e)),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(e)}}const Te=function(e){return{disabled:e}};function ze(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"ul",33),h.\u0275\u0275elementStart(1,"li",34),h.\u0275\u0275elementStart(2,"a",35),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(e),h.\u0275\u0275nextContext().setPage(1)}),h.\u0275\u0275text(3,"First"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"li",34),h.\u0275\u0275elementStart(5,"a",35),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(e);const t=h.\u0275\u0275nextContext();return t.setPage(t.pager.currentPage-1)}),h.\u0275\u0275text(6,"Previous"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(7,_e,3,4,"li",36),h.\u0275\u0275elementStart(8,"li",34),h.\u0275\u0275elementStart(9,"a",35),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(e);const t=h.\u0275\u0275nextContext();return t.setNextPage(t.pager.currentPage+1)}),h.\u0275\u0275text(10,"Next"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"li",34),h.\u0275\u0275elementStart(12,"a",35),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(e);const t=h.\u0275\u0275nextContext();return t.setPage(t.pager.totalPages)}),h.\u0275\u0275text(13,"Last"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&e){const e=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(5,Te,1===e.pager.currentPage)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(7,Te,1===e.pager.currentPage)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",e.pager.pages),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(9,Te,e.pager.currentPage===e.pager.totalPages)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(11,Te,e.pager.currentPage===e.pager.totalPages))}}let Le=(()=>{class e{constructor(e,t,n,i,a,r){this.dialogRef=e,this.employeeService=t,this.dateTimeService=n,this.pagerService=i,this.notificationService=a,this.data=r,this.targetActivityStartDate=new Date,this.activitiesIdentifiers=[],this.employeeActivity=new E.Wz,this.pager={},this.userId=this.data.userId,this.employeeFullName=this.data.employeeFullName,this.currentActivityId=this.data.currentActivityId,this.currentActivityName=this.data.activityName,this.selectedActivityId=this.data.selectedActivityId}ngOnInit(){this.getActivities(),this.getEmployeeActivities()}getActivities(){this.employeeService.getActivities().subscribe(e=>{this.activitiesIdentifiers=e,this.selectedActivityIdentifier=this.activitiesIdentifiers.find(e=>e.id===this.currentActivityId)})}getEmployeeActivities(){this.employeeService.getEmployeeActivities(this.userId).subscribe(e=>{this.employeeActivities=[],e&&e.length>0&&(e.forEach(e=>{this.employeeActivities.push(Object.assign(new E.Wz,e))}),this.setPage(1))})}setPage(e){e<1||(this.pager=this.pagerService.getPager(this.employeeActivities.length,e),this.pagedItems=this.employeeActivities.slice(this.pager.startIndex,this.pager.endIndex+1))}setNextPage(e){if(this.pager.totalPages<e)return null;this.pager=this.pagerService.getPager(this.employeeActivities.length,e),this.pagedItems=this.employeeActivities.slice(this.pager.startIndex,this.pager.endIndex+1)}onChangeActivity(e){this.currentActivityId!==e?this.employeeActivity.activityId=this.selectedActivityId:(this.selectedActivityId=null,this.notificationService.danger("Please do not choose the same activity"))}changeActivity(){this.employeeActivityForm.valid?(this.prepareEmployeeActivity(),this.close()):this.notificationService.danger("Please fill all required fields")}prepareEmployeeActivity(){this.employeeActivity.userId=this.userId,this.employeeActivity.activityId=this.selectedActivityId,this.employeeActivity.targetActivityStartDate=this.targetActivityStartDate,this.employeeActivity.isActivityChanged=1}close(){this.employeeService.refreshActivity.next(this.employeeActivity),this.dialogRef.close()}cancel(){this.close()}}return e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275directiveInject(l.so),h.\u0275\u0275directiveInject(d.G),h.\u0275\u0275directiveInject(p.Cv),h.\u0275\u0275directiveInject(p.e9),h.\u0275\u0275directiveInject(p.gq),h.\u0275\u0275directiveInject(l.WI))},e.\u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["app-edit-employee-activity"]],viewQuery:function(e,t){if(1&e&&h.\u0275\u0275viewQuery(Ne,7),2&e){let e;h.\u0275\u0275queryRefresh(e=h.\u0275\u0275loadQuery())&&(t.employeeActivityForm=e.first)}},decls:49,vars:14,consts:[["id","employeeActivityForm"],["employeeActivityForm","ngForm"],[1,"modal_header"],[1,"modal_title"],[1,"material-icons","modal-close",3,"click"],[1,"modal_body"],["placement","bottom",1,"p-20","z-depth-top-0","waves-effect"],[1,"row","m-b-6"],[1,"col-sm-6"],["placeholder","Employee","matInput","","name","Employee","maxlength","200",3,"ngModel","readonly","disabled","ngModelChange"],["placeholder","Current activity","matInput","","name","Current activity","maxlength","200",3,"ngModel","readonly","disabled","ngModelChange"],["placeholder","Target Activity","name","targetActivity","required","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"date-field","col-sm-6"],["matInput","","placeholder"," Target activity start date","name","targetActivityStartDate","required","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"startView"],["PickerStartDay",""],[1,"row","m-t-20"],[1,"col-lg-12"],[1,"row","f-right"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","submit",1,"btn","btn-primary","ripple","light","btn-md",3,"click"],[1,"employeeActivity-table","table-responsive"],["id","resourceTable",1,"table","table-striped","table-no-bordered"],[2,"padding","0px"],["scope","row",1,"table-name"],["scope","row",1,"table-date"],[4,"ngFor","ngForOf"],["class","pagination pointer","style","float:right",4,"ngIf"],[3,"value"],[1,"table-name","span-ellipsis",3,"matTooltip"],[1,"table-date"],[1,"pagination","pointer",2,"float","right"],[3,"ngClass"],[3,"click"],[3,"ngClass",4,"ngFor","ngForOf"]],template:function(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"form",0,1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"span"),h.\u0275\u0275text(5," Employee Activity "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(6,"span"),h.\u0275\u0275elementStart(7,"em",4),h.\u0275\u0275listener("click",function(){return t.close()}),h.\u0275\u0275text(8,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"div",5),h.\u0275\u0275elementStart(10,"div",6),h.\u0275\u0275elementStart(11,"div",7),h.\u0275\u0275elementStart(12,"mat-form-field",8),h.\u0275\u0275elementStart(13,"input",9),h.\u0275\u0275listener("ngModelChange",function(e){return t.employeeFullName=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"mat-form-field",8),h.\u0275\u0275elementStart(15,"input",10),h.\u0275\u0275listener("ngModelChange",function(e){return t.currentActivityName=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"mat-form-field",8),h.\u0275\u0275elementStart(17,"mat-select",11),h.\u0275\u0275listener("ngModelChange",function(e){return t.selectedActivityId=e})("selectionChange",function(e){return t.onChangeActivity(e.value)}),h.\u0275\u0275template(18,ke,2,2,"mat-option",12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(19,"mat-form-field",13),h.\u0275\u0275elementStart(20,"input",14),h.\u0275\u0275listener("ngModelChange",function(e){return t.targetActivityStartDate=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(21,"mat-datepicker-toggle",15),h.\u0275\u0275element(22,"mat-datepicker",16,17),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"div",18),h.\u0275\u0275elementStart(25,"div",19),h.\u0275\u0275elementStart(26,"div",20),h.\u0275\u0275elementStart(27,"div",19),h.\u0275\u0275elementStart(28,"button",21),h.\u0275\u0275listener("click",function(){return t.cancel()}),h.\u0275\u0275text(29,"Cancel"),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(30," \xa0 \xa0 "),h.\u0275\u0275elementStart(31,"button",22),h.\u0275\u0275listener("click",function(){return t.changeActivity()}),h.\u0275\u0275text(32," OK "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(33,"div",23),h.\u0275\u0275elementStart(34,"table",24),h.\u0275\u0275element(35,"caption",25),h.\u0275\u0275elementStart(36,"thead"),h.\u0275\u0275elementStart(37,"tr"),h.\u0275\u0275elementStart(38,"th",26),h.\u0275\u0275text(39,"Employee Full Name"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(40,"th",26),h.\u0275\u0275text(41,"Activity"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(42,"th",27),h.\u0275\u0275text(43,"Start Date"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(44,"th",27),h.\u0275\u0275text(45,"End Date"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(46,"tbody"),h.\u0275\u0275template(47,Oe,9,6,"tr",28),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(48,ze,14,13,"ul",29),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275reference(23);h.\u0275\u0275advance(13),h.\u0275\u0275property("ngModel",t.employeeFullName)("readonly",!0)("disabled",!0),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.currentActivityName)("readonly",!0)("disabled",!0),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.selectedActivityId),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.activitiesIdentifiers),h.\u0275\u0275advance(2),h.\u0275\u0275property("matDatepicker",e)("ngModel",t.targetActivityStartDate),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",e),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(25),h.\u0275\u0275property("ngForOf",t.pagedItems),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",t.pager.pages&&t.pager.pages.length)}},directives:[a.\u0275NgNoValidate,a.NgControlStatusGroup,a.NgForm,I.KE,M.Nt,a.DefaultValueAccessor,a.MaxLengthValidator,a.NgControlStatus,a.NgModel,Fe.gD,a.RequiredValidator,i.NgForOf,F.hl,F.nW,I.R9,F.Mq,i.NgIf,r.ey,w.gM,i.NgClass],styles:[".modal_header[_ngcontent-%COMP%]{height:50px;background-color:#3f629d;padding:18px 15px}.modal_header[_ngcontent-%COMP%]   .modal_title[_ngcontent-%COMP%]{color:#fff;line-height:1}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{float:right;cursor:pointer}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:red}.modal_body[_ngcontent-%COMP%]{overflow:hidden}.employeeActivity-table[_ngcontent-%COMP%]{text-align:center;padding-left:15px;padding-right:15px}.employeeActivity-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();const Ve=["employeeCompanyForm"];function qe(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",30),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Be(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"tr"),h.\u0275\u0275elementStart(1,"td",31),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"td",31),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"td",32),h.\u0275\u0275text(6),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"td",32),h.\u0275\u0275text(8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275propertyInterpolate1("matTooltip"," ",n.employeeFullName,""),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",n.employeeFullName,""),h.\u0275\u0275advance(1),h.\u0275\u0275propertyInterpolate1("matTooltip"," ",e.companyName,""),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.companyName,""),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(n.dateTimeService.getShortFormat(e.companyStartDate)),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(n.dateTimeService.getShortFormat(e.companyEndDate))}}const Re=function(e){return{active:e}};function je(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"li",34),h.\u0275\u0275elementStart(1,"a",35),h.\u0275\u0275listener("click",function(){const t=h.\u0275\u0275restoreView(e).$implicit;return h.\u0275\u0275nextContext(2).setPage(t)}),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=h.\u0275\u0275nextContext(2);h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(2,Re,n.pager.currentPage===e)),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(e)}}const Qe=function(e){return{disabled:e}};function He(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"ul",33),h.\u0275\u0275elementStart(1,"li",34),h.\u0275\u0275elementStart(2,"a",35),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(e),h.\u0275\u0275nextContext().setPage(1)}),h.\u0275\u0275text(3,"First"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"li",34),h.\u0275\u0275elementStart(5,"a",35),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(e);const t=h.\u0275\u0275nextContext();return t.setPage(t.pager.currentPage-1)}),h.\u0275\u0275text(6,"Previous"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(7,je,3,4,"li",36),h.\u0275\u0275elementStart(8,"li",34),h.\u0275\u0275elementStart(9,"a",35),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(e);const t=h.\u0275\u0275nextContext();return t.setNextPage(t.pager.currentPage+1)}),h.\u0275\u0275text(10,"Next"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"li",34),h.\u0275\u0275elementStart(12,"a",35),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(e);const t=h.\u0275\u0275nextContext();return t.setPage(t.pager.totalPages)}),h.\u0275\u0275text(13,"Last"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&e){const e=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(5,Qe,1===e.pager.currentPage)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(7,Qe,1===e.pager.currentPage)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",e.pager.pages),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(9,Qe,e.pager.currentPage===e.pager.totalPages)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(11,Qe,e.pager.currentPage===e.pager.totalPages))}}let Ge=(()=>{class e{constructor(e,t,n,i,a,r){this.dialogRef=e,this.employeeService=t,this.notificationService=n,this.dateTimeService=i,this.pagerService=a,this.data=r,this.companyStartDate=new Date,this.companyEndDate=new Date,this.companiesIdentifiers=[],this.employeeCompany=new E.AV,this.pager={},this.userId=this.data.userId,this.employeeFullName=this.data.employeeFullName,this.currentCompanyId=this.data.currentCompanyId,this.currentCompanyName=this.data.currentCompanyName}ngOnInit(){this.getCompanies(),this.getEmployeeCompanies()}getCompanies(){this.employeeService.getCompanies().subscribe(e=>{this.companiesIdentifiers=e,this.selectedCompanyIdentifier=this.companiesIdentifiers.find(e=>e.id===this.currentCompanyId),this.selectedCompanyId=this.currentCompanyId})}getEmployeeCompanies(){this.employeeService.getEmployeeCompanies(this.userId).subscribe(e=>{this.employeeCompanies=[],null!=e&&(e.forEach(e=>{this.employeeCompanies.push(Object.assign(new E.AV,e))}),this.setPage(1))})}setPage(e){e<1||(this.pager=this.pagerService.getPager(this.employeeCompanies.length,e),this.pagedItems=this.employeeCompanies.slice(this.pager.startIndex,this.pager.endIndex+1))}setNextPage(e){if(this.pager.totalPages<e)return null;this.pager=this.pagerService.getPager(this.employeeCompanies.length,e),this.pagedItems=this.employeeCompanies.slice(this.pager.startIndex,this.pager.endIndex+1)}changeCompany(){this.employeeCompanyForm.valid?(this.employeeCompany.companyId=this.selectedCompanyId,this.employeeCompany.companyStartDate=this.companyStartDate,this.employeeCompany.isCompanyChanged=1,this.close()):this.notificationService.danger("Please fill all required fields")}close(){this.employeeService.refreshCompany.next(this.employeeCompany),this.dialogRef.close()}cancel(){this.close()}}return e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275directiveInject(l.so),h.\u0275\u0275directiveInject(d.G),h.\u0275\u0275directiveInject(p.gq),h.\u0275\u0275directiveInject(p.Cv),h.\u0275\u0275directiveInject(p.e9),h.\u0275\u0275directiveInject(l.WI))},e.\u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["app-edit-employee-company"]],viewQuery:function(e,t){if(1&e&&h.\u0275\u0275viewQuery(Ve,7),2&e){let e;h.\u0275\u0275queryRefresh(e=h.\u0275\u0275loadQuery())&&(t.employeeCompanyForm=e.first)}},decls:49,vars:14,consts:[["id","employeeCompanyForm"],["employeeCompanyForm","ngForm"],[1,"modal_header"],[1,"modal_title"],[1,"material-icons","modal-close",3,"click"],[1,"modal_body"],["placement","bottom",1,"p-20","z-depth-top-0","waves-effect"],[1,"row","m-b-6"],[1,"col-sm-6"],["placeholder","Employee","matInput","","name","Employee","maxlength","200",3,"ngModel","readonly","disabled","ngModelChange"],["placeholder","Current company","matInput","","name","Current Company","maxlength","200",3,"ngModel","readonly","disabled","ngModelChange"],["placeholder","Target Company","name","targetCompany","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"date-field","col-sm-6"],["matInput","","placeholder","Target Company Start Date","name","companyStartDate","required","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"startView"],["PickerStartDay",""],[1,"row","m-t-20"],[1,"col-lg-12"],[1,"row","f-right"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","submit",1,"btn","btn-primary","ripple","light","btn-md",3,"click"],[1,"employee-company-table","table-responsive"],["id","resourceTable",1,"table","table-striped","table-no-bordered"],[2,"padding","0px"],["scope","row",1,"table-name"],["scope","row",1,"table-date"],[4,"ngFor","ngForOf"],["class","pagination pointer","style","float:right",4,"ngIf"],[3,"value"],[1,"table-name","span-ellipsis",3,"matTooltip"],[1,"table-date"],[1,"pagination","pointer",2,"float","right"],[3,"ngClass"],[3,"click"],[3,"ngClass",4,"ngFor","ngForOf"]],template:function(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"form",0,1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275elementStart(4,"span"),h.\u0275\u0275text(5," Employee Company "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(6,"span"),h.\u0275\u0275elementStart(7,"em",4),h.\u0275\u0275listener("click",function(){return t.close()}),h.\u0275\u0275text(8,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"div",5),h.\u0275\u0275elementStart(10,"div",6),h.\u0275\u0275elementStart(11,"div",7),h.\u0275\u0275elementStart(12,"mat-form-field",8),h.\u0275\u0275elementStart(13,"input",9),h.\u0275\u0275listener("ngModelChange",function(e){return t.employeeFullName=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"mat-form-field",8),h.\u0275\u0275elementStart(15,"input",10),h.\u0275\u0275listener("ngModelChange",function(e){return t.currentCompanyName=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"mat-form-field",8),h.\u0275\u0275elementStart(17,"mat-select",11),h.\u0275\u0275listener("ngModelChange",function(e){return t.selectedCompanyId=e}),h.\u0275\u0275template(18,qe,2,2,"mat-option",12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(19,"mat-form-field",13),h.\u0275\u0275elementStart(20,"input",14),h.\u0275\u0275listener("ngModelChange",function(e){return t.companyStartDate=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(21,"mat-datepicker-toggle",15),h.\u0275\u0275element(22,"mat-datepicker",16,17),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"div",18),h.\u0275\u0275elementStart(25,"div",19),h.\u0275\u0275elementStart(26,"div",20),h.\u0275\u0275elementStart(27,"div",19),h.\u0275\u0275elementStart(28,"button",21),h.\u0275\u0275listener("click",function(){return t.cancel()}),h.\u0275\u0275text(29,"Cancel"),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(30," \xa0 \xa0 "),h.\u0275\u0275elementStart(31,"button",22),h.\u0275\u0275listener("click",function(){return t.changeCompany()}),h.\u0275\u0275text(32,"OK "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(33,"div",23),h.\u0275\u0275elementStart(34,"table",24),h.\u0275\u0275element(35,"caption",25),h.\u0275\u0275elementStart(36,"thead"),h.\u0275\u0275elementStart(37,"tr"),h.\u0275\u0275elementStart(38,"th",26),h.\u0275\u0275text(39,"Employee Full Name"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(40,"th",26),h.\u0275\u0275text(41,"Company"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(42,"th",27),h.\u0275\u0275text(43,"Start Date"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(44,"th",27),h.\u0275\u0275text(45,"End Date"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(46,"tbody"),h.\u0275\u0275template(47,Be,9,6,"tr",28),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(48,He,14,13,"ul",29),h.\u0275\u0275elementEnd()),2&e){const e=h.\u0275\u0275reference(23);h.\u0275\u0275advance(13),h.\u0275\u0275property("ngModel",t.employeeFullName)("readonly",!0)("disabled",!0),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.currentCompanyName)("readonly",!0)("disabled",!0),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.selectedCompanyId),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.companiesIdentifiers),h.\u0275\u0275advance(2),h.\u0275\u0275property("matDatepicker",e)("ngModel",t.companyStartDate),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",e),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(25),h.\u0275\u0275property("ngForOf",t.pagedItems),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",t.pager.pages&&t.pager.pages.length)}},directives:[a.\u0275NgNoValidate,a.NgControlStatusGroup,a.NgForm,I.KE,M.Nt,a.DefaultValueAccessor,a.MaxLengthValidator,a.NgControlStatus,a.NgModel,Fe.gD,a.RequiredValidator,i.NgForOf,F.hl,F.nW,I.R9,F.Mq,i.NgIf,r.ey,w.gM,i.NgClass],styles:[".modal_header[_ngcontent-%COMP%]{height:50px;background-color:#3f629d;padding:18px 15px}.modal_header[_ngcontent-%COMP%]   .modal_title[_ngcontent-%COMP%]{color:#fff;line-height:1}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{float:right;cursor:pointer}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:red}.modal_body[_ngcontent-%COMP%]{overflow:hidden}.employee-company-table[_ngcontent-%COMP%]{text-align:center;padding-left:15px;padding-right:15px}.employee-company-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var $e=n(92340),Ye=n(88259),Ue=n.n(Ye),We=n(97832),Ke=n(52218),Je=n(76627);const Ze=["employeeForm"];function Xe(e,t){1&e&&h.\u0275\u0275text(0,"Personal Details")}function et(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function tt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function nt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function it(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function at(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function rt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function lt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function ot(e,t){1&e&&h.\u0275\u0275text(0,"Contact Details")}function st(e,t){1&e&&h.\u0275\u0275element(0,"img",91)}function ct(e,t){if(1&e&&h.\u0275\u0275element(0,"img",92),2&e){const e=h.\u0275\u0275nextContext();h.\u0275\u0275propertyInterpolate1("src","data:image/jpeg;base64,",e.employee.picture,"",h.\u0275\u0275sanitizeUrl)}}function mt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function dt(e,t){1&e&&h.\u0275\u0275text(0,"Employment Details ")}function pt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function ht(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function ut(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function gt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function yt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function ft(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function vt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function St(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Ct(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Et(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function xt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}function bt(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"mat-option",90),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;h.\u0275\u0275property("value",e.id),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",e.description," ")}}const It=function(){return{standalone:!0}};let Mt=(()=>{class e{constructor(e,t,n,i,r,l,o){this._formBuilder=e,this.employeeService=t,this.notificationService=n,this.mailService=i,this.dialog=r,this.activeRoute=l,this.router=o,this.userId=0,this.employee=new E.RB,this.employeeContract=new E.Et,this.employeeActivity=new E.Wz,this.employeeCompany=new E.AV,this.isContractChanged=0,this.isLinear=!1,this.genders=[{id:"M",description:"Male"},{id:"F",description:"Female"}],this.familyStatuses=[{id:"Mari\xe9",description:"Married"},{id:"C\xe9libataire",description:"Single"},{id:"Divorc\xe9",description:"Divorced"}],this.pfes=[{id:1,description:"YES"},{id:2,description:"NO"}],this.militaryStatuses=[{id:0,description:"Not completed"},{id:1,description:"Accomplished"},{id:2,description:"Exempted"}],this.qualifications=[],this.nationalities=[],this.countries=[],this.establishments=[],this.diplomas=[],this.activities=[],this.companies=[],this.sites=[],this.functions=[],this.departments=[],this.groups=[],this.grades=[],this.categories=[],this.contractTypes=[],this.hierachicalHeads=[],this.departmentHeads=[],this.nationalityFilterCtrl=new a.FormControl,this.filteredNationalities=new C.tq(1),this.establishmentFilterCtrl=new a.FormControl,this.filteredEstablishments=new C.tq(1),this.diplomaFilterCtrl=new a.FormControl,this.filteredDiplomas=new C.tq(1),this.countryFilterCtrl=new a.FormControl,this.filteredCountries=new C.tq(1),this.groupFilterCtrl=new a.FormControl,this.filteredGroups=new C.tq(1),this.activityFilterCtrl=new a.FormControl,this.filteredActivities=new C.tq(1),this.companyFilterCtrl=new a.FormControl,this.filteredCompanies=new C.tq(1),this.siteFilterCtrl=new a.FormControl,this.filteredSites=new C.tq(1),this.qualificationFilterCtrl=new a.FormControl,this.filteredQualifications=new C.tq(1),this.functionFilterCtrl=new a.FormControl,this.filteredFunctions=new C.tq(1),this.gradeFilterCtrl=new a.FormControl,this.filteredGrades=new C.tq(1),this.contractTypeFilterCtrl=new a.FormControl,this.filteredContractTypes=new C.tq(1),this.hierachicalHeadFilterCtrl=new a.FormControl,this.filteredHierachicalHeads=new C.tq(1),this._onDestroy=new C.xQ,this.subscription=new C.w0,this.previousState={getPrevious:!1,type:null,pageIndex:null,pageSize:null}}ngOnInit(){this.activeRoute.params.subscribe(e=>{null!=e.userId&&(this.userId=+e.userId,this.getEmployee(this.userId))}),this.getFunctions(),this.getGroups(),this.getActivities(),this.getCompanies(),this.getCountries(),this.getDepartments(),this.getDiplomas(),this.getEstablishments(),this.getGrades(),this.getQualifications(),this.getSites(),this.getNationalities(),this.getCategories(),this.getContractTypes(),this.getHierachicalHeads(),this.getDepartmentHeads(),this.firstFormGroup=this._formBuilder.group({firstCtrl:["",a.Validators.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",a.Validators.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",a.Validators.required]}),this.subscription=this.employeeService.refreshContract.subscribe(e=>{this.employeeContract=e,0===this.employeeContract.isContractChanged?this.employee.contractType=this.employeeContractId:(this.employee.contractType=this.employeeContract.finalContractId,this.employee.contractDateEnd=this.employeeContract.contractEndDate)}),this.subscription=this.employeeService.refreshActivity.subscribe(e=>{this.employeeActivity=e,0===this.employeeActivity.isActivityChanged?this.employee.activityId=this.employeeActivityId:(this.employee.activityId=this.employeeActivity.activityId,this.employee.activityStartDate=this.employeeActivity.targetActivityStartDate)}),this.subscription=this.employeeService.refreshCompany.subscribe(e=>{this.employeeCompany=e,0===this.employeeCompany.isCompanyChanged?this.employee.companyId=this.employeeCompanyId:(this.employee.companyId=this.employeeCompany.companyId,this.employee.companyStartDate=this.employeeCompany.companyStartDate)}),this.subscription.add(this.employeeService.previousState.subscribe(e=>{e&&(this.previousState.type=e.type,this.previousState.pageIndex=e.pageIndex,this.previousState.pageSize=e.pageSize)}))}getEmployee(e){this.employeeService.getEmployee(e).subscribe(e=>{this.employee=e,this.employeeActivityId=this.employee.activityId,this.employeeCompanyId=this.employee.companyId,this.employeeContractId=this.employee.contractType,this.employeeContractEndDate=this.employee.contractDateEnd})}getActivities(){this.employeeService.getActivities().subscribe(e=>{this.activities=e,this.filteredActivities.next(this.activities.slice()),this.activityFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.activities,this.filteredActivities,this.activityFilterCtrl)})})}getCompanies(){this.employeeService.getCompanies().subscribe(e=>{this.companies=e,this.filteredCompanies.next(this.companies.slice()),this.companyFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.companies,this.filteredCompanies,this.companyFilterCtrl)})})}getCountries(){this.employeeService.getCountries().subscribe(e=>{this.countries=e,this.filteredCountries.next(this.countries.slice()),this.countryFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.countries,this.filteredCountries,this.countryFilterCtrl)})})}getDiplomas(){this.employeeService.getDiplomas().subscribe(e=>{this.diplomas=e,this.filteredDiplomas.next(this.diplomas.slice()),this.diplomaFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.diplomas,this.filteredDiplomas,this.diplomaFilterCtrl)})})}getEstablishments(){this.employeeService.getEstablishments().subscribe(e=>{this.establishments=e,this.filteredEstablishments.next(this.establishments.slice()),this.establishmentFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.establishments,this.filteredEstablishments,this.establishmentFilterCtrl)})})}getGrades(){this.employeeService.getGrades().subscribe(e=>{this.grades=e,this.filteredGrades.next(this.grades.slice()),this.gradeFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.grades,this.filteredGrades,this.gradeFilterCtrl)})})}getSites(){this.employeeService.getSites().subscribe(e=>{this.sites=e,this.filteredSites.next(this.sites.slice()),this.siteFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.sites,this.filteredSites,this.siteFilterCtrl)})})}getQualifications(){this.employeeService.getQualifications().subscribe(e=>{this.qualifications=e,this.filteredQualifications.next(this.qualifications.slice()),this.qualificationFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.qualifications,this.filteredQualifications,this.qualificationFilterCtrl)})})}getDepartments(){this.employeeService.getDepartments().subscribe(e=>{this.departments=e})}getNationalities(){this.employeeService.getNationalities().subscribe(e=>{this.nationalities=e,this.filteredNationalities.next(this.nationalities.slice()),this.nationalityFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.nationalities,this.filteredNationalities,this.nationalityFilterCtrl)})})}getGroups(){this.employeeService.getGroups().subscribe(e=>{this.groups=e,this.filteredGroups.next(this.groups.slice()),this.groupFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.groups,this.filteredGroups,this.groupFilterCtrl)})})}getCategories(){this.employeeService.getCategories().subscribe(e=>{this.categories=e})}getFunctions(){this.employeeService.getFunctions().subscribe(e=>{this.functions=e,this.filteredFunctions.next(this.functions.slice()),this.functionFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.functions,this.filteredFunctions,this.functionFilterCtrl)})})}getContractTypes(){this.employeeService.getContractTypes().subscribe(e=>{this.contractTypes=e,this.filteredContractTypes.next(this.contractTypes.slice()),this.contractTypeFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.contractTypes,this.filteredContractTypes,this.contractTypeFilterCtrl)})})}getHierachicalHeads(){this.employeeService.getHierachicalHeads().subscribe(e=>{this.hierachicalHeads=e,0===this.userId&&(this.hierachicalHeads=this.hierachicalHeads.filter(e=>-1===e.description.indexOf("QUIT"))),this.filteredHierachicalHeads.next(this.hierachicalHeads.slice()),this.hierachicalHeadFilterCtrl.valueChanges.pipe((0,Me.R)(this._onDestroy)).subscribe(()=>{this.filterIdentifiers(this.hierachicalHeads,this.filteredHierachicalHeads,this.hierachicalHeadFilterCtrl)})})}getDepartmentHeads(){this.employeeService.getDepartmentHeads().subscribe(e=>{this.departmentHeads=e,0===this.userId&&(this.departmentHeads=this.departmentHeads.filter(e=>-1===e.description.indexOf("QUIT")))})}filterIdentifiers(e,t,n){if(!e)return;let i=n.value;i?(i=i.toLowerCase(),t.next(e.filter(e=>e.description.toLowerCase().indexOf(i)>-1))):t.next(e.slice())}onFileUpload(e){if(e.target.files&&e.target.files.length>0){const t=e.target.files[0];if(t.size<1024*$e.N.maxPictureFileSize){const e=new FileReader;e.readAsDataURL(t),e.onload=()=>{const n=this.employee.picture,i=this.employee.pictureFileName;this.employee.picture=e.result.toString().split(",")[1],this.employee.pictureFileName=this.employee.userId+"."+t.name.split(".")[1],this.formData=new FormData,this.formData.append("file",t,this.employee.pictureFileName),"0"!==this.employee.userId&&this.employeeService.updateEmployeePicture(this.formData).subscribe(()=>{this.notificationService.success("User Picture is saved successfully")},()=>{this.employee.picture=n,this.employee.pictureFileName=i,this.notificationService.danger("User Picture is not saved successfully")})}}else this.notificationService.warning(`File must be lower the size of ${$e.N.maxPictureFileSize} Kilobytes`)}}save(){this.employeeForm.valid?this.employeeService.insertOrUpdateEmployee(this.employee).subscribe(e=>{"0"===this.employee.userId?(this.employee.userId=e,this.employee.picture?this.employeeService.updateEmployeePicture(this.formData).subscribe(()=>{this.notificationService.success("User is saved successfully"),this.router.navigate(["/human-resources/administration/employees"])},()=>{this.notificationService.danger("User Picture is not saved successfully")}):(this.notificationService.success("User is saved successfully"),this.router.navigate(["/human-resources/administration/employees"]))):(this.notificationService.success("User is saved successfully"),this.updateEmployeeContract(),null!=this.previousState.pageIndex&&(this.previousState.getPrevious=!0,this.employeeService.previousState.next(this.previousState)),this.router.navigate(["/human-resources/administration/employees"]))},()=>{this.notificationService.danger("User is not saved successfully")}):this.notificationService.danger("Please check all fields")}onChangeContract(e){"0"!==this.employee.userId&&Ue().fire({title:"Do you want to change or correct the contract?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Change",denyButtonText:"Correct"}).then(t=>{t.isConfirmed?this.editEmployeeContract():t.isDenied?this.employee.dateEntry?this.updateContractEndDate(e):this.notificationService.danger("Please choose an entry date"):this.employee.contractType=this.employeeContractId})}onChangeEntryDate(){this.employee.dateEntry?this.updateContractEndDate(this.employee.contractType):this.notificationService.danger("Please choose an entry date")}updateContractEndDate(e){if("0"===this.employee.userId&&this.employee.dateEntry||"0"!==this.employee.userId){const t=new Date(this.employee.dateEntry);this.employeeContractEndDate=1===e||3===e||10===e||15===e?new Date(t.getFullYear(),t.getMonth()+12,t.getDate()-1):11===e||14===e?new Date(t.getFullYear(),t.getMonth()+6,t.getDate()-1):13===e||20===e?new Date(t.getFullYear(),t.getMonth()+3,t.getDate()-1):null,this.employee.contractDateEnd=this.employeeContractEndDate}}editEmployeeContract(){this.editEmployeeContractDialog=this.dialog.open(Pe,{disableClose:!1,hasBackdrop:!0,width:"400px",height:"350px",data:{userId:this.employee.userId,employeeFullName:this.employee.userNumber+" "+this.employee.firstName+" "+this.employee.lastName,currentContractId:this.employee.contractType,contractEndDate:this.employee.contractDateEnd}})}updateEmployeeContract(){1===this.employeeContract.isContractChanged?(this.employeeContract.hierarchicalHead1=this.employee.hierarchicalHead1,this.employeeContract.hierarchicalHead2=this.employee.hierarchicalHead2,this.employeeService.updateEmployeeContract(this.employeeContract).subscribe(e=>{e&&0!==e?(this.notificationService.success("Contract is changed successfully"),this.employee.contractName=this.contractTypes.find(e=>e.id===this.employee.contractType).description,this.mailService.contractChanged(this.employee.userNumber+" "+this.employee.firstName+" "+this.employee.lastName,this.employee.contractName)):this.notificationService.danger("Update contract failed")})):this.employee.contractType=this.employeeContractId}onChangeActivity(e){"0"!==this.employee.userId&&Ue().fire({title:"Do you want to change or correct the activity?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Change",denyButtonText:"Correct"}).then(t=>{t.isConfirmed?this.editEmployeeActivity():this.employee.activityId=t.isDenied?e:this.employeeActivityId})}editEmployeeActivity(){const e={disableClose:!1,hasBackdrop:!0,width:"700px",height:"600px",data:{userId:this.employee.userId,employeeFullName:this.employee.userNumber+" "+this.employee.firstName+" "+this.employee.lastName,currentActivityId:this.employeeActivityId,selectedActivityId:this.employee.activityId,activityName:this.activities.find(e=>e.id===this.employeeActivityId).description}};this.editEmployeeActivityDialog=this.dialog.open(Le,e)}onChangeCompany(e){"0"!==this.employee.userId&&Ue().fire({title:"Do you want to change or correct the company?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Change",denyButtonText:"Correct"}).then(t=>{t.isConfirmed?this.editEmployeeCompany():this.employee.companyId=t.isDenied?e:this.employeeCompanyId})}editEmployeeCompany(){const e={disableClose:!1,hasBackdrop:!0,width:"700px",height:"600px",data:{userId:this.employee.userId,employeeFullName:this.employee.userNumber+" "+this.employee.firstName+" "+this.employee.lastName,currentCompanyId:this.employee.companyId,currentCompanyName:this.companies.find(e=>e.id===this.employeeCompanyId).description}};this.editEmployeeCompanyDialog=this.dialog.open(Ge,e)}cancel(){null!=this.previousState.pageIndex&&(this.previousState.getPrevious=!0,this.employeeService.previousState.next(this.previousState)),this.router.navigate(["/human-resources/administration/employees"])}}return e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275directiveInject(a.FormBuilder),h.\u0275\u0275directiveInject(d.G),h.\u0275\u0275directiveInject(p.gq),h.\u0275\u0275directiveInject(p.YT),h.\u0275\u0275directiveInject(l.uw),h.\u0275\u0275directiveInject(f.gz),h.\u0275\u0275directiveInject(f.F0))},e.\u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["app-edit-employee"]],viewQuery:function(e,t){if(1&e&&h.\u0275\u0275viewQuery(Ze,7),2&e){let e;h.\u0275\u0275queryRefresh(e=h.\u0275\u0275loadQuery())&&(t.employeeForm=e.first)}},decls:263,vars:180,consts:[[1,"card"],[1,"card-body"],["id","employeeForm"],["employeeForm","ngForm"],[3,"linear"],[3,"stepControl","editable"],["matStepLabel",""],[1,"row","m-b-12"],[1,"col-sm-4"],["matInput","","placeholder","User Number","name","UserNumber","type","text","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","First Name","name","Firstname","type","text","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Last Name","name","Lastname","type","text","required","",3,"ngModel","ngModelChange"],["placeholder","Nationality","name","Nationality","required","",3,"ngModel","ngModelChange"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],["ngxMatSelectSearchClear",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Gender","name","Gender","required","",3,"ngModel","ngModelOptions","ngModelChange"],["placeholder","Family Status","name","Family","required","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","placeholder","Birth Date","name","birthday","required","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"startView"],["PickerBirthDay",""],["matInput","","placeholder","Birth Place","name","birth","required","",3,"ngModel","ngModelChange"],["placeholder","Military Service","name","gender","required","",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-sm-3"],["matInput","","placeholder","CIN Number","name","id","type","number","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Delivery Date","name","cinDate","required","",3,"matDatepicker","ngModel","ngModelChange"],["PickerCinDay",""],["matInput","","placeholder","Delivery Place","name","place","type","text","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Visa Expiration Date","name","visaExpirationDate",3,"matDatepicker","ngModel","ngModelChange"],["PickerVisaDay",""],["matInput","","placeholder","Passport Number","name","pass","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Delivery Date","name","passportDate",3,"matDatepicker","ngModel","ngModelChange"],["PickerPassDay",""],["matInput","","placeholder","Delivery Place","name","delivery","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Expiration Date","name","passportExpirationDate",3,"matDatepicker","ngModel","ngModelChange"],["PickerPasDay",""],["matInput","","placeholder","Driving Licence","name","drive","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Delivery Date","name","drivingDate",3,"matDatepicker","ngModel","ngModelChange"],["PickerDriveDay",""],["matInput","","placeholder","Delivery Place","name","place1","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Car Number","name","carPlate","type","text",3,"ngModel","ngModelChange"],["placeholder","Study Establishment","name","Establishment","required","",3,"ngModel","ngModelChange"],["placeholder","Diploma","name","Diploma","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Speciality","name","Speciality","type","text",3,"ngModel","ngModelChange"],[1,"col-sm-2"],["placeholder","Pfe Telnet","name","Pfe",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-sm-1"],["matInput","","placeholder","Previous Experience","name","Experience","type","number","required","",3,"ngModel","ngModelChange"],[3,"stepControl"],["class","img-100","src","assets/images/avatar.png","alt","",4,"ngIf"],["class","img-100","alt","",3,"src",4,"ngIf"],[1,"btn","btn-sm","btn-primary","waves-light","m-r-10","ripple","file-upload-button",2,"font-size","inherit"],["type","file","id","av","accept","image/jpeg",3,"click","change"],["fileInput",""],[1,"icofont","icofont-upload-alt","mr-0","mr-md-2"],[1,"col-sm-11"],["matInput","","placeholder","Location Number","name","Location","type","number","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Location Street","name","Street","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Location Description","name","Description","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","City","name","City","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Postal Code","name","Postal","type","number","required","",3,"ngModel","ngModelChange"],["placeholder","Country","name","Country",3,"ngModel","ngModelChange"],["matInput","","placeholder","Email","name","Email","type","email","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cell Phone (1)","name","Phone1","type","number",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cell Phone (2)","name","Phone2","type","number",3,"ngModel","ngModelChange"],["placeholder","Group","name","Group","required","",3,"ngModel","ngModelChange"],["placeholder","Hierarchical Head","name","hierarchicalHead1","required","",3,"ngModel","ngModelChange"],["placeholder","Department Head","name","DepartmentHead","required","",3,"ngModel","ngModelChange"],["placeholder","Activity","name","Activity","required","",3,"ngModel","ngModelChange","selectionChange"],["placeholder","Departement","name","Departement","required","",3,"ngModel","ngModelChange"],["placeholder","Site","name","Site","required","",3,"ngModel","ngModelChange"],["placeholder","Company","name","Company","required","",3,"ngModel","ngModelChange","selectionChange"],["placeholder","Qualification","name","Qualification","required","",3,"ngModel","ngModelChange"],["placeholder","Function","name","Function","required","",3,"ngModel","ngModelChange"],["placeholder","Grade","name","Grade","required","",3,"ngModel","ngModelChange"],["placeholder","Category","name","Category","required","",3,"ngModel","ngModelChange"],["placeholder","Type of Contract","name","ContractType","required","",3,"ngModel","ngModelChange","selectionChange"],["matInput","","placeholder","Date Entry","name","dateEntry","required","",3,"matDatepicker","ngModel","ngModelChange","dateChange"],["PickerStartDay",""],["matInput","","placeholder","Contract Date End","name","contractDateEnd",3,"matDatepicker","ngModel","ngModelChange"],["PickerContratDay",""],["matInput","","placeholder","Date Exit","name","dateExit",3,"matDatepicker","ngModel","ngModelChange"],["PickerExitDay",""],["matInput","","placeholder","Cnss","name","cnss","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Insurance","name","insurance","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","RIB","name","rib","type","text",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit",1,"btn","btn-md","btn-primary","ripple","light","m-r-20",3,"click"],["type","reset",1,"btn","btn-md","btn-default","ripple",3,"click"],[3,"value"],["src","assets/images/avatar.png","alt","",1,"img-100"],["alt","",1,"img-100",3,"src"]],template:function(e,t){if(1&e){const e=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"form",2,3),h.\u0275\u0275elementStart(4,"mat-horizontal-stepper",4),h.\u0275\u0275elementStart(5,"mat-step",5),h.\u0275\u0275template(6,Xe,1,0,"ng-template",6),h.\u0275\u0275elementStart(7,"div",7),h.\u0275\u0275elementStart(8,"mat-form-field",8),h.\u0275\u0275elementStart(9,"input",9),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.userNumber=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(10,"mat-form-field",8),h.\u0275\u0275elementStart(11,"input",10),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.firstName=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(12,"mat-form-field",8),h.\u0275\u0275elementStart(13,"input",11),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.lastName=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"div",7),h.\u0275\u0275elementStart(15,"mat-form-field",8),h.\u0275\u0275elementStart(16,"mat-select",12),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.nationality=e}),h.\u0275\u0275elementStart(17,"mat-option"),h.\u0275\u0275elementStart(18,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(19,"mat-icon",14),h.\u0275\u0275text(20,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(21,et,2,2,"mat-option",15),h.\u0275\u0275pipe(22,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(23,"mat-form-field",8),h.\u0275\u0275elementStart(24,"mat-select",16),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.gender=e}),h.\u0275\u0275template(25,tt,2,2,"mat-option",15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(26,"mat-form-field",8),h.\u0275\u0275elementStart(27,"mat-select",17),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.familyState=e}),h.\u0275\u0275template(28,nt,2,2,"mat-option",15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(29,"div",7),h.\u0275\u0275elementStart(30,"mat-form-field",8),h.\u0275\u0275elementStart(31,"input",18),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.birthday=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(32,"mat-datepicker-toggle",19),h.\u0275\u0275element(33,"mat-datepicker",20,21),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(35,"mat-form-field",8),h.\u0275\u0275elementStart(36,"input",22),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.birthPlace=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"mat-form-field",8),h.\u0275\u0275elementStart(38,"mat-select",23),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.militaryService=e}),h.\u0275\u0275template(39,it,2,2,"mat-option",15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(40,"div",7),h.\u0275\u0275elementStart(41,"mat-form-field",24),h.\u0275\u0275elementStart(42,"input",25),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.cinNumber=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(43,"mat-form-field",24),h.\u0275\u0275elementStart(44,"input",26),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.cinDate=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(45,"mat-datepicker-toggle",19),h.\u0275\u0275element(46,"mat-datepicker",20,27),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(48,"mat-form-field",24),h.\u0275\u0275elementStart(49,"input",28),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.cinPlace=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(50,"mat-form-field",24),h.\u0275\u0275elementStart(51,"input",29),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.visaExpirationDate=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(52,"mat-datepicker-toggle",19),h.\u0275\u0275element(53,"mat-datepicker",20,30),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(55,"div",7),h.\u0275\u0275elementStart(56,"mat-form-field",24),h.\u0275\u0275elementStart(57,"input",31),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.passport=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(58,"mat-form-field",24),h.\u0275\u0275elementStart(59,"input",32),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.passportDate=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(60,"mat-datepicker-toggle",19),h.\u0275\u0275element(61,"mat-datepicker",20,33),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(63,"mat-form-field",24),h.\u0275\u0275elementStart(64,"input",34),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.passportPlace=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(65,"mat-form-field",24),h.\u0275\u0275elementStart(66,"input",35),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.passportExpirationDate=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(67,"mat-datepicker-toggle",19),h.\u0275\u0275element(68,"mat-datepicker",20,36),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(70,"div",7),h.\u0275\u0275elementStart(71,"mat-form-field",24),h.\u0275\u0275elementStart(72,"input",37),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.drivingLicense=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(73,"mat-form-field",24),h.\u0275\u0275elementStart(74,"input",38),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.drivingLicenseDate=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(75,"mat-datepicker-toggle",19),h.\u0275\u0275element(76,"mat-datepicker",20,39),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(78,"mat-form-field",24),h.\u0275\u0275elementStart(79,"input",40),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.drivingLicensePlace=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(80,"mat-form-field",24),h.\u0275\u0275elementStart(81,"input",41),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.carPlate=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(82,"div",7),h.\u0275\u0275elementStart(83,"mat-form-field",24),h.\u0275\u0275elementStart(84,"mat-select",42),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.establishmentId=e}),h.\u0275\u0275elementStart(85,"mat-option"),h.\u0275\u0275elementStart(86,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(87,"mat-icon",14),h.\u0275\u0275text(88,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(89,at,2,2,"mat-option",15),h.\u0275\u0275pipe(90,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(91,"mat-form-field",24),h.\u0275\u0275elementStart(92,"mat-select",43),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.diploma=e}),h.\u0275\u0275elementStart(93,"mat-option"),h.\u0275\u0275elementStart(94,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(95,"mat-icon",14),h.\u0275\u0275text(96,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(97,rt,2,2,"mat-option",15),h.\u0275\u0275pipe(98,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(99,"mat-form-field",24),h.\u0275\u0275elementStart(100,"input",44),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.speciality=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(101,"mat-form-field",45),h.\u0275\u0275elementStart(102,"mat-select",46),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.pfeTelnet=e}),h.\u0275\u0275template(103,lt,2,2,"mat-option",15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(104,"mat-form-field",47),h.\u0275\u0275elementStart(105,"input",48),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.previousExperience=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(106,"mat-step",49),h.\u0275\u0275template(107,ot,1,0,"ng-template",6),h.\u0275\u0275elementStart(108,"div",7),h.\u0275\u0275elementStart(109,"div",47),h.\u0275\u0275elementStart(110,"div",7),h.\u0275\u0275template(111,st,1,0,"img",50),h.\u0275\u0275template(112,ct,1,1,"img",51),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(113,"br"),h.\u0275\u0275elementStart(114,"div",7),h.\u0275\u0275elementStart(115,"button",52),h.\u0275\u0275elementStart(116,"input",53,54),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(e),h.\u0275\u0275reference(117).value=null})("change",function(e){return t.onFileUpload(e)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(118,"span"),h.\u0275\u0275element(119,"em",55),h.\u0275\u0275text(120,"Upload "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(121,"div",56),h.\u0275\u0275elementStart(122,"div",7),h.\u0275\u0275elementStart(123,"mat-form-field",8),h.\u0275\u0275elementStart(124,"input",57),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.locationNumber=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(125,"mat-form-field",8),h.\u0275\u0275elementStart(126,"input",58),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.street=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(127,"mat-form-field",8),h.\u0275\u0275elementStart(128,"input",59),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.locationDescription=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(129,"div",7),h.\u0275\u0275elementStart(130,"mat-form-field",8),h.\u0275\u0275elementStart(131,"input",60),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.city=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(132,"mat-form-field",8),h.\u0275\u0275elementStart(133,"input",61),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.postalCode=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(134,"mat-form-field",8),h.\u0275\u0275elementStart(135,"mat-select",62),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.country=e}),h.\u0275\u0275elementStart(136,"mat-option"),h.\u0275\u0275elementStart(137,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(138,"mat-icon",14),h.\u0275\u0275text(139,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(140,mt,2,2,"mat-option",15),h.\u0275\u0275pipe(141,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(142,"div",7),h.\u0275\u0275elementStart(143,"mat-form-field",8),h.\u0275\u0275elementStart(144,"input",63),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.email=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(145,"mat-form-field",8),h.\u0275\u0275elementStart(146,"input",64),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.phone1=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(147,"mat-form-field",8),h.\u0275\u0275elementStart(148,"input",65),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.phone2=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(149,"mat-step",49),h.\u0275\u0275template(150,dt,1,0,"ng-template",6),h.\u0275\u0275elementStart(151,"div",7),h.\u0275\u0275elementStart(152,"mat-form-field",8),h.\u0275\u0275elementStart(153,"mat-select",66),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.groupId=e}),h.\u0275\u0275elementStart(154,"mat-option"),h.\u0275\u0275elementStart(155,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(156,"mat-icon",14),h.\u0275\u0275text(157,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(158,pt,2,2,"mat-option",15),h.\u0275\u0275pipe(159,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(160,"mat-form-field",8),h.\u0275\u0275elementStart(161,"mat-select",67),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.hierarchicalHead1=e}),h.\u0275\u0275elementStart(162,"mat-option"),h.\u0275\u0275elementStart(163,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(164,"mat-icon",14),h.\u0275\u0275text(165,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(166,ht,2,2,"mat-option",15),h.\u0275\u0275pipe(167,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(168,"mat-form-field",8),h.\u0275\u0275elementStart(169,"mat-select",68),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.hierarchicalHead2=e}),h.\u0275\u0275template(170,ut,2,2,"mat-option",15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(171,"div",7),h.\u0275\u0275elementStart(172,"mat-form-field",24),h.\u0275\u0275elementStart(173,"mat-select",69),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.activityId=e})("selectionChange",function(e){return t.onChangeActivity(e.value)}),h.\u0275\u0275elementStart(174,"mat-option"),h.\u0275\u0275elementStart(175,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(176,"mat-icon",14),h.\u0275\u0275text(177,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(178,gt,2,2,"mat-option",15),h.\u0275\u0275pipe(179,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(180,"mat-form-field",24),h.\u0275\u0275elementStart(181,"mat-select",70),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.departement=e}),h.\u0275\u0275template(182,yt,2,2,"mat-option",15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(183,"mat-form-field",24),h.\u0275\u0275elementStart(184,"mat-select",71),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.wheris=e}),h.\u0275\u0275elementStart(185,"mat-option"),h.\u0275\u0275elementStart(186,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(187,"mat-icon",14),h.\u0275\u0275text(188,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(189,ft,2,2,"mat-option",15),h.\u0275\u0275pipe(190,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(191,"mat-form-field",24),h.\u0275\u0275elementStart(192,"mat-select",72),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.companyId=e})("selectionChange",function(e){return t.onChangeCompany(e.value)}),h.\u0275\u0275elementStart(193,"mat-option"),h.\u0275\u0275elementStart(194,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(195,"mat-icon",14),h.\u0275\u0275text(196,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(197,vt,2,2,"mat-option",15),h.\u0275\u0275pipe(198,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(199,"div",7),h.\u0275\u0275elementStart(200,"mat-form-field",24),h.\u0275\u0275elementStart(201,"mat-select",73),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.qualification=e}),h.\u0275\u0275elementStart(202,"mat-option"),h.\u0275\u0275elementStart(203,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(204,"mat-icon",14),h.\u0275\u0275text(205,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(206,St,2,2,"mat-option",15),h.\u0275\u0275pipe(207,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(208,"mat-form-field",24),h.\u0275\u0275elementStart(209,"mat-select",74),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.functionId=e}),h.\u0275\u0275elementStart(210,"mat-option"),h.\u0275\u0275elementStart(211,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(212,"mat-icon",14),h.\u0275\u0275text(213,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(214,Ct,2,2,"mat-option",15),h.\u0275\u0275pipe(215,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(216,"mat-form-field",24),h.\u0275\u0275elementStart(217,"mat-select",75),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.gradeId=e}),h.\u0275\u0275elementStart(218,"mat-option"),h.\u0275\u0275elementStart(219,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(220,"mat-icon",14),h.\u0275\u0275text(221,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(222,Et,2,2,"mat-option",15),h.\u0275\u0275pipe(223,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(224,"mat-form-field",24),h.\u0275\u0275elementStart(225,"mat-select",76),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.categoryId=e}),h.\u0275\u0275template(226,xt,2,2,"mat-option",15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(227,"div",7),h.\u0275\u0275elementStart(228,"mat-form-field",24),h.\u0275\u0275elementStart(229,"mat-select",77),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.contractType=e})("selectionChange",function(e){return t.onChangeContract(e.value)}),h.\u0275\u0275elementStart(230,"mat-option"),h.\u0275\u0275elementStart(231,"ngx-mat-select-search",13),h.\u0275\u0275elementStart(232,"mat-icon",14),h.\u0275\u0275text(233,"close"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(234,bt,2,2,"mat-option",15),h.\u0275\u0275pipe(235,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(236,"mat-form-field",24),h.\u0275\u0275elementStart(237,"input",78),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.dateEntry=e})("dateChange",function(){return t.onChangeEntryDate()}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(238,"mat-datepicker-toggle",19),h.\u0275\u0275element(239,"mat-datepicker",20,79),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(241,"mat-form-field",24),h.\u0275\u0275elementStart(242,"input",80),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.contractDateEnd=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(243,"mat-datepicker-toggle",19),h.\u0275\u0275element(244,"mat-datepicker",20,81),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(246,"mat-form-field",24),h.\u0275\u0275elementStart(247,"input",82),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.dateExit=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(248,"mat-datepicker-toggle",19),h.\u0275\u0275element(249,"mat-datepicker",20,83),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(251,"div",7),h.\u0275\u0275elementStart(252,"mat-form-field",8),h.\u0275\u0275elementStart(253,"input",84),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.cnss=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(254,"mat-form-field",8),h.\u0275\u0275elementStart(255,"input",85),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.insurance=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(256,"mat-form-field",8),h.\u0275\u0275elementStart(257,"input",86),h.\u0275\u0275listener("ngModelChange",function(e){return t.employee.rib=e}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(258,"div",87),h.\u0275\u0275elementStart(259,"button",88),h.\u0275\u0275listener("click",function(){return t.save()}),h.\u0275\u0275text(260,"Save "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(261,"button",89),h.\u0275\u0275listener("click",function(){return t.cancel()}),h.\u0275\u0275text(262,"Cancel"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&e){const e=h.\u0275\u0275reference(34),n=h.\u0275\u0275reference(47),i=h.\u0275\u0275reference(54),a=h.\u0275\u0275reference(62),r=h.\u0275\u0275reference(69),l=h.\u0275\u0275reference(77),o=h.\u0275\u0275reference(240),s=h.\u0275\u0275reference(245),c=h.\u0275\u0275reference(250);h.\u0275\u0275advance(4),h.\u0275\u0275property("linear",t.isLinear),h.\u0275\u0275advance(1),h.\u0275\u0275property("stepControl",t.firstFormGroup)("editable",!0),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",t.employee.userNumber),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.firstName),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.lastName),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.nationality),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.nationalityFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(22,150,t.filteredNationalities)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.gender)("ngModelOptions",h.\u0275\u0275pureFunction0(176,It)),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.genders),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.familyState)("ngModelOptions",h.\u0275\u0275pureFunction0(177,It)),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.familyStatuses),h.\u0275\u0275advance(3),h.\u0275\u0275property("matDatepicker",e)("ngModel",t.employee.birthday),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",e),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.birthPlace),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.militaryService)("ngModelOptions",h.\u0275\u0275pureFunction0(178,It)),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.militaryStatuses),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.cinNumber),h.\u0275\u0275advance(2),h.\u0275\u0275property("matDatepicker",n)("ngModel",t.employee.cinDate),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",n),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.cinPlace),h.\u0275\u0275advance(2),h.\u0275\u0275property("matDatepicker",i)("ngModel",t.employee.visaExpirationDate),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",i),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",t.employee.passport),h.\u0275\u0275advance(2),h.\u0275\u0275property("matDatepicker",a)("ngModel",t.employee.passportDate),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",a),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.passportPlace),h.\u0275\u0275advance(2),h.\u0275\u0275property("matDatepicker",r)("ngModel",t.employee.passportExpirationDate),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",r),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",t.employee.drivingLicense),h.\u0275\u0275advance(2),h.\u0275\u0275property("matDatepicker",l)("ngModel",t.employee.drivingLicenseDate),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",l),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.drivingLicensePlace),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.carPlate),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.establishmentId),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.establishmentFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(90,152,t.filteredEstablishments)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.diploma),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.diplomaFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(98,154,t.filteredDiplomas)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.speciality),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.pfeTelnet)("ngModelOptions",h.\u0275\u0275pureFunction0(179,It)),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.pfes),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.previousExperience),h.\u0275\u0275advance(1),h.\u0275\u0275property("stepControl",t.secondFormGroup),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngIf",null===t.employee.picture),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",null!==t.employee.picture),h.\u0275\u0275advance(12),h.\u0275\u0275property("ngModel",t.employee.locationNumber),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.street),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.locationDescription),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.city),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.postalCode),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.country),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.countryFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(141,156,t.filteredCountries)),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",t.employee.email),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.phone1),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.phone2),h.\u0275\u0275advance(1),h.\u0275\u0275property("stepControl",t.thirdFormGroup),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",t.employee.groupId),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.groupFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(159,158,t.filteredGroups)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.hierarchicalHead1),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.hierachicalHeadFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(167,160,t.filteredHierachicalHeads)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.hierarchicalHead2),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.departmentHeads),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.activityId),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.activityFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(179,162,t.filteredActivities)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.departement),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.departments),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.wheris),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.siteFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(190,164,t.filteredSites)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.companyId),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.companyFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(198,166,t.filteredCompanies)),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",t.employee.qualification),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.qualificationFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(207,168,t.filteredQualifications)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.functionId),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.functionFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(215,170,t.filteredFunctions)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.gradeId),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.gradeFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(223,172,t.filteredGrades)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.categoryId),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngForOf",t.categories),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.employee.contractType),h.\u0275\u0275advance(2),h.\u0275\u0275property("formControl",t.contractTypeFilterCtrl)("placeholderLabel","Search")("noEntriesFoundLabel","No options found"),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",h.\u0275\u0275pipeBind1(235,174,t.filteredContractTypes)),h.\u0275\u0275advance(3),h.\u0275\u0275property("matDatepicker",o)("ngModel",t.employee.dateEntry),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",o),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(3),h.\u0275\u0275property("matDatepicker",s)("ngModel",t.employee.contractDateEnd),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",s),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(3),h.\u0275\u0275property("matDatepicker",c)("ngModel",t.employee.dateExit),h.\u0275\u0275advance(1),h.\u0275\u0275property("for",c),h.\u0275\u0275advance(1),h.\u0275\u0275property("startView","month"),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",t.employee.cnss),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.insurance),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngModel",t.employee.rib)}},directives:[a.\u0275NgNoValidate,a.NgControlStatusGroup,a.NgForm,We.Vq,We.C0,We.VY,I.KE,M.Nt,a.DefaultValueAccessor,a.RequiredValidator,a.NgControlStatus,a.NgModel,Fe.gD,r.ey,Ke.nu,a.FormControlDirective,Je.Hw,Ke.w5,i.NgForOf,F.hl,F.nW,I.R9,F.Mq,a.NumberValueAccessor,i.NgIf],pipes:[i.AsyncPipe],styles:['.mat-step-icon[_ngcontent-%COMP%]{background-color:#448aff;color:#fff}mat-option.mat-selected[_ngcontent-%COMP%]{background-color:#448aff}.card-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{float:right;cursor:pointer;font-size:20px}.disabled[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{cursor:not-allowed;color:gray}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:5px!important;padding:0!important;overflow:hidden}.modal_body[_ngcontent-%COMP%]{overflow:hidden}.modal_header[_ngcontent-%COMP%]{height:50px;background-color:#448aff;padding:18px 15px}.modal_header[_ngcontent-%COMP%]   .modal_title[_ngcontent-%COMP%]{color:#fff;line-height:1}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{float:right;cursor:pointer}.modal_header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:red}.modal_header[_ngcontent-%COMP%]   .modal-close-disabled[_ngcontent-%COMP%]{cursor:not-allowed;color:#dcdcdc}.modal_header[_ngcontent-%COMP%]   .modal-close-disabled[_ngcontent-%COMP%]:hover{color:#dcdcdc}.file-upload-button[_ngcontent-%COMP%]{overflow:hidden;position:relative}.file-upload-button[_ngcontent-%COMP%]:after{content:"Upload";color:#fff;font-size:1.5rem;text-align:center}.file-upload-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;left:0;opacity:0;position:absolute;top:0}']}),e})();const Ft=[{path:"",data:{title:"Employee",function:v.FI.Employees,status:!1},canActivate:[S.a1],children:[{canActivate:[S.a1],path:"add",component:Mt,data:{title:"Add Employee",function:v.FI.Employees,status:!0}},{canActivate:[S.a1],path:"employees",component:Ie,data:{title:"Employees",function:v.FI.Employees,status:!0}},{canActivate:[S.a1],path:"edit/:userId",component:Mt,data:{title:"Edit Employee",icon:"icon-home",function:v.FI.Employees,status:!0}}]}];let Dt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=h.\u0275\u0275defineInjector({imports:[[f.Bz.forChild(Ft)],f.Bz]}),e})();const wt={parse:{dateInput:"L"},display:{dateInput:"L",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Pt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=h.\u0275\u0275defineInjector({providers:[d.G,p.n4,{provide:r.Ad,useValue:"fr-FR"},{provide:r._A,useClass:o.t7,deps:[r.Ad]},{provide:r.sG,useValue:wt}],imports:[[i.CommonModule,s.m,a.FormsModule,a.ReactiveFormsModule,s.q,l.Is,y,u,Dt]]}),e})()},55750:function(e,t,n){n.d(t,{Ry:function(){return i.R}});var i=n(34239);n(62758)},34239:function(e,t,n){n.d(t,{R:function(){return r}});var i=n(37716),a=n(10337);let r=(()=>{class e{constructor(e){this.searchFilterService=e}transform(e,t,n){if(this.startIndex=t*(n*this.searchFilterService.rowSpan)+1,this.endIndex=n*this.searchFilterService.rowSpan*(t+1),null!=e)return this.searchFilterService.showingDataLastFilter=e.slice(this.startIndex-1,this.endIndex),this.searchFilterService.resultChanged.next(),e.slice(this.startIndex-1,this.endIndex)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(a.nJ,16))},e.\u0275pipe=i.\u0275\u0275definePipe({name:"paginator",type:e,pure:!0}),e})()},39924:function(e,t,n){n.d(t,{J:function(){return h}});var i=n(37716),a=n(99692),r=n(10337),l=n(98295),o=n(67441),s=n(3679),c=n(38583),m=n(72458);function d(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"mat-option",6),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;i.\u0275\u0275property("value",e),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(e)}}const p=function(){return[6,12,24,60,120]};let h=(()=>{class e{constructor(e){this.searchFilterService=e,this.disabled=!1,this.hidePageSize=!1,this.showFirstLastButtons=!1,this.page=new i.EventEmitter}set pageIndexChanged(e){this.pageIndex=e,this.updateGoto()}set lengthChanged(e){this.length=e,this.updateGoto()}set pageSizeChanged(e){this.pageSize=e,this.updateGoto()}ngOnInit(){this.updateGoto()}onPaginateChange(e){this.searchFilterService.pageIndex=e.pageIndex,this.searchFilterService.pageSize=e.pageSize,this.length=e.length,this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.updateGoto(),this.emitPageEvent(e)}updateGoto(){this.goTo=(this.pageIndex||0)+1,this.pageNumbers=[];const e=Math.ceil(this.length/this.pageSize);for(let t=1;t<=e;t++)this.pageNumbers.push(t)}goToChange(){this.paginator.pageIndex=this.goTo-1,this.searchFilterService.pageIndex=this.paginator.pageIndex,this.searchFilterService.pageSize=this.paginator.pageSize,this.emitPageEvent({length:this.paginator.length,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize})}emitPageEvent(e){this.page.next(e)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(r.nJ))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["app-paginator"]],viewQuery:function(e,t){if(1&e&&i.\u0275\u0275viewQuery(a.NW,7),2&e){let e;i.\u0275\u0275queryRefresh(e=i.\u0275\u0275loadQuery())&&(t.paginator=e.first)}},inputs:{length:"length",pageIndex:"pageIndex",pageSize:"pageSize",disabled:"disabled",hidePageSize:"hidePageSize",pageSizeOptions:"pageSizeOptions",showFirstLastButtons:"showFirstLastButtons",pageIndexChanged:["pageIndex","pageIndexChanged"],lengthChanged:["length","lengthChanged"],pageSizeChanged:["pageSize","pageSizeChanged"]},outputs:{page:"page"},decls:8,vars:8,consts:[[1,"d-flex"],[3,"length","pageSize","pageIndex","pageSizeOptions","showFirstLastButtons","page"],[1,"go-to-container"],[1,"go-to-label"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementStart(1,"mat-paginator",1),i.\u0275\u0275listener("page",function(e){return t.onPaginateChange(e)}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(2,"div",2),i.\u0275\u0275elementStart(3,"div",3),i.\u0275\u0275text(4,"Go To: "),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"mat-form-field"),i.\u0275\u0275elementStart(6,"mat-select",4),i.\u0275\u0275listener("ngModelChange",function(e){return t.goTo=e})("selectionChange",function(){return t.goToChange()}),i.\u0275\u0275template(7,d,2,2,"mat-option",5),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("length",t.length)("pageSize",t.pageSize)("pageIndex",t.pageIndex)("pageSizeOptions",i.\u0275\u0275pureFunction0(7,p))("showFirstLastButtons",!0),i.\u0275\u0275advance(5),i.\u0275\u0275property("ngModel",t.goTo),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.pageNumbers))},directives:[a.NW,l.KE,o.gD,s.NgControlStatus,s.NgModel,c.NgForOf,m.ey],styles:['.mat-paginator[_ngcontent-%COMP%]{width:100%;float:right}.d-flex[_ngcontent-%COMP%]{display:flex}  .mat-select-trigger{font-size:12px}  .mat-option{font-size:12px}.go-to-container[_ngcontent-%COMP%]{display:flex;align-items:baseline;background:white}.go-to-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:56px;margin:6px 4px 0;font-size:12px;font-family:Roboto,"Helvetica Neue",sans-serif}.go-to-container[_ngcontent-%COMP%]   .go-to-label[_ngcontent-%COMP%]{width:36px;margin:0 4px;font-size:12px;color:#0000008a;font-family:Roboto,"Helvetica Neue",sans-serif}']}),e})()}}]);